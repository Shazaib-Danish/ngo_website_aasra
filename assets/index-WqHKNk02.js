(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function mm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gg={exports:{}},xc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function HD(){if(Db)return xc;Db=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:l}}return xc.Fragment=e,xc.jsx=t,xc.jsxs=t,xc}var Ob;function GD(){return Ob||(Ob=1,Gg.exports=HD()),Gg.exports}var E=GD(),Yg={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function YD(){if(kb)return Ve;kb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,O={};function B(z,ie,R){this.props=z,this.context=ie,this.refs=O,this.updater=R||D}B.prototype.isReactComponent={},B.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},B.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function J(){}J.prototype=B.prototype;function q(z,ie,R){this.props=z,this.context=ie,this.refs=O,this.updater=R||D}var he=q.prototype=new J;he.constructor=q,M(he,B.prototype),he.isPureReactComponent=!0;var fe=Array.isArray;function K(){}var S={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function C(z,ie,R){var _e=R.ref;return{$$typeof:n,type:z,key:ie,ref:_e!==void 0?_e:null,props:R}}function U(z,ie){return C(z.type,ie,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function L(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(R){return ie[R]})}var k=/\/+/g;function xe(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):ie.toString(36)}function me(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(K,K):(z.status="pending",z.then(function(ie){z.status==="pending"&&(z.status="fulfilled",z.value=ie)},function(ie){z.status==="pending"&&(z.status="rejected",z.reason=ie)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function X(z,ie,R,_e,Re){var Se=typeof z;(Se==="undefined"||Se==="boolean")&&(z=null);var ze=!1;if(z===null)ze=!0;else switch(Se){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(z.$$typeof){case n:case e:ze=!0;break;case y:return ze=z._init,X(ze(z._payload),ie,R,_e,Re)}}if(ze)return Re=Re(z),ze=_e===""?"."+xe(z,0):_e,fe(Re)?(R="",ze!=null&&(R=ze.replace(k,"$&/")+"/"),X(Re,ie,R,"",function(zn){return zn})):Re!=null&&(V(Re)&&(Re=U(Re,R+(Re.key==null||z&&z.key===Re.key?"":(""+Re.key).replace(k,"$&/")+"/")+ze)),ie.push(Re)),1;ze=0;var dt=_e===""?".":_e+":";if(fe(z))for(var rt=0;rt<z.length;rt++)_e=z[rt],Se=dt+xe(_e,rt),ze+=X(_e,ie,R,Se,Re);else if(rt=b(z),typeof rt=="function")for(z=rt.call(z),rt=0;!(_e=z.next()).done;)_e=_e.value,Se=dt+xe(_e,rt++),ze+=X(_e,ie,R,Se,Re);else if(Se==="object"){if(typeof z.then=="function")return X(me(z),ie,R,_e,Re);throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ce(z,ie,R){if(z==null)return z;var _e=[],Re=0;return X(z,_e,"","",function(Se){return ie.call(R,Se,Re++)}),_e}function be(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(R){(z._status===0||z._status===-1)&&(z._status=1,z._result=R)},function(R){(z._status===0||z._status===-1)&&(z._status=2,z._result=R)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var Me=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},P={map:ce,forEach:function(z,ie,R){ce(z,function(){ie.apply(this,arguments)},R)},count:function(z){var ie=0;return ce(z,function(){ie++}),ie},toArray:function(z){return ce(z,function(ie){return ie})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ve.Activity=_,Ve.Children=P,Ve.Component=B,Ve.Fragment=t,Ve.Profiler=a,Ve.PureComponent=q,Ve.StrictMode=r,Ve.Suspense=f,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(z){return S.H.useMemoCache(z)}},Ve.cache=function(z){return function(){return z.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(z,ie,R){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var _e=M({},z.props),Re=z.key;if(ie!=null)for(Se in ie.key!==void 0&&(Re=""+ie.key),ie)!N.call(ie,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ie.ref===void 0||(_e[Se]=ie[Se]);var Se=arguments.length-2;if(Se===1)_e.children=R;else if(1<Se){for(var ze=Array(Se),dt=0;dt<Se;dt++)ze[dt]=arguments[dt+2];_e.children=ze}return C(z.type,Re,_e)},Ve.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ve.createElement=function(z,ie,R){var _e,Re={},Se=null;if(ie!=null)for(_e in ie.key!==void 0&&(Se=""+ie.key),ie)N.call(ie,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Re[_e]=ie[_e]);var ze=arguments.length-2;if(ze===1)Re.children=R;else if(1<ze){for(var dt=Array(ze),rt=0;rt<ze;rt++)dt[rt]=arguments[rt+2];Re.children=dt}if(z&&z.defaultProps)for(_e in ze=z.defaultProps,ze)Re[_e]===void 0&&(Re[_e]=ze[_e]);return C(z,Se,Re)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(z){return{$$typeof:h,render:z}},Ve.isValidElement=V,Ve.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:be}},Ve.memo=function(z,ie){return{$$typeof:m,type:z,compare:ie===void 0?null:ie}},Ve.startTransition=function(z){var ie=S.T,R={};S.T=R;try{var _e=z(),Re=S.S;Re!==null&&Re(R,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(K,Me)}catch(Se){Me(Se)}finally{ie!==null&&R.types!==null&&(ie.types=R.types),S.T=ie}},Ve.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Ve.use=function(z){return S.H.use(z)},Ve.useActionState=function(z,ie,R){return S.H.useActionState(z,ie,R)},Ve.useCallback=function(z,ie){return S.H.useCallback(z,ie)},Ve.useContext=function(z){return S.H.useContext(z)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(z,ie){return S.H.useDeferredValue(z,ie)},Ve.useEffect=function(z,ie){return S.H.useEffect(z,ie)},Ve.useEffectEvent=function(z){return S.H.useEffectEvent(z)},Ve.useId=function(){return S.H.useId()},Ve.useImperativeHandle=function(z,ie,R){return S.H.useImperativeHandle(z,ie,R)},Ve.useInsertionEffect=function(z,ie){return S.H.useInsertionEffect(z,ie)},Ve.useLayoutEffect=function(z,ie){return S.H.useLayoutEffect(z,ie)},Ve.useMemo=function(z,ie){return S.H.useMemo(z,ie)},Ve.useOptimistic=function(z,ie){return S.H.useOptimistic(z,ie)},Ve.useReducer=function(z,ie,R){return S.H.useReducer(z,ie,R)},Ve.useRef=function(z){return S.H.useRef(z)},Ve.useState=function(z){return S.H.useState(z)},Ve.useSyncExternalStore=function(z,ie,R){return S.H.useSyncExternalStore(z,ie,R)},Ve.useTransition=function(){return S.H.useTransition()},Ve.version="19.2.4",Ve}var Vb;function A_(){return Vb||(Vb=1,Yg.exports=YD()),Yg.exports}var te=A_();const KD=mm(te);var Kg={exports:{}},vc={},Qg={exports:{}},$g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function QD(){return Mb||(Mb=1,(function(n){function e(X,ce){var be=X.length;X.push(ce);e:for(;0<be;){var Me=be-1>>>1,P=X[Me];if(0<a(P,ce))X[Me]=ce,X[be]=P,be=Me;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ce=X[0],be=X.pop();if(be!==ce){X[0]=be;e:for(var Me=0,P=X.length,z=P>>>1;Me<z;){var ie=2*(Me+1)-1,R=X[ie],_e=ie+1,Re=X[_e];if(0>a(R,be))_e<P&&0>a(Re,R)?(X[Me]=Re,X[_e]=be,Me=_e):(X[Me]=R,X[ie]=be,Me=ie);else if(_e<P&&0>a(Re,be))X[Me]=Re,X[_e]=be,Me=_e;else break e}}return ce}function a(X,ce){var be=X.sortIndex-ce.sortIndex;return be!==0?be:X.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],y=1,_=null,v=3,b=!1,D=!1,M=!1,O=!1,B=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function he(X){for(var ce=t(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=X)r(m),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=t(m)}}function fe(X){if(M=!1,he(X),!D)if(t(f)!==null)D=!0,K||(K=!0,L());else{var ce=t(m);ce!==null&&me(fe,ce.startTime-X)}}var K=!1,S=-1,N=5,C=-1;function U(){return O?!0:!(n.unstable_now()-C<N)}function V(){if(O=!1,K){var X=n.unstable_now();C=X;var ce=!0;try{e:{D=!1,M&&(M=!1,J(S),S=-1),b=!0;var be=v;try{t:{for(he(X),_=t(f);_!==null&&!(_.expirationTime>X&&U());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,v=_.priorityLevel;var P=Me(_.expirationTime<=X);if(X=n.unstable_now(),typeof P=="function"){_.callback=P,he(X),ce=!0;break t}_===t(f)&&r(f),he(X)}else r(f);_=t(f)}if(_!==null)ce=!0;else{var z=t(m);z!==null&&me(fe,z.startTime-X),ce=!1}}break e}finally{_=null,v=be,b=!1}ce=void 0}}finally{ce?L():K=!1}}}var L;if(typeof q=="function")L=function(){q(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,xe=k.port2;k.port1.onmessage=V,L=function(){xe.postMessage(null)}}else L=function(){B(V,0)};function me(X,ce){S=B(function(){X(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(X){switch(v){case 1:case 2:case 3:var ce=3;break;default:ce=v}var be=v;v=ce;try{return X()}finally{v=be}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var be=v;v=X;try{return ce()}finally{v=be}},n.unstable_scheduleCallback=function(X,ce,be){var Me=n.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Me+be:Me):be=Me,X){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=be+P,X={id:y++,callback:ce,priorityLevel:X,startTime:be,expirationTime:P,sortIndex:-1},be>Me?(X.sortIndex=be,e(m,X),t(f)===null&&X===t(m)&&(M?(J(S),S=-1):M=!0,me(fe,be-Me))):(X.sortIndex=P,e(f,X),D||b||(D=!0,K||(K=!0,L()))),X},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(X){var ce=v;return function(){var be=v;v=ce;try{return X.apply(this,arguments)}finally{v=be}}}})($g)),$g}var Pb;function $D(){return Pb||(Pb=1,Qg.exports=QD()),Qg.exports}var Xg={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function XD(){if(Lb)return Sn;Lb=1;var n=A_();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,y)},Sn.flushSync=function(f){var m=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=y,r.d.f()}},Sn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Sn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Sn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:b}):y==="script"&&r.d.X(f,{crossOrigin:_,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Sn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Sn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);r.d.L(f,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Sn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Sn.requestFormReset=function(f){r.d.r(f)},Sn.unstable_batchedUpdates=function(f,m){return f(m)},Sn.useFormState=function(f,m,y){return u.H.useFormState(f,m,y)},Sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Sn.version="19.2.4",Sn}var jb;function WD(){if(jb)return Xg.exports;jb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xg.exports=XD(),Xg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function JD(){if(Ub)return vc;Ub=1;var n=$D(),e=A_(),t=WD();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return f(p),i;if(g===c)return f(p),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=p,c=g;else{for(var T=!1,A=p.child;A;){if(A===o){T=!0,o=p,c=g;break}if(A===c){T=!0,c=p,o=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===o){T=!0,o=g,c=p;break}if(A===c){T=!0,c=g,o=p;break}A=A.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),q=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case B:return"Profiler";case O:return"StrictMode";case fe:return"Suspense";case K:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case q:return i.displayName||"Context";case J:return(i._context.displayName||"Context")+".Consumer";case he:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case S:return s=i.displayName||null,s!==null?s:xe(i.type)||"Memo";case N:s=i._payload,i=i._init;try{return xe(i(s))}catch{}}return null}var me=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Me=[],P=-1;function z(i){return{current:i}}function ie(i){0>P||(i.current=Me[P],Me[P]=null,P--)}function R(i,s){P++,Me[P]=i.current,i.current=s}var _e=z(null),Re=z(null),Se=z(null),ze=z(null);function dt(i,s){switch(R(Se,s),R(Re,i),R(_e,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?eb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=eb(s),i=tb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(_e),R(_e,i)}function rt(){ie(_e),ie(Re),ie(Se)}function zn(i){i.memoizedState!==null&&R(ze,i);var s=_e.current,o=tb(s,i.type);s!==o&&(R(Re,i),R(_e,o))}function Mr(i){Re.current===i&&(ie(_e),ie(Re)),ze.current===i&&(ie(ze),gc._currentValue=be)}var fs,ds;function gr(i){if(fs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);fs=s&&s[1]||"",ds=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+i+ds}var ms=!1;function ei(i,s){if(!i||ms)return"";ms=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ne){var W=ne}Reflect.construct(i,[],le)}else{try{le.call()}catch(ne){W=ne}i.call(le.prototype)}}else{try{throw Error()}catch(ne){W=ne}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ne){if(ne&&W&&typeof ne.stack=="string")return[ne.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var j=T.split(`
`),$=A.split(`
`);for(p=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;if(c===j.length||p===$.length)for(c=j.length-1,p=$.length-1;1<=c&&0<=p&&j[c]!==$[p];)p--;for(;1<=c&&0<=p;c--,p--)if(j[c]!==$[p]){if(c!==1||p!==1)do if(c--,p--,0>p||j[c]!==$[p]){var re=`
`+j[c].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=c&&0<=p);break}}}finally{ms=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?gr(o):""}function ps(i,s){switch(i.tag){case 26:case 27:case 5:return gr(i.type);case 16:return gr("Lazy");case 13:return i.child!==s&&s!==null?gr("Suspense Fallback"):gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return ei(i.type,!1);case 11:return ei(i.type.render,!1);case 1:return ei(i.type,!0);case 31:return gr("Activity");default:return""}}function va(i){try{var s="",o=null;do s+=ps(i,o),o=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ot=Object.prototype.hasOwnProperty,Pt=n.unstable_scheduleCallback,ti=n.unstable_cancelCallback,xu=n.unstable_shouldYield,Rl=n.unstable_requestPaint,mn=n.unstable_now,Mi=n.unstable_getCurrentPriorityLevel,se=n.unstable_ImmediatePriority,pe=n.unstable_UserBlockingPriority,Ce=n.unstable_NormalPriority,Fe=n.unstable_LowPriority,Ze=n.unstable_IdlePriority,wn=n.log,yr=n.unstable_setDisableYieldValue,Bt=null,kt=null;function on(i){if(typeof wn=="function"&&yr(i),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Bt,i)}catch{}}var $e=Math.clz32?Math.clz32:Bh,Pr=Math.log,An=Math.LN2;function Bh(i){return i>>>=0,i===0?32:31-(Pr(i)/An|0)|0}var ni=256,ba=262144,Kt=4194304;function ri(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ii(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?p=ri(c):(T&=A,T!==0?p=ri(T):o||(o=A&~i,o!==0&&(p=ri(o))))):(A=c&~g,A!==0?p=ri(A):T!==0?p=ri(T):o||(o=c&~i,o!==0&&(p=ri(o)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:p}function Lr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function $m(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zh(){var i=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),i}function si(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ta(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Xm(i,s,o,c,p,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,j=i.expirationTimes,$=i.hiddenUpdates;for(o=T&~o;0<o;){var re=31-$e(o),le=1<<re;A[re]=0,j[re]=-1;var W=$[re];if(W!==null)for($[re]=null,re=0;re<W.length;re++){var ne=W[re];ne!==null&&(ne.lane&=-536870913)}o&=~le}c!==0&&wa(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~s))}function wa(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-$e(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function vu(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-$e(o),p=1<<c;p&s|i[c]&s&&(i[c]|=s),o&=~p}}function bu(i,s){var o=s&-s;return o=(o&42)!==0?1:Aa(o),(o&(i.suspendedLanes|s))!==0?0:o}function Aa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Pi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fh(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:wb(i.type))}function jr(i,s){var o=ce.p;try{return ce.p=i,s()}finally{ce.p=o}}var Ur=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Ur,un="__reactProps$"+Ur,ai="__reactContainer$"+Ur,Cl="__reactEvents$"+Ur,Wm="__reactListeners$"+Ur,qh="__reactHandles$"+Ur,Hh="__reactResources$"+Ur,li="__reactMarker$"+Ur;function Dl(i){delete i[Qt],delete i[un],delete i[Cl],delete i[Wm],delete i[qh]}function oi(i){var s=i[Qt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[ai]||o[Qt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=ob(i);i!==null;){if(o=i[Qt])return o;i=ob(i)}return s}i=o,o=i.parentNode}return null}function _r(i){if(i=i[Qt]||i[ai]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function nr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ui(i){var s=i[Hh];return s||(s=i[Hh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function $t(i){i[li]=!0}var Tu=new Set,wu={};function ci(i,s){hi(i,s),hi(i+"Capture",s)}function hi(i,s){for(wu[i]=s,i=0;i<s.length;i++)Tu.add(s[i])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Su={},Iu={};function Gh(i){return Ot.call(Iu,i)?!0:Ot.call(Su,i)?!1:Au.test(i)?Iu[i]=!0:(Su[i]=!0,!1)}function Ol(i,s,o){if(Gh(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function rr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Xt(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function gs(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nu(i,s,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ot(i){if(!i._valueTracker){var s=gs(i)?"checked":"value";i._valueTracker=Nu(i,s,""+i[s])}}function Sa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=gs(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function fi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ia=/[\n"\\]/g;function Fn(i){return i.replace(Ia,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function kl(i,s,o,c,p,g,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?Ru(i,T,cn(s)):o!=null?Ru(i,T,cn(o)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+cn(A):i.removeAttribute("name")}function Yh(i,s,o,c,p,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){ot(i);return}o=o!=null?""+cn(o):"",s=s!=null?""+cn(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),ot(i)}function Ru(i,s,o){s==="number"&&fi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ys(i,s,o,c){if(i=i.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=s.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&c&&(i[o].defaultSelected=!0)}else{for(o=""+cn(o),s=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Kh(i,s,o){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+cn(o):""}function _s(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(me(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=cn(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),ot(i)}function qn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Qh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||Qh.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Du(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&o[p]!==c&&Cu(i,p,c)}else for(var g in s)s.hasOwnProperty(g)&&Cu(i,g,s[g])}function Vl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ml(i){return Es.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Br(){}var Ou=null;function Er(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xs=null,di=null;function Na(i){var s=_r(i);if(s&&(i=s.stateNode)){var o=i[un]||null;e:switch(i=s.stateNode,s.type){case"input":if(kl(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Fn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var p=c[un]||null;if(!p)throw Error(r(90));kl(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&Sa(c)}break e;case"textarea":Kh(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ys(i,!!o.multiple,s,!1)}}}var Pl=!1;function vs(i,s,o){if(Pl)return i(s,o);Pl=!0;try{var c=i(s);return c}finally{if(Pl=!1,(xs!==null||di!==null)&&(qf(),xs&&(s=xs,i=di,di=xs=null,Na(s),i)))for(s=0;s<i.length;s++)Na(i[s])}}function zr(i,s){var o=i.stateNode;if(o===null)return null;var c=o[un]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ra=!1;if(xr)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Ra=!1}var mi=null,ku=null,Ca=null;function Vu(){if(Ca)return Ca;var i,s=ku,o=s.length,c,p="value"in mi?mi.value:mi.textContent,g=p.length;for(i=0;i<o&&s[i]===p[i];i++);var T=o-i;for(c=1;c<=T&&s[o-c]===p[g-c];c++);return Ca=p.slice(i,1<c?1-c:void 0)}function Da(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Li(){return!0}function Fr(){return!1}function pn(i){function s(o,c,p,g,T){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Li:Fr,this.isPropagationStopped=Fr,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),s}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=pn(ji),bs=_({},ji,{view:0,detail:0}),Mu=pn(bs),Ts,Ll,gi,jl=_({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gi&&(gi&&i.type==="mousemove"?(Ts=i.screenX-gi.screenX,Ll=i.screenY-gi.screenY):Ll=Ts=0,gi=i),Ts)},movementY:function(i){return"movementY"in i?i.movementY:Ll}}),Pu=pn(jl),Oa=_({},jl,{dataTransfer:0}),Xh=pn(Oa),Wh=_({},bs,{relatedTarget:0}),ka=pn(Wh),Lu=_({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Jh=pn(Lu),Ul=_({},ji,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Zh=pn(Ul),ef=_({},ji,{data:0}),yi=pn(ef),tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sf(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=rf[i])?!!s[i]:!1}function ws(){return sf}var kn=_({},bs,{key:function(i){if(i.key){var s=tf[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Da(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?nf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(i){return i.type==="keypress"?Da(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Da(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),af=pn(kn),lf=_({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=pn(lf),d=_({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),x=pn(d),w=_({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=pn(w),Y=_({},jl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=pn(Y),ge=_({},ji,{newState:0,oldState:0}),Pe=pn(ge),zt=[9,13,27,32],it=xr&&"CompositionEvent"in window,It=null;xr&&"documentMode"in document&&(It=document.documentMode);var vr=xr&&"TextEvent"in window&&!It,_i=xr&&(!it||It&&8<It&&11>=It),qr=" ",Hr=!1;function Va(i,s){switch(i){case"keyup":return zt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zl=!1;function mC(i,s){switch(i){case"compositionend":return Bl(s);case"keypress":return s.which!==32?null:(Hr=!0,qr);case"textInput":return i=s.data,i===qr&&Hr?null:i;default:return null}}function pC(i,s){if(zl)return i==="compositionend"||!it&&Va(i,s)?(i=Vu(),Ca=ku=mi=null,zl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _i&&s.locale!=="ko"?null:s.data;default:return null}}var gC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hx(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!gC[i.type]:s==="textarea"}function fx(i,s,o,c){xs?di?di.push(c):di=[c]:xs=c,s=Xf(s,"onChange"),0<s.length&&(o=new pi("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var ju=null,Uu=null;function yC(i){Q0(i,0)}function of(i){var s=nr(i);if(Sa(s))return i}function dx(i,s){if(i==="change")return s}var mx=!1;if(xr){var Jm;if(xr){var Zm="oninput"in document;if(!Zm){var px=document.createElement("div");px.setAttribute("oninput","return;"),Zm=typeof px.oninput=="function"}Jm=Zm}else Jm=!1;mx=Jm&&(!document.documentMode||9<document.documentMode)}function gx(){ju&&(ju.detachEvent("onpropertychange",yx),Uu=ju=null)}function yx(i){if(i.propertyName==="value"&&of(Uu)){var s=[];fx(s,Uu,i,Er(i)),vs(yC,s)}}function _C(i,s,o){i==="focusin"?(gx(),ju=s,Uu=o,ju.attachEvent("onpropertychange",yx)):i==="focusout"&&gx()}function EC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return of(Uu)}function xC(i,s){if(i==="click")return of(s)}function vC(i,s){if(i==="input"||i==="change")return of(s)}function bC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ir=typeof Object.is=="function"?Object.is:bC;function Bu(i,s){if(ir(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Ot.call(s,p)||!ir(i[p],s[p]))return!1}return!0}function _x(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ex(i,s){var o=_x(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_x(o)}}function xx(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?xx(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function vx(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=fi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=fi(i.document)}return s}function ep(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var TC=xr&&"documentMode"in document&&11>=document.documentMode,Fl=null,tp=null,zu=null,np=!1;function bx(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;np||Fl==null||Fl!==fi(c)||(c=Fl,"selectionStart"in c&&ep(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zu&&Bu(zu,c)||(zu=c,c=Xf(tp,"onSelect"),0<c.length&&(s=new pi("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Fl)))}function Ma(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var ql={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},rp={},Tx={};xr&&(Tx=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function Pa(i){if(rp[i])return rp[i];if(!ql[i])return i;var s=ql[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Tx)return rp[i]=s[o];return i}var wx=Pa("animationend"),Ax=Pa("animationiteration"),Sx=Pa("animationstart"),wC=Pa("transitionrun"),AC=Pa("transitionstart"),SC=Pa("transitioncancel"),Ix=Pa("transitionend"),Nx=new Map,ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ip.push("scrollEnd");function Gr(i,s){Nx.set(i,s),ci(s,[i])}var uf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},br=[],Hl=0,sp=0;function cf(){for(var i=Hl,s=sp=Hl=0;s<i;){var o=br[s];br[s++]=null;var c=br[s];br[s++]=null;var p=br[s];br[s++]=null;var g=br[s];if(br[s++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&Rx(o,p,g)}}function hf(i,s,o,c){br[Hl++]=i,br[Hl++]=s,br[Hl++]=o,br[Hl++]=c,sp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function ap(i,s,o,c){return hf(i,s,o,c),ff(i)}function La(i,s){return hf(i,null,null,s),ff(i)}function Rx(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&s!==null&&(p=31-$e(o),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[s]:c.push(s),s.lane=o|536870912),g):null}function ff(i){if(50<uc)throw uc=0,pg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Gl={};function IC(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(i,s,o,c){return new IC(i,s,o,c)}function lp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bi(i,s){var o=i.alternate;return o===null?(o=sr(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Cx(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function df(i,s,o,c,p,g){var T=0;if(c=i,typeof i=="function")lp(i)&&(T=1);else if(typeof i=="string")T=OD(i,o,_e.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=sr(31,o,s,p),i.elementType=C,i.lanes=g,i;case M:return ja(o.children,p,g,s);case O:T=8,p|=24;break;case B:return i=sr(12,o,s,p|2),i.elementType=B,i.lanes=g,i;case fe:return i=sr(13,o,s,p),i.elementType=fe,i.lanes=g,i;case K:return i=sr(19,o,s,p),i.elementType=K,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:T=10;break e;case J:T=9;break e;case he:T=11;break e;case S:T=14;break e;case N:T=16,c=null;break e}T=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=sr(T,o,s,p),s.elementType=i,s.type=c,s.lanes=g,s}function ja(i,s,o,c){return i=sr(7,i,c,s),i.lanes=o,i}function op(i,s,o){return i=sr(6,i,null,s),i.lanes=o,i}function Dx(i){var s=sr(18,null,null,0);return s.stateNode=i,s}function up(i,s,o){return s=sr(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ox=new WeakMap;function Tr(i,s){if(typeof i=="object"&&i!==null){var o=Ox.get(i);return o!==void 0?o:(s={value:i,source:s,stack:va(s)},Ox.set(i,s),s)}return{value:i,source:s,stack:va(s)}}var Yl=[],Kl=0,mf=null,Fu=0,wr=[],Ar=0,As=null,Ei=1,xi="";function zi(i,s){Yl[Kl++]=Fu,Yl[Kl++]=mf,mf=i,Fu=s}function kx(i,s,o){wr[Ar++]=Ei,wr[Ar++]=xi,wr[Ar++]=As,As=i;var c=Ei;i=xi;var p=32-$e(c)-1;c&=~(1<<p),o+=1;var g=32-$e(s)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,Ei=1<<32-$e(s)+p|o<<p|c,xi=g+i}else Ei=1<<g|o<<p|c,xi=i}function cp(i){i.return!==null&&(zi(i,1),kx(i,1,0))}function hp(i){for(;i===mf;)mf=Yl[--Kl],Yl[Kl]=null,Fu=Yl[--Kl],Yl[Kl]=null;for(;i===As;)As=wr[--Ar],wr[Ar]=null,xi=wr[--Ar],wr[Ar]=null,Ei=wr[--Ar],wr[Ar]=null}function Vx(i,s){wr[Ar++]=Ei,wr[Ar++]=xi,wr[Ar++]=As,Ei=s.id,xi=s.overflow,As=i}var gn=null,Tt=null,Xe=!1,Ss=null,Sr=!1,fp=Error(r(519));function Is(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qu(Tr(s,i)),fp}function Mx(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Qt]=i,s[un]=c,o){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(o=0;o<hc.length;o++)He(hc[o],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),Yh(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),_s(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||J0(s.textContent,o)?(c.popover!=null&&(He("beforetoggle",s),He("toggle",s)),c.onScroll!=null&&He("scroll",s),c.onScrollEnd!=null&&He("scrollend",s),c.onClick!=null&&(s.onclick=Br),s=!0):s=!1,s||Is(i,!0)}function Px(i){for(gn=i.return;gn;)switch(gn.tag){case 5:case 31:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:gn=gn.return}}function Ql(i){if(i!==gn)return!1;if(!Xe)return Px(i),Xe=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Cg(i.type,i.memoizedProps)),o=!o),o&&Tt&&Is(i),Px(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Tt=lb(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Tt=lb(i)}else s===27?(s=Tt,zs(i.type)?(i=Mg,Mg=null,Tt=i):Tt=s):Tt=gn?Nr(i.stateNode.nextSibling):null;return!0}function Ua(){Tt=gn=null,Xe=!1}function dp(){var i=Ss;return i!==null&&(Kn===null?Kn=i:Kn.push.apply(Kn,i),Ss=null),i}function qu(i){Ss===null?Ss=[i]:Ss.push(i)}var mp=z(null),Ba=null,Fi=null;function Ns(i,s,o){R(mp,s._currentValue),s._currentValue=o}function qi(i){i._currentValue=mp.current,ie(mp)}function pp(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function gp(i,s,o,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=p;for(var j=0;j<s.length;j++)if(A.context===s[j]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),pp(g.return,o,i),c||(T=null);break e}g=A.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),pp(T,o,i),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===i){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function $l(i,s,o,c){i=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=p.type;ir(p.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(p===ze.current){if(T=p.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(gc):i=[gc])}p=p.return}i!==null&&gp(s,i,o,c),s.flags|=262144}function pf(i){for(i=i.firstContext;i!==null;){if(!ir(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function za(i){Ba=i,Fi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function yn(i){return Lx(Ba,i)}function gf(i,s){return Ba===null&&za(i),Lx(i,s)}function Lx(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Fi===null){if(i===null)throw Error(r(308));Fi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Fi=Fi.next=s;return o}var NC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},RC=n.unstable_scheduleCallback,CC=n.unstable_NormalPriority,Wt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yp(){return{controller:new NC,data:new Map,refCount:0}}function Hu(i){i.refCount--,i.refCount===0&&RC(CC,function(){i.controller.abort()})}var Gu=null,_p=0,Xl=0,Wl=null;function DC(i,s){if(Gu===null){var o=Gu=[];_p=0,Xl=vg(),Wl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return _p++,s.then(jx,jx),s}function jx(){if(--_p===0&&Gu!==null){Wl!==null&&(Wl.status="fulfilled");var i=Gu;Gu=null,Xl=0,Wl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function OC(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var Ux=X.S;X.S=function(i,s){b0=mn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&DC(i,s),Ux!==null&&Ux(i,s)};var Fa=z(null);function Ep(){var i=Fa.current;return i!==null?i:_t.pooledCache}function yf(i,s){s===null?R(Fa,Fa.current):R(Fa,s.pool)}function Bx(){var i=Ep();return i===null?null:{parent:Wt._currentValue,pool:i}}var Jl=Error(r(460)),xp=Error(r(474)),_f=Error(r(542)),Ef={then:function(){}};function zx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fx(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Br,Br),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Hx(i),i;default:if(typeof s.status=="string")s.then(Br,Br);else{if(i=_t,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Hx(i),i}throw Ha=s,Jl}}function qa(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ha=o,Jl):o}}var Ha=null;function qx(){if(Ha===null)throw Error(r(459));var i=Ha;return Ha=null,i}function Hx(i){if(i===Jl||i===_f)throw Error(r(483))}var Zl=null,Yu=0;function xf(i){var s=Yu;return Yu+=1,Zl===null&&(Zl=[]),Fx(Zl,i,s)}function Ku(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function vf(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Gx(i){function s(H,F){if(i){var Q=H.deletions;Q===null?(H.deletions=[F],H.flags|=16):Q.push(F)}}function o(H,F){if(!i)return null;for(;F!==null;)s(H,F),F=F.sibling;return null}function c(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function p(H,F){return H=Bi(H,F),H.index=0,H.sibling=null,H}function g(H,F,Q){return H.index=Q,i?(Q=H.alternate,Q!==null?(Q=Q.index,Q<F?(H.flags|=67108866,F):Q):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function A(H,F,Q,ae){return F===null||F.tag!==6?(F=op(Q,H.mode,ae),F.return=H,F):(F=p(F,Q),F.return=H,F)}function j(H,F,Q,ae){var Ne=Q.type;return Ne===M?re(H,F,Q.props.children,ae,Q.key):F!==null&&(F.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===N&&qa(Ne)===F.type)?(F=p(F,Q.props),Ku(F,Q),F.return=H,F):(F=df(Q.type,Q.key,Q.props,null,H.mode,ae),Ku(F,Q),F.return=H,F)}function $(H,F,Q,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=up(Q,H.mode,ae),F.return=H,F):(F=p(F,Q.children||[]),F.return=H,F)}function re(H,F,Q,ae,Ne){return F===null||F.tag!==7?(F=ja(Q,H.mode,ae,Ne),F.return=H,F):(F=p(F,Q),F.return=H,F)}function le(H,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=op(""+F,H.mode,Q),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return Q=df(F.type,F.key,F.props,null,H.mode,Q),Ku(Q,F),Q.return=H,Q;case D:return F=up(F,H.mode,Q),F.return=H,F;case N:return F=qa(F),le(H,F,Q)}if(me(F)||L(F))return F=ja(F,H.mode,Q,null),F.return=H,F;if(typeof F.then=="function")return le(H,xf(F),Q);if(F.$$typeof===q)return le(H,gf(H,F),Q);vf(H,F)}return null}function W(H,F,Q,ae){var Ne=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ne!==null?null:A(H,F,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Ne?j(H,F,Q,ae):null;case D:return Q.key===Ne?$(H,F,Q,ae):null;case N:return Q=qa(Q),W(H,F,Q,ae)}if(me(Q)||L(Q))return Ne!==null?null:re(H,F,Q,ae,null);if(typeof Q.then=="function")return W(H,F,xf(Q),ae);if(Q.$$typeof===q)return W(H,F,gf(H,Q),ae);vf(H,Q)}return null}function ne(H,F,Q,ae,Ne){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return H=H.get(Q)||null,A(F,H,""+ae,Ne);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return H=H.get(ae.key===null?Q:ae.key)||null,j(F,H,ae,Ne);case D:return H=H.get(ae.key===null?Q:ae.key)||null,$(F,H,ae,Ne);case N:return ae=qa(ae),ne(H,F,Q,ae,Ne)}if(me(ae)||L(ae))return H=H.get(Q)||null,re(F,H,ae,Ne,null);if(typeof ae.then=="function")return ne(H,F,Q,xf(ae),Ne);if(ae.$$typeof===q)return ne(H,F,Q,gf(F,ae),Ne);vf(F,ae)}return null}function Te(H,F,Q,ae){for(var Ne=null,et=null,Ae=F,Ue=F=0,Ke=null;Ae!==null&&Ue<Q.length;Ue++){Ae.index>Ue?(Ke=Ae,Ae=null):Ke=Ae.sibling;var tt=W(H,Ae,Q[Ue],ae);if(tt===null){Ae===null&&(Ae=Ke);break}i&&Ae&&tt.alternate===null&&s(H,Ae),F=g(tt,F,Ue),et===null?Ne=tt:et.sibling=tt,et=tt,Ae=Ke}if(Ue===Q.length)return o(H,Ae),Xe&&zi(H,Ue),Ne;if(Ae===null){for(;Ue<Q.length;Ue++)Ae=le(H,Q[Ue],ae),Ae!==null&&(F=g(Ae,F,Ue),et===null?Ne=Ae:et.sibling=Ae,et=Ae);return Xe&&zi(H,Ue),Ne}for(Ae=c(Ae);Ue<Q.length;Ue++)Ke=ne(Ae,H,Ue,Q[Ue],ae),Ke!==null&&(i&&Ke.alternate!==null&&Ae.delete(Ke.key===null?Ue:Ke.key),F=g(Ke,F,Ue),et===null?Ne=Ke:et.sibling=Ke,et=Ke);return i&&Ae.forEach(function(Ys){return s(H,Ys)}),Xe&&zi(H,Ue),Ne}function De(H,F,Q,ae){if(Q==null)throw Error(r(151));for(var Ne=null,et=null,Ae=F,Ue=F=0,Ke=null,tt=Q.next();Ae!==null&&!tt.done;Ue++,tt=Q.next()){Ae.index>Ue?(Ke=Ae,Ae=null):Ke=Ae.sibling;var Ys=W(H,Ae,tt.value,ae);if(Ys===null){Ae===null&&(Ae=Ke);break}i&&Ae&&Ys.alternate===null&&s(H,Ae),F=g(Ys,F,Ue),et===null?Ne=Ys:et.sibling=Ys,et=Ys,Ae=Ke}if(tt.done)return o(H,Ae),Xe&&zi(H,Ue),Ne;if(Ae===null){for(;!tt.done;Ue++,tt=Q.next())tt=le(H,tt.value,ae),tt!==null&&(F=g(tt,F,Ue),et===null?Ne=tt:et.sibling=tt,et=tt);return Xe&&zi(H,Ue),Ne}for(Ae=c(Ae);!tt.done;Ue++,tt=Q.next())tt=ne(Ae,H,Ue,tt.value,ae),tt!==null&&(i&&tt.alternate!==null&&Ae.delete(tt.key===null?Ue:tt.key),F=g(tt,F,Ue),et===null?Ne=tt:et.sibling=tt,et=tt);return i&&Ae.forEach(function(qD){return s(H,qD)}),Xe&&zi(H,Ue),Ne}function yt(H,F,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Ne=Q.key;F!==null;){if(F.key===Ne){if(Ne=Q.type,Ne===M){if(F.tag===7){o(H,F.sibling),ae=p(F,Q.props.children),ae.return=H,H=ae;break e}}else if(F.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===N&&qa(Ne)===F.type){o(H,F.sibling),ae=p(F,Q.props),Ku(ae,Q),ae.return=H,H=ae;break e}o(H,F);break}else s(H,F);F=F.sibling}Q.type===M?(ae=ja(Q.props.children,H.mode,ae,Q.key),ae.return=H,H=ae):(ae=df(Q.type,Q.key,Q.props,null,H.mode,ae),Ku(ae,Q),ae.return=H,H=ae)}return T(H);case D:e:{for(Ne=Q.key;F!==null;){if(F.key===Ne)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){o(H,F.sibling),ae=p(F,Q.children||[]),ae.return=H,H=ae;break e}else{o(H,F);break}else s(H,F);F=F.sibling}ae=up(Q,H.mode,ae),ae.return=H,H=ae}return T(H);case N:return Q=qa(Q),yt(H,F,Q,ae)}if(me(Q))return Te(H,F,Q,ae);if(L(Q)){if(Ne=L(Q),typeof Ne!="function")throw Error(r(150));return Q=Ne.call(Q),De(H,F,Q,ae)}if(typeof Q.then=="function")return yt(H,F,xf(Q),ae);if(Q.$$typeof===q)return yt(H,F,gf(H,Q),ae);vf(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(o(H,F.sibling),ae=p(F,Q),ae.return=H,H=ae):(o(H,F),ae=op(Q,H.mode,ae),ae.return=H,H=ae),T(H)):o(H,F)}return function(H,F,Q,ae){try{Yu=0;var Ne=yt(H,F,Q,ae);return Zl=null,Ne}catch(Ae){if(Ae===Jl||Ae===_f)throw Ae;var et=sr(29,Ae,null,H.mode);return et.lanes=ae,et.return=H,et}finally{}}}var Ga=Gx(!0),Yx=Gx(!1),Rs=!1;function vp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Cs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ds(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=ff(i),Rx(i,null,o),s}return hf(i,c,s,o),ff(i)}function Qu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,vu(i,o)}}function Tp(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?p=g=s:g=g.next=s}else p=g=s;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var wp=!1;function $u(){if(wp){var i=Wl;if(i!==null)throw i}}function Xu(i,s,o,c){wp=!1;var p=i.updateQueue;Rs=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var j=A,$=j.next;j.next=null,T===null?g=$:T.next=$,T=j;var re=i.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==T&&(A===null?re.firstBaseUpdate=$:A.next=$,re.lastBaseUpdate=j))}if(g!==null){var le=p.baseState;T=0,re=$=j=null,A=g;do{var W=A.lane&-536870913,ne=W!==A.lane;if(ne?(Ye&W)===W:(c&W)===W){W!==0&&W===Xl&&(wp=!0),re!==null&&(re=re.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Te=i,De=A;W=s;var yt=o;switch(De.tag){case 1:if(Te=De.payload,typeof Te=="function"){le=Te.call(yt,le,W);break e}le=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=De.payload,W=typeof Te=="function"?Te.call(yt,le,W):Te,W==null)break e;le=_({},le,W);break e;case 2:Rs=!0}}W=A.callback,W!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=p.callbacks,ne===null?p.callbacks=[W]:ne.push(W))}else ne={lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?($=re=ne,j=le):re=re.next=ne,T|=W;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);re===null&&(j=le),p.baseState=j,p.firstBaseUpdate=$,p.lastBaseUpdate=re,g===null&&(p.shared.lanes=0),Ps|=T,i.lanes=T,i.memoizedState=le}}function Kx(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Qx(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Kx(o[i],s)}var eo=z(null),bf=z(0);function $x(i,s){i=Ji,R(bf,i),R(eo,s),Ji=i|s.baseLanes}function Ap(){R(bf,Ji),R(eo,eo.current)}function Sp(){Ji=bf.current,ie(eo),ie(bf)}var ar=z(null),Ir=null;function Os(i){var s=i.alternate;R(Ft,Ft.current&1),R(ar,i),Ir===null&&(s===null||eo.current!==null||s.memoizedState!==null)&&(Ir=i)}function Ip(i){R(Ft,Ft.current),R(ar,i),Ir===null&&(Ir=i)}function Xx(i){i.tag===22?(R(Ft,Ft.current),R(ar,i),Ir===null&&(Ir=i)):ks()}function ks(){R(Ft,Ft.current),R(ar,ar.current)}function lr(i){ie(ar),Ir===i&&(Ir=null),ie(Ft)}var Ft=z(0);function Tf(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||kg(o)||Vg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Hi=0,Le=null,pt=null,Jt=null,wf=!1,to=!1,Ya=!1,Af=0,Wu=0,no=null,kC=0;function Lt(){throw Error(r(321))}function Np(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!ir(i[o],s[o]))return!1;return!0}function Rp(i,s,o,c,p,g){return Hi=g,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=i===null||i.memoizedState===null?kv:Hp,Ya=!1,g=o(c,p),Ya=!1,to&&(g=Jx(s,o,c,p)),Wx(i),g}function Wx(i){X.H=ec;var s=pt!==null&&pt.next!==null;if(Hi=0,Jt=pt=Le=null,wf=!1,Wu=0,no=null,s)throw Error(r(300));i===null||Zt||(i=i.dependencies,i!==null&&pf(i)&&(Zt=!0))}function Jx(i,s,o,c){Le=i;var p=0;do{if(to&&(no=null),Wu=0,to=!1,25<=p)throw Error(r(301));if(p+=1,Jt=pt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=Vv,g=s(o,c)}while(to);return g}function VC(){var i=X.H,s=i.useState()[0];return s=typeof s.then=="function"?Ju(s):s,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(Le.flags|=1024),s}function Cp(){var i=Af!==0;return Af=0,i}function Dp(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Op(i){if(wf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}wf=!1}Hi=0,Jt=pt=Le=null,to=!1,Wu=Af=0,no=null}function Vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Le.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function qt(){if(pt===null){var i=Le.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var s=Jt===null?Le.memoizedState:Jt.next;if(s!==null)Jt=s,pt=i;else{if(i===null)throw Le.alternate===null?Error(r(467)):Error(r(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Jt===null?Le.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ju(i){var s=Wu;return Wu+=1,no===null&&(no=[]),i=Fx(no,i,s),s=Le,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?kv:Hp),i}function If(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ju(i);if(i.$$typeof===q)return yn(i)}throw Error(r(438,String(i)))}function kp(i){var s=null,o=Le.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Le.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Sf(),Le.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=U;return s.index++,o}function Gi(i,s){return typeof s=="function"?s(i):s}function Nf(i){var s=qt();return Vp(s,pt,i)}function Vp(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}s.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{s=p.next;var A=T=null,j=null,$=s,re=!1;do{var le=$.lane&-536870913;if(le!==$.lane?(Ye&le)===le:(Hi&le)===le){var W=$.revertLane;if(W===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),le===Xl&&(re=!0);else if((Hi&W)===W){$=$.next,W===Xl&&(re=!0);continue}else le={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(A=j=le,T=g):j=j.next=le,Le.lanes|=W,Ps|=W;le=$.action,Ya&&o(g,le),g=$.hasEagerState?$.eagerState:o(g,le)}else W={lane:le,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(A=j=W,T=g):j=j.next=W,Le.lanes|=le,Ps|=le;$=$.next}while($!==null&&$!==s);if(j===null?T=g:j.next=A,!ir(g,i.memoizedState)&&(Zt=!0,re&&(o=Wl,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=j,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Mp(i){var s=qt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,p=o.pending,g=s.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do g=i(g,T.action),T=T.next;while(T!==p);ir(g,s.memoizedState)||(Zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function Zx(i,s,o){var c=Le,p=qt(),g=Xe;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!ir((pt||p).memoizedState,o);if(T&&(p.memoizedState=o,Zt=!0),p=p.queue,jp(nv.bind(null,c,p,i),[i]),p.getSnapshot!==s||T||Jt!==null&&Jt.memoizedState.tag&1){if(c.flags|=2048,ro(9,{destroy:void 0},tv.bind(null,c,p,o,s),null),_t===null)throw Error(r(349));g||(Hi&127)!==0||ev(c,s,o)}return o}function ev(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Le.updateQueue,s===null?(s=Sf(),Le.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function tv(i,s,o,c){s.value=o,s.getSnapshot=c,rv(s)&&iv(i)}function nv(i,s,o){return o(function(){rv(s)&&iv(i)})}function rv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!ir(i,o)}catch{return!0}}function iv(i){var s=La(i,2);s!==null&&Qn(s,i,2)}function Pp(i){var s=Vn();if(typeof i=="function"){var o=i;if(i=o(),Ya){on(!0);try{o()}finally{on(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:i},s}function sv(i,s,o,c){return i.baseState=o,Vp(i,pt,typeof c=="function"?c:Gi)}function MC(i,s,o,c,p){if(Df(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};X.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,av(s,g)):(g.next=o.next,s.pending=o.next=g)}}function av(i,s){var o=s.action,c=s.payload,p=i.state;if(s.isTransition){var g=X.T,T={};X.T=T;try{var A=o(p,c),j=X.S;j!==null&&j(T,A),lv(i,s,A)}catch($){Lp(i,s,$)}finally{g!==null&&T.types!==null&&(g.types=T.types),X.T=g}}else try{g=o(p,c),lv(i,s,g)}catch($){Lp(i,s,$)}}function lv(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){ov(i,s,c)},function(c){return Lp(i,s,c)}):ov(i,s,o)}function ov(i,s,o){s.status="fulfilled",s.value=o,uv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,av(i,o)))}function Lp(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,uv(s),s=s.next;while(s!==c)}i.action=null}function uv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function cv(i,s){return s}function hv(i,s){if(Xe){var o=_t.formState;if(o!==null){e:{var c=Le;if(Xe){if(Tt){t:{for(var p=Tt,g=Sr;p.nodeType!==8;){if(!g){p=null;break t}if(p=Nr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Tt=Nr(p.nextSibling),c=p.data==="F!";break e}}Is(c)}c=!1}c&&(s=o[0])}}return o=Vn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cv,lastRenderedState:s},o.queue=c,o=Cv.bind(null,Le,c),c.dispatch=o,c=Pp(!1),g=qp.bind(null,Le,!1,c.queue),c=Vn(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,o=MC.bind(null,Le,p,g,o),p.dispatch=o,c.memoizedState=i,[s,o,!1]}function fv(i){var s=qt();return dv(s,pt,i)}function dv(i,s,o){if(s=Vp(i,s,cv)[0],i=Nf(Gi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ju(s)}catch(T){throw T===Jl?_f:T}else c=s;s=qt();var p=s.queue,g=p.dispatch;return o!==s.memoizedState&&(Le.flags|=2048,ro(9,{destroy:void 0},PC.bind(null,p,o),null)),[c,g,i]}function PC(i,s){i.action=s}function mv(i){var s=qt(),o=pt;if(o!==null)return dv(s,o,i);qt(),s=s.memoizedState,o=qt();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function ro(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Le.updateQueue,s===null&&(s=Sf(),Le.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function pv(){return qt().memoizedState}function Rf(i,s,o,c){var p=Vn();Le.flags|=i,p.memoizedState=ro(1|s,{destroy:void 0},o,c===void 0?null:c)}function Cf(i,s,o,c){var p=qt();c=c===void 0?null:c;var g=p.memoizedState.inst;pt!==null&&c!==null&&Np(c,pt.memoizedState.deps)?p.memoizedState=ro(s,g,o,c):(Le.flags|=i,p.memoizedState=ro(1|s,g,o,c))}function gv(i,s){Rf(8390656,8,i,s)}function jp(i,s){Cf(2048,8,i,s)}function LC(i){Le.flags|=4;var s=Le.updateQueue;if(s===null)s=Sf(),Le.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function yv(i){var s=qt().memoizedState;return LC({ref:s,nextImpl:i}),function(){if((st&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function _v(i,s){return Cf(4,2,i,s)}function Ev(i,s){return Cf(4,4,i,s)}function xv(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function vv(i,s,o){o=o!=null?o.concat([i]):null,Cf(4,4,xv.bind(null,s,i),o)}function Up(){}function bv(i,s){var o=qt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Np(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function Tv(i,s){var o=qt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Np(s,c[1]))return c[0];if(c=i(),Ya){on(!0);try{i()}finally{on(!1)}}return o.memoizedState=[c,s],c}function Bp(i,s,o){return o===void 0||(Hi&1073741824)!==0&&(Ye&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=w0(),Le.lanes|=i,Ps|=i,o)}function wv(i,s,o,c){return ir(o,s)?o:eo.current!==null?(i=Bp(i,o,c),ir(i,s)||(Zt=!0),i):(Hi&42)===0||(Hi&1073741824)!==0&&(Ye&261930)===0?(Zt=!0,i.memoizedState=o):(i=w0(),Le.lanes|=i,Ps|=i,s)}function Av(i,s,o,c,p){var g=ce.p;ce.p=g!==0&&8>g?g:8;var T=X.T,A={};X.T=A,qp(i,!1,s,o);try{var j=p(),$=X.S;if($!==null&&$(A,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var re=OC(j,c);Zu(i,s,re,cr(i))}else Zu(i,s,c,cr(i))}catch(le){Zu(i,s,{then:function(){},status:"rejected",reason:le},cr())}finally{ce.p=g,T!==null&&A.types!==null&&(T.types=A.types),X.T=T}}function jC(){}function zp(i,s,o,c){if(i.tag!==5)throw Error(r(476));var p=Sv(i).queue;Av(i,p,s,be,o===null?jC:function(){return Iv(i),o(c)})}function Sv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:be},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Iv(i){var s=Sv(i);s.next===null&&(s=i.alternate.memoizedState),Zu(i,s.next.queue,{},cr())}function Fp(){return yn(gc)}function Nv(){return qt().memoizedState}function Rv(){return qt().memoizedState}function UC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=cr();i=Cs(o);var c=Ds(s,i,o);c!==null&&(Qn(c,s,o),Qu(c,s,o)),s={cache:yp()},i.payload=s;return}s=s.return}}function BC(i,s,o){var c=cr();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Df(i)?Dv(s,o):(o=ap(i,s,o,c),o!==null&&(Qn(o,i,c),Ov(o,s,c)))}function Cv(i,s,o){var c=cr();Zu(i,s,o,c)}function Zu(i,s,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Df(i))Dv(s,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,A=g(T,o);if(p.hasEagerState=!0,p.eagerState=A,ir(A,T))return hf(i,s,p,0),_t===null&&cf(),!1}catch{}finally{}if(o=ap(i,s,p,c),o!==null)return Qn(o,i,c),Ov(o,s,c),!0}return!1}function qp(i,s,o,c){if(c={lane:2,revertLane:vg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Df(i)){if(s)throw Error(r(479))}else s=ap(i,o,c,2),s!==null&&Qn(s,i,2)}function Df(i){var s=i.alternate;return i===Le||s!==null&&s===Le}function Dv(i,s){to=wf=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Ov(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,vu(i,o)}}var ec={readContext:yn,use:If,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};ec.useEffectEvent=Lt;var kv={readContext:yn,use:If,useCallback:function(i,s){return Vn().memoizedState=[i,s===void 0?null:s],i},useContext:yn,useEffect:gv,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Rf(4194308,4,xv.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Rf(4194308,4,i,s)},useInsertionEffect:function(i,s){Rf(4,2,i,s)},useMemo:function(i,s){var o=Vn();s=s===void 0?null:s;var c=i();if(Ya){on(!0);try{i()}finally{on(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=Vn();if(o!==void 0){var p=o(s);if(Ya){on(!0);try{o(s)}finally{on(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=BC.bind(null,Le,i),[c.memoizedState,i]},useRef:function(i){var s=Vn();return i={current:i},s.memoizedState=i},useState:function(i){i=Pp(i);var s=i.queue,o=Cv.bind(null,Le,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Up,useDeferredValue:function(i,s){var o=Vn();return Bp(o,i,s)},useTransition:function(){var i=Pp(!1);return i=Av.bind(null,Le,i.queue,!0,!1),Vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Le,p=Vn();if(Xe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),_t===null)throw Error(r(349));(Ye&127)!==0||ev(c,s,o)}p.memoizedState=o;var g={value:o,getSnapshot:s};return p.queue=g,gv(nv.bind(null,c,g,i),[i]),c.flags|=2048,ro(9,{destroy:void 0},tv.bind(null,c,g,o,s),null),o},useId:function(){var i=Vn(),s=_t.identifierPrefix;if(Xe){var o=xi,c=Ei;o=(c&~(1<<32-$e(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Af++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=kC++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Fp,useFormState:hv,useActionState:hv,useOptimistic:function(i){var s=Vn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=qp.bind(null,Le,!0,o),o.dispatch=s,[i,s]},useMemoCache:kp,useCacheRefresh:function(){return Vn().memoizedState=UC.bind(null,Le)},useEffectEvent:function(i){var s=Vn(),o={impl:i};return s.memoizedState=o,function(){if((st&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Hp={readContext:yn,use:If,useCallback:bv,useContext:yn,useEffect:jp,useImperativeHandle:vv,useInsertionEffect:_v,useLayoutEffect:Ev,useMemo:Tv,useReducer:Nf,useRef:pv,useState:function(){return Nf(Gi)},useDebugValue:Up,useDeferredValue:function(i,s){var o=qt();return wv(o,pt.memoizedState,i,s)},useTransition:function(){var i=Nf(Gi)[0],s=qt().memoizedState;return[typeof i=="boolean"?i:Ju(i),s]},useSyncExternalStore:Zx,useId:Nv,useHostTransitionStatus:Fp,useFormState:fv,useActionState:fv,useOptimistic:function(i,s){var o=qt();return sv(o,pt,i,s)},useMemoCache:kp,useCacheRefresh:Rv};Hp.useEffectEvent=yv;var Vv={readContext:yn,use:If,useCallback:bv,useContext:yn,useEffect:jp,useImperativeHandle:vv,useInsertionEffect:_v,useLayoutEffect:Ev,useMemo:Tv,useReducer:Mp,useRef:pv,useState:function(){return Mp(Gi)},useDebugValue:Up,useDeferredValue:function(i,s){var o=qt();return pt===null?Bp(o,i,s):wv(o,pt.memoizedState,i,s)},useTransition:function(){var i=Mp(Gi)[0],s=qt().memoizedState;return[typeof i=="boolean"?i:Ju(i),s]},useSyncExternalStore:Zx,useId:Nv,useHostTransitionStatus:Fp,useFormState:mv,useActionState:mv,useOptimistic:function(i,s){var o=qt();return pt!==null?sv(o,pt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:kp,useCacheRefresh:Rv};Vv.useEffectEvent=yv;function Gp(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:_({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Yp={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=cr(),p=Cs(c);p.payload=s,o!=null&&(p.callback=o),s=Ds(i,p,c),s!==null&&(Qn(s,i,c),Qu(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=cr(),p=Cs(c);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=Ds(i,p,c),s!==null&&(Qn(s,i,c),Qu(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=cr(),c=Cs(o);c.tag=2,s!=null&&(c.callback=s),s=Ds(i,c,o),s!==null&&(Qn(s,i,o),Qu(s,i,o))}};function Mv(i,s,o,c,p,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!Bu(o,c)||!Bu(p,g):!0}function Pv(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&Yp.enqueueReplaceState(s,s.state,null)}function Ka(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=_({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function Lv(i){uf(i)}function jv(i){console.error(i)}function Uv(i){uf(i)}function Of(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Bv(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Kp(i,s,o){return o=Cs(o),o.tag=3,o.payload={element:null},o.callback=function(){Of(i,s)},o}function zv(i){return i=Cs(i),i.tag=3,i}function Fv(i,s,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){Bv(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Bv(s,o,c),typeof p!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function zC(i,s,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&$l(s,o,p,!0),o=ar.current,o!==null){switch(o.tag){case 31:case 13:return Ir===null?Hf():o.alternate===null&&jt===0&&(jt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===Ef?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),_g(i,c,p)),!1;case 22:return o.flags|=65536,c===Ef?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),_g(i,c,p)),!1}throw Error(r(435,o.tag))}return _g(i,c,p),Hf(),!1}if(Xe)return s=ar.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==fp&&(i=Error(r(422),{cause:c}),qu(Tr(i,o)))):(c!==fp&&(s=Error(r(423),{cause:c}),qu(Tr(s,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Tr(c,o),p=Kp(i.stateNode,c,p),Tp(i,p),jt!==4&&(jt=2)),!1;var g=Error(r(520),{cause:c});if(g=Tr(g,o),oc===null?oc=[g]:oc.push(g),jt!==4&&(jt=2),s===null)return!0;c=Tr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=Kp(o.stateNode,c,i),Tp(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ls===null||!Ls.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=zv(p),Fv(p,i,o,c),Tp(o,p),!1}o=o.return}while(o!==null);return!1}var Qp=Error(r(461)),Zt=!1;function _n(i,s,o,c){s.child=i===null?Yx(s,null,o,c):Ga(s,i.child,o,c)}function qv(i,s,o,c,p){o=o.render;var g=s.ref;if("ref"in c){var T={};for(var A in c)A!=="ref"&&(T[A]=c[A])}else T=c;return za(s),c=Rp(i,s,o,T,g,p),A=Cp(),i!==null&&!Zt?(Dp(i,s,p),Yi(i,s,p)):(Xe&&A&&cp(s),s.flags|=1,_n(i,s,c,p),s.child)}function Hv(i,s,o,c,p){if(i===null){var g=o.type;return typeof g=="function"&&!lp(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Gv(i,s,g,c,p)):(i=df(o.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!ng(i,p)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Bu,o(T,c)&&i.ref===s.ref)return Yi(i,s,p)}return s.flags|=1,i=Bi(g,c),i.ref=s.ref,i.return=s,s.child=i}function Gv(i,s,o,c,p){if(i!==null){var g=i.memoizedProps;if(Bu(g,c)&&i.ref===s.ref)if(Zt=!1,s.pendingProps=c=g,ng(i,p))(i.flags&131072)!==0&&(Zt=!0);else return s.lanes=i.lanes,Yi(i,s,p)}return $p(i,s,o,c,p)}function Yv(i,s,o,c){var p=c.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=s.child=i.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,s.child=null;return Kv(i,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&yf(s,g!==null?g.cachePool:null),g!==null?$x(s,g):Ap(),Xx(s);else return c=s.lanes=536870912,Kv(i,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(yf(s,g.cachePool),$x(s,g),ks(),s.memoizedState=null):(i!==null&&yf(s,null),Ap(),ks());return _n(i,s,p,o),s.child}function tc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Kv(i,s,o,c,p){var g=Ep();return g=g===null?null:{parent:Wt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&yf(s,null),Ap(),Xx(s),i!==null&&$l(i,s,c,!0),s.childLanes=p,null}function kf(i,s){return s=Mf({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Qv(i,s,o){return Ga(s,i.child,null,o),i=kf(s,s.pendingProps),i.flags|=2,lr(s),s.memoizedState=null,i}function FC(i,s,o){var c=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Xe){if(c.mode==="hidden")return i=kf(s,c),s.lanes=536870912,tc(null,i);if(Ip(s),(i=Tt)?(i=ab(i,Sr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:As!==null?{id:Ei,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},o=Dx(i),o.return=s,s.child=o,gn=s,Tt=null)):i=null,i===null)throw Is(s);return s.lanes=536870912,null}return kf(s,c)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Ip(s),p)if(s.flags&256)s.flags&=-257,s=Qv(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Zt||$l(i,s,o,!1),p=(o&i.childLanes)!==0,Zt||p){if(c=_t,c!==null&&(T=bu(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,La(i,T),Qn(c,i,T),Qp;Hf(),s=Qv(i,s,o)}else i=g.treeContext,Tt=Nr(T.nextSibling),gn=s,Xe=!0,Ss=null,Sr=!1,i!==null&&Vx(s,i),s=kf(s,c),s.flags|=4096;return s}return i=Bi(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Vf(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function $p(i,s,o,c,p){return za(s),o=Rp(i,s,o,c,void 0,p),c=Cp(),i!==null&&!Zt?(Dp(i,s,p),Yi(i,s,p)):(Xe&&c&&cp(s),s.flags|=1,_n(i,s,o,p),s.child)}function $v(i,s,o,c,p,g){return za(s),s.updateQueue=null,o=Jx(s,c,o,p),Wx(i),c=Cp(),i!==null&&!Zt?(Dp(i,s,g),Yi(i,s,g)):(Xe&&c&&cp(s),s.flags|=1,_n(i,s,o,g),s.child)}function Xv(i,s,o,c,p){if(za(s),s.stateNode===null){var g=Gl,T=o.contextType;typeof T=="object"&&T!==null&&(g=yn(T)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Yp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},vp(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?yn(T):Gl,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Gp(s,o,T,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Yp.enqueueReplaceState(g,g.state,null),Xu(s,c,g,p),$u(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,j=Ka(o,A);g.props=j;var $=g.context,re=o.contextType;T=Gl,typeof re=="object"&&re!==null&&(T=yn(re));var le=o.getDerivedStateFromProps;re=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||$!==T)&&Pv(s,g,c,T),Rs=!1;var W=s.memoizedState;g.state=W,Xu(s,c,g,p),$u(),$=s.memoizedState,A||W!==$||Rs?(typeof le=="function"&&(Gp(s,o,le,c),$=s.memoizedState),(j=Rs||Mv(s,o,j,c,W,$,T))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=$),g.props=c,g.state=$,g.context=T,c=j):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,bp(i,s),T=s.memoizedProps,re=Ka(o,T),g.props=re,le=s.pendingProps,W=g.context,$=o.contextType,j=Gl,typeof $=="object"&&$!==null&&(j=yn($)),A=o.getDerivedStateFromProps,($=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==le||W!==j)&&Pv(s,g,c,j),Rs=!1,W=s.memoizedState,g.state=W,Xu(s,c,g,p),$u();var ne=s.memoizedState;T!==le||W!==ne||Rs||i!==null&&i.dependencies!==null&&pf(i.dependencies)?(typeof A=="function"&&(Gp(s,o,A,c),ne=s.memoizedState),(re=Rs||Mv(s,o,re,c,W,ne,j)||i!==null&&i.dependencies!==null&&pf(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ne,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ne,j)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ne),g.props=c,g.state=ne,g.context=j,c=re):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Vf(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Ga(s,i.child,null,p),s.child=Ga(s,null,o,p)):_n(i,s,o,p),s.memoizedState=g.state,i=s.child):i=Yi(i,s,p),i}function Wv(i,s,o,c){return Ua(),s.flags|=256,_n(i,s,o,c),s.child}var Xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wp(i){return{baseLanes:i,cachePool:Bx()}}function Jp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ur),i}function Jv(i,s,o){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Ft.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Xe){if(p?Os(s):ks(),(i=Tt)?(i=ab(i,Sr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:As!==null?{id:Ei,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},o=Dx(i),o.return=s,s.child=o,gn=s,Tt=null)):i=null,i===null)throw Is(s);return Vg(i)?s.lanes=32:s.lanes=536870912,null}var A=c.children;return c=c.fallback,p?(ks(),p=s.mode,A=Mf({mode:"hidden",children:A},p),c=ja(c,p,o,null),A.return=s,c.return=s,A.sibling=c,s.child=A,c=s.child,c.memoizedState=Wp(o),c.childLanes=Jp(i,T,o),s.memoizedState=Xp,tc(null,c)):(Os(s),Zp(s,A))}var j=i.memoizedState;if(j!==null&&(A=j.dehydrated,A!==null)){if(g)s.flags&256?(Os(s),s.flags&=-257,s=eg(i,s,o)):s.memoizedState!==null?(ks(),s.child=i.child,s.flags|=128,s=null):(ks(),A=c.fallback,p=s.mode,c=Mf({mode:"visible",children:c.children},p),A=ja(A,p,o,null),A.flags|=2,c.return=s,A.return=s,c.sibling=A,s.child=c,Ga(s,i.child,null,o),c=s.child,c.memoizedState=Wp(o),c.childLanes=Jp(i,T,o),s.memoizedState=Xp,s=tc(null,c));else if(Os(s),Vg(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var $=T.dgst;T=$,c=Error(r(419)),c.stack="",c.digest=T,qu({value:c,source:null,stack:null}),s=eg(i,s,o)}else if(Zt||$l(i,s,o,!1),T=(o&i.childLanes)!==0,Zt||T){if(T=_t,T!==null&&(c=bu(T,o),c!==0&&c!==j.retryLane))throw j.retryLane=c,La(i,c),Qn(T,i,c),Qp;kg(A)||Hf(),s=eg(i,s,o)}else kg(A)?(s.flags|=192,s.child=i.child,s=null):(i=j.treeContext,Tt=Nr(A.nextSibling),gn=s,Xe=!0,Ss=null,Sr=!1,i!==null&&Vx(s,i),s=Zp(s,c.children),s.flags|=4096);return s}return p?(ks(),A=c.fallback,p=s.mode,j=i.child,$=j.sibling,c=Bi(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,$!==null?A=Bi($,A):(A=ja(A,p,o,null),A.flags|=2),A.return=s,c.return=s,c.sibling=A,s.child=c,tc(null,c),c=s.child,A=i.child.memoizedState,A===null?A=Wp(o):(p=A.cachePool,p!==null?(j=Wt._currentValue,p=p.parent!==j?{parent:j,pool:j}:p):p=Bx(),A={baseLanes:A.baseLanes|o,cachePool:p}),c.memoizedState=A,c.childLanes=Jp(i,T,o),s.memoizedState=Xp,tc(i.child,c)):(Os(s),o=i.child,i=o.sibling,o=Bi(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function Zp(i,s){return s=Mf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Mf(i,s){return i=sr(22,i,null,s),i.lanes=0,i}function eg(i,s,o){return Ga(s,i.child,null,o),i=Zp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Zv(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),pp(i.return,s,o)}function tg(i,s,o,c,p,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=p,T.treeForkCount=g)}function e0(i,s,o){var c=s.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var T=Ft.current,A=(T&2)!==0;if(A?(T=T&1|2,s.flags|=128):T&=1,R(Ft,T),_n(i,s,c,o),c=Xe?Fu:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Zv(i,o,s);else if(i.tag===19)Zv(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)i=o.alternate,i!==null&&Tf(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),tg(s,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Tf(i)===null){s.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}tg(s,!0,o,null,g,c);break;case"together":tg(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Yi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Ps|=s.lanes,(o&s.childLanes)===0)if(i!==null){if($l(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Bi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Bi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function ng(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&pf(i)))}function qC(i,s,o){switch(s.tag){case 3:dt(s,s.stateNode.containerInfo),Ns(s,Wt,i.memoizedState.cache),Ua();break;case 27:case 5:zn(s);break;case 4:dt(s,s.stateNode.containerInfo);break;case 10:Ns(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ip(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Os(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Jv(i,s,o):(Os(s),i=Yi(i,s,o),i!==null?i.sibling:null);Os(s);break;case 19:var p=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||($l(i,s,o,!1),c=(o&s.childLanes)!==0),p){if(c)return e0(i,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),R(Ft,Ft.current),c)break;return null;case 22:return s.lanes=0,Yv(i,s,o,s.pendingProps);case 24:Ns(s,Wt,i.memoizedState.cache)}return Yi(i,s,o)}function t0(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Zt=!0;else{if(!ng(i,o)&&(s.flags&128)===0)return Zt=!1,qC(i,s,o);Zt=(i.flags&131072)!==0}else Zt=!1,Xe&&(s.flags&1048576)!==0&&kx(s,Fu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=qa(s.elementType),s.type=i,typeof i=="function")lp(i)?(c=Ka(i,c),s.tag=1,s=Xv(null,s,i,c,o)):(s.tag=0,s=$p(null,s,i,c,o));else{if(i!=null){var p=i.$$typeof;if(p===he){s.tag=11,s=qv(null,s,i,c,o);break e}else if(p===S){s.tag=14,s=Hv(null,s,i,c,o);break e}}throw s=xe(i)||i,Error(r(306,s,""))}}return s;case 0:return $p(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,p=Ka(c,s.pendingProps),Xv(i,s,c,p,o);case 3:e:{if(dt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,bp(i,s),Xu(s,c,null,o);var T=s.memoizedState;if(c=T.cache,Ns(s,Wt,c),c!==g.cache&&gp(s,[Wt],o,!0),$u(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Wv(i,s,c,o);break e}else if(c!==p){p=Tr(Error(r(424)),s),qu(p),s=Wv(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Tt=Nr(i.firstChild),gn=s,Xe=!0,Ss=null,Sr=!0,o=Yx(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ua(),c===p){s=Yi(i,s,o);break e}_n(i,s,c,o)}s=s.child}return s;case 26:return Vf(i,s),i===null?(o=fb(s.type,null,s.pendingProps,null))?s.memoizedState=o:Xe||(o=s.type,i=s.pendingProps,c=Wf(Se.current).createElement(o),c[Qt]=s,c[un]=i,En(c,o,i),$t(c),s.stateNode=c):s.memoizedState=fb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return zn(s),i===null&&Xe&&(c=s.stateNode=ub(s.type,s.pendingProps,Se.current),gn=s,Sr=!0,p=Tt,zs(s.type)?(Mg=p,Tt=Nr(c.firstChild)):Tt=p),_n(i,s,s.pendingProps.children,o),Vf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Xe&&((p=c=Tt)&&(c=ED(c,s.type,s.pendingProps,Sr),c!==null?(s.stateNode=c,gn=s,Tt=Nr(c.firstChild),Sr=!1,p=!0):p=!1),p||Is(s)),zn(s),p=s.type,g=s.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,Cg(p,g)?c=null:T!==null&&Cg(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=Rp(i,s,VC,null,null,o),gc._currentValue=p),Vf(i,s),_n(i,s,c,o),s.child;case 6:return i===null&&Xe&&((i=o=Tt)&&(o=xD(o,s.pendingProps,Sr),o!==null?(s.stateNode=o,gn=s,Tt=null,i=!0):i=!1),i||Is(s)),null;case 13:return Jv(i,s,o);case 4:return dt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Ga(s,null,c,o):_n(i,s,c,o),s.child;case 11:return qv(i,s,s.type,s.pendingProps,o);case 7:return _n(i,s,s.pendingProps,o),s.child;case 8:return _n(i,s,s.pendingProps.children,o),s.child;case 12:return _n(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Ns(s,s.type,c.value),_n(i,s,c.children,o),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,za(s),p=yn(p),c=c(p),s.flags|=1,_n(i,s,c,o),s.child;case 14:return Hv(i,s,s.type,s.pendingProps,o);case 15:return Gv(i,s,s.type,s.pendingProps,o);case 19:return e0(i,s,o);case 31:return FC(i,s,o);case 22:return Yv(i,s,o,s.pendingProps);case 24:return za(s),c=yn(Wt),i===null?(p=Ep(),p===null&&(p=_t,g=yp(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),s.memoizedState={parent:c,cache:p},vp(s),Ns(s,Wt,p)):((i.lanes&o)!==0&&(bp(i,s),Xu(s,null,null,o),$u()),p=i.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Ns(s,Wt,c)):(c=g.cache,Ns(s,Wt,c),c!==p.cache&&gp(s,[Wt],o,!0))),_n(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ki(i){i.flags|=4}function rg(i,s,o,c,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(N0())i.flags|=8192;else throw Ha=Ef,xp}else i.flags&=-16777217}function n0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!yb(s))if(N0())i.flags|=8192;else throw Ha=Ef,xp}function Pf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?zh():536870912,i.lanes|=s,lo|=s)}function nc(i,s){if(!Xe)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function wt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function HC(i,s,o){var c=s.pendingProps;switch(hp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),qi(Wt),rt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ql(s)?Ki(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dp())),wt(s),null;case 26:var p=s.type,g=s.memoizedState;return i===null?(Ki(s),g!==null?(wt(s),n0(s,g)):(wt(s),rg(s,p,null,c,o))):g?g!==i.memoizedState?(Ki(s),wt(s),n0(s,g)):(wt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ki(s),wt(s),rg(s,p,i,c,o)),null;case 27:if(Mr(s),o=Se.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ki(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return wt(s),null}i=_e.current,Ql(s)?Mx(s):(i=ub(p,c,o),s.stateNode=i,Ki(s))}return wt(s),null;case 5:if(Mr(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ki(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return wt(s),null}if(g=_e.current,Ql(s))Mx(s);else{var T=Wf(Se.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}g[Qt]=s,g[un]=c;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;e:switch(En(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ki(s)}}return wt(s),rg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Ki(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Se.current,Ql(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,p=gn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Qt]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||J0(i.nodeValue,o)),i||Is(s,!0)}else i=Wf(i).createTextNode(c),i[Qt]=s,s.stateNode=i}return wt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(c=Ql(s),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Qt]=s}else Ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),i=!1}else o=dp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(lr(s),s):(lr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return wt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Ql(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Qt]=s}else Ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),p=!1}else p=dp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(lr(s),s):(lr(s),null)}return lr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Pf(s,s.updateQueue),wt(s),null);case 4:return rt(),i===null&&Ag(s.stateNode.containerInfo),wt(s),null;case 10:return qi(s.type),wt(s),null;case 19:if(ie(Ft),c=s.memoizedState,c===null)return wt(s),null;if(p=(s.flags&128)!==0,g=c.rendering,g===null)if(p)nc(c,!1);else{if(jt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Tf(i),g!==null){for(s.flags|=128,nc(c,!1),i=g.updateQueue,s.updateQueue=i,Pf(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Cx(o,i),o=o.sibling;return R(Ft,Ft.current&1|2),Xe&&zi(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&mn()>zf&&(s.flags|=128,p=!0,nc(c,!1),s.lanes=4194304)}else{if(!p)if(i=Tf(g),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,Pf(s,i),nc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Xe)return wt(s),null}else 2*mn()-c.renderingStartTime>zf&&o!==536870912&&(s.flags|=128,p=!0,nc(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(i=c.last,i!==null?i.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=mn(),i.sibling=null,o=Ft.current,R(Ft,p?o&1|2:o&1),Xe&&zi(s,c.treeForkCount),i):(wt(s),null);case 22:case 23:return lr(s),Sp(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),o=s.updateQueue,o!==null&&Pf(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&ie(Fa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),qi(Wt),wt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function GC(i,s){switch(hp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return qi(Wt),rt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Mr(s),null;case 31:if(s.memoizedState!==null){if(lr(s),s.alternate===null)throw Error(r(340));Ua()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(lr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ua()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ie(Ft),null;case 4:return rt(),null;case 10:return qi(s.type),null;case 22:case 23:return lr(s),Sp(),i!==null&&ie(Fa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return qi(Wt),null;case 25:return null;default:return null}}function r0(i,s){switch(hp(s),s.tag){case 3:qi(Wt),rt();break;case 26:case 27:case 5:Mr(s);break;case 4:rt();break;case 31:s.memoizedState!==null&&lr(s);break;case 13:lr(s);break;case 19:ie(Ft);break;case 10:qi(s.type);break;case 22:case 23:lr(s),Sp(),i!==null&&ie(Fa);break;case 24:qi(Wt)}}function rc(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==p)}}catch(A){ct(s,s.return,A)}}function Vs(i,s,o){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var T=c.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,p=s;var j=o,$=A;try{$()}catch(re){ct(p,j,re)}}}c=c.next}while(c!==g)}}catch(re){ct(s,s.return,re)}}function i0(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Qx(s,o)}catch(c){ct(i,i.return,c)}}}function s0(i,s,o){o.props=Ka(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){ct(i,s,c)}}function ic(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(p){ct(i,s,p)}}function vi(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){ct(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){ct(i,s,p)}else o.current=null}function a0(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){ct(i,i.return,p)}}function ig(i,s,o){try{var c=i.stateNode;dD(c,i.type,o,s),c[un]=s}catch(p){ct(i,i.return,p)}}function l0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zs(i.type)||i.tag===4}function sg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||l0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ag(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Br));else if(c!==4&&(c===27&&zs(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(ag(i,s,o),i=i.sibling;i!==null;)ag(i,s,o),i=i.sibling}function Lf(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&zs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Lf(i,s,o),i=i.sibling;i!==null;)Lf(i,s,o),i=i.sibling}function o0(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);En(s,c,o),s[Qt]=i,s[un]=o}catch(g){ct(i,i.return,g)}}var Qi=!1,en=!1,lg=!1,u0=typeof WeakSet=="function"?WeakSet:Set,hn=null;function YC(i,s){if(i=i.containerInfo,Ng=id,i=vx(i),ep(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,A=-1,j=-1,$=0,re=0,le=i,W=null;t:for(;;){for(var ne;le!==o||p!==0&&le.nodeType!==3||(A=T+p),le!==g||c!==0&&le.nodeType!==3||(j=T+c),le.nodeType===3&&(T+=le.nodeValue.length),(ne=le.firstChild)!==null;)W=le,le=ne;for(;;){if(le===i)break t;if(W===o&&++$===p&&(A=T),W===g&&++re===c&&(j=T),(ne=le.nextSibling)!==null)break;le=W,W=le.parentNode}le=ne}o=A===-1||j===-1?null:{start:A,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Rg={focusedElem:i,selectionRange:o},id=!1,hn=s;hn!==null;)if(s=hn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,hn=i;else for(;hn!==null;){switch(s=hn,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Te=Ka(o.type,p);i=c.getSnapshotBeforeUpdate(Te,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(De){ct(o,o.return,De)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Og(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Og(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,hn=i;break}hn=s.return}}function c0(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Xi(i,o),c&4&&rc(5,o);break;case 1:if(Xi(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){ct(o,o.return,T)}else{var p=Ka(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){ct(o,o.return,T)}}c&64&&i0(o),c&512&&ic(o,o.return);break;case 3:if(Xi(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Qx(i,s)}catch(T){ct(o,o.return,T)}}break;case 27:s===null&&c&4&&o0(o);case 26:case 5:Xi(i,o),s===null&&c&4&&a0(o),c&512&&ic(o,o.return);break;case 12:Xi(i,o);break;case 31:Xi(i,o),c&4&&d0(i,o);break;case 13:Xi(i,o),c&4&&m0(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=tD.bind(null,o),vD(i,o))));break;case 22:if(c=o.memoizedState!==null||Qi,!c){s=s!==null&&s.memoizedState!==null||en,p=Qi;var g=en;Qi=c,(en=s)&&!g?Wi(i,o,(o.subtreeFlags&8772)!==0):Xi(i,o),Qi=p,en=g}break;case 30:break;default:Xi(i,o)}}function h0(i){var s=i.alternate;s!==null&&(i.alternate=null,h0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Dl(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Nt=null,Hn=!1;function $i(i,s,o){for(o=o.child;o!==null;)f0(i,s,o),o=o.sibling}function f0(i,s,o){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Bt,o)}catch{}switch(o.tag){case 26:en||vi(o,s),$i(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:en||vi(o,s);var c=Nt,p=Hn;zs(o.type)&&(Nt=o.stateNode,Hn=!1),$i(i,s,o),dc(o.stateNode),Nt=c,Hn=p;break;case 5:en||vi(o,s);case 6:if(c=Nt,p=Hn,Nt=null,$i(i,s,o),Nt=c,Hn=p,Nt!==null)if(Hn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(o.stateNode)}catch(g){ct(o,s,g)}else try{Nt.removeChild(o.stateNode)}catch(g){ct(o,s,g)}break;case 18:Nt!==null&&(Hn?(i=Nt,ib(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),go(i)):ib(Nt,o.stateNode));break;case 4:c=Nt,p=Hn,Nt=o.stateNode.containerInfo,Hn=!0,$i(i,s,o),Nt=c,Hn=p;break;case 0:case 11:case 14:case 15:Vs(2,o,s),en||Vs(4,o,s),$i(i,s,o);break;case 1:en||(vi(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&s0(o,s,c)),$i(i,s,o);break;case 21:$i(i,s,o);break;case 22:en=(c=en)||o.memoizedState!==null,$i(i,s,o),en=c;break;default:$i(i,s,o)}}function d0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{go(i)}catch(o){ct(s,s.return,o)}}}function m0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{go(i)}catch(o){ct(s,s.return,o)}}function KC(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new u0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new u0),s;default:throw Error(r(435,i.tag))}}function jf(i,s){var o=KC(i);s.forEach(function(c){if(!o.has(c)){o.add(c);var p=nD.bind(null,i,c);c.then(p,p)}})}function Gn(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=i,T=s,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(zs(A.type)){Nt=A.stateNode,Hn=!1;break e}break;case 5:Nt=A.stateNode,Hn=!1;break e;case 3:case 4:Nt=A.stateNode.containerInfo,Hn=!0;break e}A=A.return}if(Nt===null)throw Error(r(160));f0(g,T,p),Nt=null,Hn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)p0(s,i),s=s.sibling}var Yr=null;function p0(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gn(s,i),Yn(i),c&4&&(Vs(3,i,i.return),rc(3,i),Vs(5,i,i.return));break;case 1:Gn(s,i),Yn(i),c&512&&(en||o===null||vi(o,o.return)),c&64&&Qi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=Yr;if(Gn(s,i),Yn(i),c&512&&(en||o===null||vi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[li]||g[Qt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),En(g,c,o),g[Qt]=i,$t(g),c=g;break e;case"link":var T=pb("link","href",p).get(c+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}g=p.createElement(c),En(g,c,o),p.head.appendChild(g);break;case"meta":if(T=pb("meta","content",p).get(c+(o.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}g=p.createElement(c),En(g,c,o),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[Qt]=i,$t(g),c=g}i.stateNode=c}else gb(p,i.type,i.stateNode);else i.stateNode=mb(p,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?gb(p,i.type,i.stateNode):mb(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&ig(i,i.memoizedProps,o.memoizedProps)}break;case 27:Gn(s,i),Yn(i),c&512&&(en||o===null||vi(o,o.return)),o!==null&&c&4&&ig(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Gn(s,i),Yn(i),c&512&&(en||o===null||vi(o,o.return)),i.flags&32){p=i.stateNode;try{qn(p,"")}catch(Te){ct(i,i.return,Te)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,ig(i,p,o!==null?o.memoizedProps:p)),c&1024&&(lg=!0);break;case 6:if(Gn(s,i),Yn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Te){ct(i,i.return,Te)}}break;case 3:if(ed=null,p=Yr,Yr=Jf(s.containerInfo),Gn(s,i),Yr=p,Yn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{go(s.containerInfo)}catch(Te){ct(i,i.return,Te)}lg&&(lg=!1,g0(i));break;case 4:c=Yr,Yr=Jf(i.stateNode.containerInfo),Gn(s,i),Yn(i),Yr=c;break;case 12:Gn(s,i),Yn(i);break;case 31:Gn(s,i),Yn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jf(i,c)));break;case 13:Gn(s,i),Yn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Bf=mn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jf(i,c)));break;case 22:p=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,$=Qi,re=en;if(Qi=$||p,en=re||j,Gn(s,i),en=re,Qi=$,Yn(i),c&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||j||Qi||en||Qa(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){j=o=s;try{if(g=j.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=j.stateNode;var le=j.memoizedProps.style,W=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Te){ct(j,j.return,Te)}}}else if(s.tag===6){if(o===null){j=s;try{j.stateNode.nodeValue=p?"":j.memoizedProps}catch(Te){ct(j,j.return,Te)}}}else if(s.tag===18){if(o===null){j=s;try{var ne=j.stateNode;p?sb(ne,!0):sb(j.stateNode,!1)}catch(Te){ct(j,j.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,jf(i,o))));break;case 19:Gn(s,i),Yn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jf(i,c)));break;case 30:break;case 21:break;default:Gn(s,i),Yn(i)}}function Yn(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(l0(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,g=sg(i);Lf(i,g,p);break;case 5:var T=o.stateNode;o.flags&32&&(qn(T,""),o.flags&=-33);var A=sg(i);Lf(i,A,T);break;case 3:case 4:var j=o.stateNode.containerInfo,$=sg(i);ag(i,$,j);break;default:throw Error(r(161))}}catch(re){ct(i,i.return,re)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function g0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;g0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Xi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)c0(i,s.alternate,s),s=s.sibling}function Qa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Vs(4,s,s.return),Qa(s);break;case 1:vi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&s0(s,s.return,o),Qa(s);break;case 27:dc(s.stateNode);case 26:case 5:vi(s,s.return),Qa(s);break;case 22:s.memoizedState===null&&Qa(s);break;case 30:Qa(s);break;default:Qa(s)}i=i.sibling}}function Wi(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Wi(p,g,o),rc(4,g);break;case 1:if(Wi(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch($){ct(c,c.return,$)}if(c=g,p=c.updateQueue,p!==null){var A=c.stateNode;try{var j=p.shared.hiddenCallbacks;if(j!==null)for(p.shared.hiddenCallbacks=null,p=0;p<j.length;p++)Kx(j[p],A)}catch($){ct(c,c.return,$)}}o&&T&64&&i0(g),ic(g,g.return);break;case 27:o0(g);case 26:case 5:Wi(p,g,o),o&&c===null&&T&4&&a0(g),ic(g,g.return);break;case 12:Wi(p,g,o);break;case 31:Wi(p,g,o),o&&T&4&&d0(p,g);break;case 13:Wi(p,g,o),o&&T&4&&m0(p,g);break;case 22:g.memoizedState===null&&Wi(p,g,o),ic(g,g.return);break;case 30:break;default:Wi(p,g,o)}s=s.sibling}}function og(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Hu(o))}function ug(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Hu(i))}function Kr(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)y0(i,s,o,c),s=s.sibling}function y0(i,s,o,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Kr(i,s,o,c),p&2048&&rc(9,s);break;case 1:Kr(i,s,o,c);break;case 3:Kr(i,s,o,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Hu(i)));break;case 12:if(p&2048){Kr(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){ct(s,s.return,j)}}else Kr(i,s,o,c);break;case 31:Kr(i,s,o,c);break;case 13:Kr(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Kr(i,s,o,c):sc(i,s):g._visibility&2?Kr(i,s,o,c):(g._visibility|=2,io(i,s,o,c,(s.subtreeFlags&10256)!==0||!1)),p&2048&&og(T,s);break;case 24:Kr(i,s,o,c),p&2048&&ug(s.alternate,s);break;default:Kr(i,s,o,c)}}function io(i,s,o,c,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,T=s,A=o,j=c,$=T.flags;switch(T.tag){case 0:case 11:case 15:io(g,T,A,j,p),rc(8,T);break;case 23:break;case 22:var re=T.stateNode;T.memoizedState!==null?re._visibility&2?io(g,T,A,j,p):sc(g,T):(re._visibility|=2,io(g,T,A,j,p)),p&&$&2048&&og(T.alternate,T);break;case 24:io(g,T,A,j,p),p&&$&2048&&ug(T.alternate,T);break;default:io(g,T,A,j,p)}s=s.sibling}}function sc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,p=c.flags;switch(c.tag){case 22:sc(o,c),p&2048&&og(c.alternate,c);break;case 24:sc(o,c),p&2048&&ug(c.alternate,c);break;default:sc(o,c)}s=s.sibling}}var ac=8192;function so(i,s,o){if(i.subtreeFlags&ac)for(i=i.child;i!==null;)_0(i,s,o),i=i.sibling}function _0(i,s,o){switch(i.tag){case 26:so(i,s,o),i.flags&ac&&i.memoizedState!==null&&kD(o,Yr,i.memoizedState,i.memoizedProps);break;case 5:so(i,s,o);break;case 3:case 4:var c=Yr;Yr=Jf(i.stateNode.containerInfo),so(i,s,o),Yr=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=ac,ac=16777216,so(i,s,o),ac=c):so(i,s,o));break;default:so(i,s,o)}}function E0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function lc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];hn=c,v0(c,i)}E0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)x0(i),i=i.sibling}function x0(i){switch(i.tag){case 0:case 11:case 15:lc(i),i.flags&2048&&Vs(9,i,i.return);break;case 3:lc(i);break;case 12:lc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Uf(i)):lc(i);break;default:lc(i)}}function Uf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];hn=c,v0(c,i)}E0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Vs(8,s,s.return),Uf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Uf(s));break;default:Uf(s)}i=i.sibling}}function v0(i,s){for(;hn!==null;){var o=hn;switch(o.tag){case 0:case 11:case 15:Vs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Hu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,hn=c;else e:for(o=i;hn!==null;){c=hn;var p=c.sibling,g=c.return;if(h0(c),c===o){hn=null;break e}if(p!==null){p.return=g,hn=p;break e}hn=g}}}var QC={getCacheForType:function(i){var s=yn(Wt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return yn(Wt).controller.signal}},$C=typeof WeakMap=="function"?WeakMap:Map,st=0,_t=null,qe=null,Ye=0,ut=0,or=null,Ms=!1,ao=!1,cg=!1,Ji=0,jt=0,Ps=0,$a=0,hg=0,ur=0,lo=0,oc=null,Kn=null,fg=!1,Bf=0,b0=0,zf=1/0,Ff=null,Ls=null,an=0,js=null,oo=null,Zi=0,dg=0,mg=null,T0=null,uc=0,pg=null;function cr(){return(st&2)!==0&&Ye!==0?Ye&-Ye:X.T!==null?vg():Fh()}function w0(){if(ur===0)if((Ye&536870912)===0||Xe){var i=ba;ba<<=1,(ba&3932160)===0&&(ba=262144),ur=i}else ur=536870912;return i=ar.current,i!==null&&(i.flags|=32),ur}function Qn(i,s,o){(i===_t&&(ut===2||ut===9)||i.cancelPendingCommit!==null)&&(uo(i,0),Us(i,Ye,ur,!1)),Ta(i,o),((st&2)===0||i!==_t)&&(i===_t&&((st&2)===0&&($a|=o),jt===4&&Us(i,Ye,ur,!1)),bi(i))}function A0(i,s,o){if((st&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&i.expiredLanes)===0||Lr(i,s),p=c?JC(i,s):yg(i,s,!0),g=c;do{if(p===0){ao&&!c&&Us(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!XC(o)){p=yg(i,s,!1),g=!1;continue}if(p===2){if(g=s,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var A=i;p=oc;var j=A.current.memoizedState.isDehydrated;if(j&&(uo(A,T).flags|=256),T=yg(A,T,!1),T!==2){if(cg&&!j){A.errorRecoveryDisabledLanes|=g,$a|=g,p=4;break e}g=Kn,Kn=p,g!==null&&(Kn===null?Kn=g:Kn.push.apply(Kn,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){uo(i,0),Us(i,s,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Us(c,s,ur,!Ms);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Bf+300-mn(),10<p)){if(Us(c,s,ur,!Ms),ii(c,0,!0)!==0)break e;Zi=s,c.timeoutHandle=nb(S0.bind(null,c,o,Kn,Ff,fg,s,ur,$a,lo,Ms,g,"Throttled",-0,0),p);break e}S0(c,o,Kn,Ff,fg,s,ur,$a,lo,Ms,g,null,-0,0)}}break}while(!0);bi(i)}function S0(i,s,o,c,p,g,T,A,j,$,re,le,W,ne){if(i.timeoutHandle=-1,le=s.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Br},_0(s,g,le);var Te=(g&62914560)===g?Bf-mn():(g&4194048)===g?b0-mn():0;if(Te=VD(le,Te),Te!==null){Zi=g,i.cancelPendingCommit=Te(V0.bind(null,i,s,g,o,c,p,T,A,j,re,le,null,W,ne)),Us(i,g,T,!$);return}}V0(i,s,g,o,c,p,T,A,j)}function XC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!ir(g(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Us(i,s,o,c){s&=~hg,s&=~$a,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var g=31-$e(p),T=1<<g;c[g]=-1,p&=~T}o!==0&&wa(i,o,s)}function qf(){return(st&6)===0?(cc(0),!1):!0}function gg(){if(qe!==null){if(ut===0)var i=qe.return;else i=qe,Fi=Ba=null,Op(i),Zl=null,Yu=0,i=qe;for(;i!==null;)r0(i.alternate,i),i=i.return;qe=null}}function uo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,gD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Zi=0,gg(),_t=i,qe=o=Bi(i.current,null),Ye=s,ut=0,or=null,Ms=!1,ao=Lr(i,s),cg=!1,lo=ur=hg=$a=Ps=jt=0,Kn=oc=null,fg=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-$e(c),g=1<<p;s|=i[p],c&=~g}return Ji=s,cf(),o}function I0(i,s){Le=null,X.H=ec,s===Jl||s===_f?(s=qx(),ut=3):s===xp?(s=qx(),ut=4):ut=s===Qp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,or=s,qe===null&&(jt=1,Of(i,Tr(s,i.current)))}function N0(){var i=ar.current;return i===null?!0:(Ye&4194048)===Ye?Ir===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?i===Ir:!1}function R0(){var i=X.H;return X.H=ec,i===null?ec:i}function C0(){var i=X.A;return X.A=QC,i}function Hf(){jt=4,Ms||(Ye&4194048)!==Ye&&ar.current!==null||(ao=!0),(Ps&134217727)===0&&($a&134217727)===0||_t===null||Us(_t,Ye,ur,!1)}function yg(i,s,o){var c=st;st|=2;var p=R0(),g=C0();(_t!==i||Ye!==s)&&(Ff=null,uo(i,s)),s=!1;var T=jt;e:do try{if(ut!==0&&qe!==null){var A=qe,j=or;switch(ut){case 8:gg(),T=6;break e;case 3:case 2:case 9:case 6:ar.current===null&&(s=!0);var $=ut;if(ut=0,or=null,co(i,A,j,$),o&&ao){T=0;break e}break;default:$=ut,ut=0,or=null,co(i,A,j,$)}}WC(),T=jt;break}catch(re){I0(i,re)}while(!0);return s&&i.shellSuspendCounter++,Fi=Ba=null,st=c,X.H=p,X.A=g,qe===null&&(_t=null,Ye=0,cf()),T}function WC(){for(;qe!==null;)D0(qe)}function JC(i,s){var o=st;st|=2;var c=R0(),p=C0();_t!==i||Ye!==s?(Ff=null,zf=mn()+500,uo(i,s)):ao=Lr(i,s);e:do try{if(ut!==0&&qe!==null){s=qe;var g=or;t:switch(ut){case 1:ut=0,or=null,co(i,s,g,1);break;case 2:case 9:if(zx(g)){ut=0,or=null,O0(s);break}s=function(){ut!==2&&ut!==9||_t!==i||(ut=7),bi(i)},g.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:zx(g)?(ut=0,or=null,O0(s)):(ut=0,or=null,co(i,s,g,7));break;case 5:var T=null;switch(qe.tag){case 26:T=qe.memoizedState;case 5:case 27:var A=qe;if(T?yb(T):A.stateNode.complete){ut=0,or=null;var j=A.sibling;if(j!==null)qe=j;else{var $=A.return;$!==null?(qe=$,Gf($)):qe=null}break t}}ut=0,or=null,co(i,s,g,5);break;case 6:ut=0,or=null,co(i,s,g,6);break;case 8:gg(),jt=6;break e;default:throw Error(r(462))}}ZC();break}catch(re){I0(i,re)}while(!0);return Fi=Ba=null,X.H=c,X.A=p,st=o,qe!==null?0:(_t=null,Ye=0,cf(),jt)}function ZC(){for(;qe!==null&&!xu();)D0(qe)}function D0(i){var s=t0(i.alternate,i,Ji);i.memoizedProps=i.pendingProps,s===null?Gf(i):qe=s}function O0(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=$v(o,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=$v(o,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:Op(s);default:r0(o,s),s=qe=Cx(s,Ji),s=t0(o,s,Ji)}i.memoizedProps=i.pendingProps,s===null?Gf(i):qe=s}function co(i,s,o,c){Fi=Ba=null,Op(s),Zl=null,Yu=0;var p=s.return;try{if(zC(i,p,s,o,Ye)){jt=1,Of(i,Tr(o,i.current)),qe=null;return}}catch(g){if(p!==null)throw qe=p,g;jt=1,Of(i,Tr(o,i.current)),qe=null;return}s.flags&32768?(Xe||c===1?i=!0:ao||(Ye&536870912)!==0?i=!1:(Ms=i=!0,(c===2||c===9||c===3||c===6)&&(c=ar.current,c!==null&&c.tag===13&&(c.flags|=16384))),k0(s,i)):Gf(s)}function Gf(i){var s=i;do{if((s.flags&32768)!==0){k0(s,Ms);return}i=s.return;var o=HC(s.alternate,s,Ji);if(o!==null){qe=o;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=i}while(s!==null);jt===0&&(jt=5)}function k0(i,s){do{var o=GC(i.alternate,i);if(o!==null){o.flags&=32767,qe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){qe=i;return}qe=i=o}while(i!==null);jt=6,qe=null}function V0(i,s,o,c,p,g,T,A,j){i.cancelPendingCommit=null;do Yf();while(an!==0);if((st&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=sp,Xm(i,o,g,T,A,j),i===_t&&(qe=_t=null,Ye=0),oo=s,js=i,Zi=o,dg=g,mg=p,T0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,rD(Ce,function(){return U0(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,p=ce.p,ce.p=2,T=st,st|=4;try{YC(i,s,o)}finally{st=T,ce.p=p,X.T=c}}an=1,M0(),P0(),L0()}}function M0(){if(an===1){an=0;var i=js,s=oo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var c=ce.p;ce.p=2;var p=st;st|=4;try{p0(s,i);var g=Rg,T=vx(i.containerInfo),A=g.focusedElem,j=g.selectionRange;if(T!==A&&A&&A.ownerDocument&&xx(A.ownerDocument.documentElement,A)){if(j!==null&&ep(A)){var $=j.start,re=j.end;if(re===void 0&&(re=$),"selectionStart"in A)A.selectionStart=$,A.selectionEnd=Math.min(re,A.value.length);else{var le=A.ownerDocument||document,W=le&&le.defaultView||window;if(W.getSelection){var ne=W.getSelection(),Te=A.textContent.length,De=Math.min(j.start,Te),yt=j.end===void 0?De:Math.min(j.end,Te);!ne.extend&&De>yt&&(T=yt,yt=De,De=T);var H=Ex(A,De),F=Ex(A,yt);if(H&&F&&(ne.rangeCount!==1||ne.anchorNode!==H.node||ne.anchorOffset!==H.offset||ne.focusNode!==F.node||ne.focusOffset!==F.offset)){var Q=le.createRange();Q.setStart(H.node,H.offset),ne.removeAllRanges(),De>yt?(ne.addRange(Q),ne.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),ne.addRange(Q))}}}}for(le=[],ne=A;ne=ne.parentNode;)ne.nodeType===1&&le.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var ae=le[A];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}id=!!Ng,Rg=Ng=null}finally{st=p,ce.p=c,X.T=o}}i.current=s,an=2}}function P0(){if(an===2){an=0;var i=js,s=oo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var c=ce.p;ce.p=2;var p=st;st|=4;try{c0(i,s.alternate,s)}finally{st=p,ce.p=c,X.T=o}}an=3}}function L0(){if(an===4||an===3){an=0,Rl();var i=js,s=oo,o=Zi,c=T0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,oo=js=null,j0(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ls=null),Pi(o),s=s.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Bt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=X.T,p=ce.p,ce.p=2,X.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var A=c[T];g(A.value,{componentStack:A.stack})}}finally{X.T=s,ce.p=p}}(Zi&3)!==0&&Yf(),bi(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===pg?uc++:(uc=0,pg=i):uc=0,cc(0)}}function j0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Hu(s)))}function Yf(){return M0(),P0(),L0(),U0()}function U0(){if(an!==5)return!1;var i=js,s=dg;dg=0;var o=Pi(Zi),c=X.T,p=ce.p;try{ce.p=32>o?32:o,X.T=null,o=mg,mg=null;var g=js,T=Zi;if(an=0,oo=js=null,Zi=0,(st&6)!==0)throw Error(r(331));var A=st;if(st|=4,x0(g.current),y0(g,g.current,T,o),st=A,cc(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Bt,g)}catch{}return!0}finally{ce.p=p,X.T=c,j0(i,s)}}function B0(i,s,o){s=Tr(o,s),s=Kp(i.stateNode,s,2),i=Ds(i,s,2),i!==null&&(Ta(i,2),bi(i))}function ct(i,s,o){if(i.tag===3)B0(i,i,o);else for(;s!==null;){if(s.tag===3){B0(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ls===null||!Ls.has(c))){i=Tr(o,i),o=zv(2),c=Ds(s,o,2),c!==null&&(Fv(o,c,s,i),Ta(c,2),bi(c));break}}s=s.return}}function _g(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new $C;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(o)||(cg=!0,p.add(o),i=eD.bind(null,i,s,o),s.then(i,i))}function eD(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,_t===i&&(Ye&o)===o&&(jt===4||jt===3&&(Ye&62914560)===Ye&&300>mn()-Bf?(st&2)===0&&uo(i,0):hg|=o,lo===Ye&&(lo=0)),bi(i)}function z0(i,s){s===0&&(s=zh()),i=La(i,s),i!==null&&(Ta(i,s),bi(i))}function tD(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),z0(i,o)}function nD(i,s){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),z0(i,o)}function rD(i,s){return Pt(i,s)}var Kf=null,ho=null,Eg=!1,Qf=!1,xg=!1,Bs=0;function bi(i){i!==ho&&i.next===null&&(ho===null?Kf=ho=i:ho=ho.next=i),Qf=!0,Eg||(Eg=!0,sD())}function cc(i,s){if(!xg&&Qf){xg=!0;do for(var o=!1,c=Kf;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-$e(42|i)+1)-1,g&=p&~(T&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,G0(c,g))}else g=Ye,g=ii(c,c===_t?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Lr(c,g)||(o=!0,G0(c,g));c=c.next}while(o);xg=!1}}function iD(){F0()}function F0(){Qf=Eg=!1;var i=0;Bs!==0&&pD()&&(i=Bs);for(var s=mn(),o=null,c=Kf;c!==null;){var p=c.next,g=q0(c,s);g===0?(c.next=null,o===null?Kf=p:o.next=p,p===null&&(ho=o)):(o=c,(i!==0||(g&3)!==0)&&(Qf=!0)),c=p}an!==0&&an!==5||cc(i),Bs!==0&&(Bs=0)}function q0(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-$e(g),A=1<<T,j=p[T];j===-1?((A&o)===0||(A&c)!==0)&&(p[T]=$m(A,s)):j<=s&&(i.expiredLanes|=A),g&=~A}if(s=_t,o=Ye,o=ii(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(ut===2||ut===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ti(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Lr(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&ti(c),Pi(o)){case 2:case 8:o=pe;break;case 32:o=Ce;break;case 268435456:o=Ze;break;default:o=Ce}return c=H0.bind(null,i),o=Pt(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&ti(c),i.callbackPriority=2,i.callbackNode=null,2}function H0(i,s){if(an!==0&&an!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Yf()&&i.callbackNode!==o)return null;var c=Ye;return c=ii(i,i===_t?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(A0(i,c,s),q0(i,mn()),i.callbackNode!=null&&i.callbackNode===o?H0.bind(null,i):null)}function G0(i,s){if(Yf())return null;A0(i,s,!0)}function sD(){yD(function(){(st&6)!==0?Pt(se,iD):F0()})}function vg(){if(Bs===0){var i=Xl;i===0&&(i=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Bs=i}return Bs}function Y0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ml(""+i)}function K0(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function aD(i,s,o,c,p){if(s==="submit"&&o&&o.stateNode===p){var g=Y0((p[un]||null).action),T=c.submitter;T&&(s=(s=T[un]||null)?Y0(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var A=new pi("action","action",null,c,p);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Bs!==0){var j=T?K0(p,T):new FormData(p);zp(o,{pending:!0,data:j,method:p.method,action:g},null,j)}}else typeof g=="function"&&(A.preventDefault(),j=T?K0(p,T):new FormData(p),zp(o,{pending:!0,data:j,method:p.method,action:g},g,j))},currentTarget:p}]})}}for(var bg=0;bg<ip.length;bg++){var Tg=ip[bg],lD=Tg.toLowerCase(),oD=Tg[0].toUpperCase()+Tg.slice(1);Gr(lD,"on"+oD)}Gr(wx,"onAnimationEnd"),Gr(Ax,"onAnimationIteration"),Gr(Sx,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(wC,"onTransitionRun"),Gr(AC,"onTransitionStart"),Gr(SC,"onTransitionCancel"),Gr(Ix,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function Q0(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var A=c[T],j=A.instance,$=A.currentTarget;if(A=A.listener,j!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=$;try{g(p)}catch(re){uf(re)}p.currentTarget=null,g=j}else for(T=0;T<c.length;T++){if(A=c[T],j=A.instance,$=A.currentTarget,A=A.listener,j!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=$;try{g(p)}catch(re){uf(re)}p.currentTarget=null,g=j}}}}function He(i,s){var o=s[Cl];o===void 0&&(o=s[Cl]=new Set);var c=i+"__bubble";o.has(c)||($0(s,i,2,!1),o.add(c))}function wg(i,s,o){var c=0;s&&(c|=4),$0(o,i,c,s)}var $f="_reactListening"+Math.random().toString(36).slice(2);function Ag(i){if(!i[$f]){i[$f]=!0,Tu.forEach(function(o){o!=="selectionchange"&&(uD.has(o)||wg(o,!1,i),wg(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[$f]||(s[$f]=!0,wg("selectionchange",!1,s))}}function $0(i,s,o,c){switch(wb(s)){case 2:var p=LD;break;case 8:p=jD;break;default:p=Bg}o=p.bind(null,s,o,i),p=void 0,!Ra||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,o,{capture:!0,passive:p}):i.addEventListener(s,o,!0):p!==void 0?i.addEventListener(s,o,{passive:p}):i.addEventListener(s,o,!1)}function Sg(i,s,o,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var A=c.stateNode.containerInfo;if(A===p)break;if(T===4)for(T=c.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;A!==null;){if(T=oi(A),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){c=g=T;continue e}A=A.parentNode}}c=c.return}vs(function(){var $=g,re=Er(o),le=[];e:{var W=Nx.get(i);if(W!==void 0){var ne=pi,Te=i;switch(i){case"keypress":if(Da(o)===0)break e;case"keydown":case"keyup":ne=af;break;case"focusin":Te="focus",ne=ka;break;case"focusout":Te="blur",ne=ka;break;case"beforeblur":case"afterblur":ne=ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=x;break;case wx:case Ax:case Sx:ne=Jh;break;case Ix:ne=I;break;case"scroll":case"scrollend":ne=Mu;break;case"wheel":ne=ee;break;case"copy":case"cut":case"paste":ne=Zh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ui;break;case"toggle":case"beforetoggle":ne=Pe}var De=(s&4)!==0,yt=!De&&(i==="scroll"||i==="scrollend"),H=De?W!==null?W+"Capture":null:W;De=[];for(var F=$,Q;F!==null;){var ae=F;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||H===null||(ae=zr(F,H),ae!=null&&De.push(fc(F,ae,Q))),yt)break;F=F.return}0<De.length&&(W=new ne(W,Te,null,o,re),le.push({event:W,listeners:De}))}}if((s&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",W&&o!==Ou&&(Te=o.relatedTarget||o.fromElement)&&(oi(Te)||Te[ai]))break e;if((ne||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(Te=o.relatedTarget||o.toElement,ne=$,Te=Te?oi(Te):null,Te!==null&&(yt=l(Te),De=Te.tag,Te!==yt||De!==5&&De!==27&&De!==6)&&(Te=null)):(ne=null,Te=$),ne!==Te)){if(De=Pu,ae="onMouseLeave",H="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(De=Ui,ae="onPointerLeave",H="onPointerEnter",F="pointer"),yt=ne==null?W:nr(ne),Q=Te==null?W:nr(Te),W=new De(ae,F+"leave",ne,o,re),W.target=yt,W.relatedTarget=Q,ae=null,oi(re)===$&&(De=new De(H,F+"enter",Te,o,re),De.target=Q,De.relatedTarget=yt,ae=De),yt=ae,ne&&Te)t:{for(De=cD,H=ne,F=Te,Q=0,ae=H;ae;ae=De(ae))Q++;ae=0;for(var Ne=F;Ne;Ne=De(Ne))ae++;for(;0<Q-ae;)H=De(H),Q--;for(;0<ae-Q;)F=De(F),ae--;for(;Q--;){if(H===F||F!==null&&H===F.alternate){De=H;break t}H=De(H),F=De(F)}De=null}else De=null;ne!==null&&X0(le,W,ne,De,!1),Te!==null&&yt!==null&&X0(le,yt,Te,De,!0)}}e:{if(W=$?nr($):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var et=dx;else if(hx(W))if(mx)et=vC;else{et=EC;var Ae=_C}else ne=W.nodeName,!ne||ne.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?$&&Vl($.elementType)&&(et=dx):et=xC;if(et&&(et=et(i,$))){fx(le,et,o,re);break e}Ae&&Ae(i,W,$),i==="focusout"&&$&&W.type==="number"&&$.memoizedProps.value!=null&&Ru(W,"number",W.value)}switch(Ae=$?nr($):window,i){case"focusin":(hx(Ae)||Ae.contentEditable==="true")&&(Fl=Ae,tp=$,zu=null);break;case"focusout":zu=tp=Fl=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,bx(le,o,re);break;case"selectionchange":if(TC)break;case"keydown":case"keyup":bx(le,o,re)}var Ue;if(it)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else zl?Va(i,o)&&(Ke="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ke="onCompositionStart");Ke&&(_i&&o.locale!=="ko"&&(zl||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&zl&&(Ue=Vu()):(mi=re,ku="value"in mi?mi.value:mi.textContent,zl=!0)),Ae=Xf($,Ke),0<Ae.length&&(Ke=new yi(Ke,i,null,o,re),le.push({event:Ke,listeners:Ae}),Ue?Ke.data=Ue:(Ue=Bl(o),Ue!==null&&(Ke.data=Ue)))),(Ue=vr?mC(i,o):pC(i,o))&&(Ke=Xf($,"onBeforeInput"),0<Ke.length&&(Ae=new yi("onBeforeInput","beforeinput",null,o,re),le.push({event:Ae,listeners:Ke}),Ae.data=Ue)),aD(le,i,$,o,re)}Q0(le,s)})}function fc(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Xf(i,s){for(var o=s+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=zr(i,o),p!=null&&c.unshift(fc(i,p,g)),p=zr(i,s),p!=null&&c.push(fc(i,p,g))),i.tag===3)return c;i=i.return}return[]}function cD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function X0(i,s,o,c,p){for(var g=s._reactName,T=[];o!==null&&o!==c;){var A=o,j=A.alternate,$=A.stateNode;if(A=A.tag,j!==null&&j===c)break;A!==5&&A!==26&&A!==27||$===null||(j=$,p?($=zr(o,g),$!=null&&T.unshift(fc(o,$,j))):p||($=zr(o,g),$!=null&&T.push(fc(o,$,j)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var hD=/\r\n?/g,fD=/\u0000|\uFFFD/g;function W0(i){return(typeof i=="string"?i:""+i).replace(hD,`
`).replace(fD,"")}function J0(i,s){return s=W0(s),W0(i)===s}function gt(i,s,o,c,p,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||qn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&qn(i,""+c);break;case"className":rr(i,"class",c);break;case"tabIndex":rr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(i,o,c);break;case"style":Du(i,c,g);break;case"data":if(s!=="object"){rr(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ml(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&gt(i,s,"name",p.name,p,null),gt(i,s,"formEncType",p.formEncType,p,null),gt(i,s,"formMethod",p.formMethod,p,null),gt(i,s,"formTarget",p.formTarget,p,null)):(gt(i,s,"encType",p.encType,p,null),gt(i,s,"method",p.method,p,null),gt(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ml(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Br);break;case"onScroll":c!=null&&He("scroll",i);break;case"onScrollEnd":c!=null&&He("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ml(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":He("beforetoggle",i),He("toggle",i),Ol(i,"popover",c);break;case"xlinkActuate":Xt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ol(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=$h.get(o)||o,Ol(i,o,c))}}function Ig(i,s,o,c,p,g){switch(o){case"style":Du(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?qn(i,c):(typeof c=="number"||typeof c=="bigint")&&qn(i,""+c);break;case"onScroll":c!=null&&He("scroll",i);break;case"onScrollEnd":c!=null&&He("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),g=i[un]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,p);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Ol(i,o,c)}}}function En(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",i),He("load",i);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:gt(i,s,g,T,o,null)}}p&&gt(i,s,"srcSet",o.srcSet,o,null),c&&gt(i,s,"src",o.src,o,null);return;case"input":He("invalid",i);var A=g=T=p=null,j=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var re=o[c];if(re!=null)switch(c){case"name":p=re;break;case"type":T=re;break;case"checked":j=re;break;case"defaultChecked":$=re;break;case"value":g=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:gt(i,s,c,re,o,null)}}Yh(i,g,A,j,$,T,p,!1);return;case"select":He("invalid",i),c=T=g=null;for(p in o)if(o.hasOwnProperty(p)&&(A=o[p],A!=null))switch(p){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":c=A;default:gt(i,s,p,A,o,null)}s=g,o=T,i.multiple=!!c,s!=null?ys(i,!!c,s,!1):o!=null&&ys(i,!!c,o,!0);return;case"textarea":He("invalid",i),g=p=c=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":c=A;break;case"defaultValue":p=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:gt(i,s,T,A,o,null)}_s(i,c,p,g);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(c=o[j],c!=null))switch(j){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:gt(i,s,j,c,o,null)}return;case"dialog":He("beforetoggle",i),He("toggle",i),He("cancel",i),He("close",i);break;case"iframe":case"object":He("load",i);break;case"video":case"audio":for(c=0;c<hc.length;c++)He(hc[c],i);break;case"image":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"embed":case"source":case"link":He("error",i),He("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:gt(i,s,$,c,o,null)}return;default:if(Vl(s)){for(re in o)o.hasOwnProperty(re)&&(c=o[re],c!==void 0&&Ig(i,s,re,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&gt(i,s,A,c,o,null))}function dD(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,A=null,j=null,$=null,re=null;for(ne in o){var le=o[ne];if(o.hasOwnProperty(ne)&&le!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":j=le;default:c.hasOwnProperty(ne)||gt(i,s,ne,null,c,le)}}for(var W in c){var ne=c[W];if(le=o[W],c.hasOwnProperty(W)&&(ne!=null||le!=null))switch(W){case"type":g=ne;break;case"name":p=ne;break;case"checked":$=ne;break;case"defaultChecked":re=ne;break;case"value":T=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:ne!==le&&gt(i,s,W,ne,c,le)}}kl(i,T,A,j,$,re,g,p);return;case"select":ne=T=A=W=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":ne=j;default:c.hasOwnProperty(g)||gt(i,s,g,null,c,j)}for(p in c)if(g=c[p],j=o[p],c.hasOwnProperty(p)&&(g!=null||j!=null))switch(p){case"value":W=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==j&&gt(i,s,p,g,c,j)}s=A,o=T,c=ne,W!=null?ys(i,!!o,W,!1):!!c!=!!o&&(s!=null?ys(i,!!o,s,!0):ys(i,!!o,o?[]:"",!1));return;case"textarea":ne=W=null;for(A in o)if(p=o[A],o.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:gt(i,s,A,null,c,p)}for(T in c)if(p=c[T],g=o[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":W=p;break;case"defaultValue":ne=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&gt(i,s,T,p,c,g)}Kh(i,W,ne);return;case"option":for(var Te in o)if(W=o[Te],o.hasOwnProperty(Te)&&W!=null&&!c.hasOwnProperty(Te))switch(Te){case"selected":i.selected=!1;break;default:gt(i,s,Te,null,c,W)}for(j in c)if(W=c[j],ne=o[j],c.hasOwnProperty(j)&&W!==ne&&(W!=null||ne!=null))switch(j){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:gt(i,s,j,W,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)W=o[De],o.hasOwnProperty(De)&&W!=null&&!c.hasOwnProperty(De)&&gt(i,s,De,null,c,W);for($ in c)if(W=c[$],ne=o[$],c.hasOwnProperty($)&&W!==ne&&(W!=null||ne!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:gt(i,s,$,W,c,ne)}return;default:if(Vl(s)){for(var yt in o)W=o[yt],o.hasOwnProperty(yt)&&W!==void 0&&!c.hasOwnProperty(yt)&&Ig(i,s,yt,void 0,c,W);for(re in c)W=c[re],ne=o[re],!c.hasOwnProperty(re)||W===ne||W===void 0&&ne===void 0||Ig(i,s,re,W,c,ne);return}}for(var H in o)W=o[H],o.hasOwnProperty(H)&&W!=null&&!c.hasOwnProperty(H)&&gt(i,s,H,null,c,W);for(le in c)W=c[le],ne=o[le],!c.hasOwnProperty(le)||W===ne||W==null&&ne==null||gt(i,s,le,W,c,ne)}function Z0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,T=p.initiatorType,A=p.duration;if(g&&A&&Z0(T)){for(T=0,A=p.responseEnd,c+=1;c<o.length;c++){var j=o[c],$=j.startTime;if($>A)break;var re=j.transferSize,le=j.initiatorType;re&&Z0(le)&&(j=j.responseEnd,T+=re*(j<A?1:(A-$)/(j-$)))}if(--c,s+=8*(g+T)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ng=null,Rg=null;function Wf(i){return i.nodeType===9?i:i.ownerDocument}function eb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Cg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dg=null;function pD(){var i=window.event;return i&&i.type==="popstate"?i===Dg?!1:(Dg=i,!0):(Dg=null,!1)}var nb=typeof setTimeout=="function"?setTimeout:void 0,gD=typeof clearTimeout=="function"?clearTimeout:void 0,rb=typeof Promise=="function"?Promise:void 0,yD=typeof queueMicrotask=="function"?queueMicrotask:typeof rb<"u"?function(i){return rb.resolve(null).then(i).catch(_D)}:nb;function _D(i){setTimeout(function(){throw i})}function zs(i){return i==="head"}function ib(i,s){var o=s,c=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(p),go(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")dc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,dc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,A=g.nodeName;g[li]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&dc(i.ownerDocument.body);o=p}while(o);go(s)}function sb(i,s){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Og(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Og(o),Dl(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function ED(i,s,o,c){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[li])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Nr(i.nextSibling),i===null)break}return null}function xD(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Nr(i.nextSibling),i===null))return null;return i}function ab(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Nr(i.nextSibling),i===null))return null;return i}function kg(i){return i.data==="$?"||i.data==="$~"}function Vg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function vD(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Nr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Mg=null;function lb(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Nr(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function ob(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function ub(i,s,o){switch(s=Wf(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function dc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Dl(i)}var Rr=new Map,cb=new Set;function Jf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var es=ce.d;ce.d={f:bD,r:TD,D:wD,C:AD,L:SD,m:ID,X:RD,S:ND,M:CD};function bD(){var i=es.f(),s=qf();return i||s}function TD(i){var s=_r(i);s!==null&&s.tag===5&&s.type==="form"?Iv(s):es.r(i)}var fo=typeof document>"u"?null:document;function hb(i,s,o){var c=fo;if(c&&typeof s=="string"&&s){var p=Fn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),cb.has(p)||(cb.add(p),i={rel:i,crossOrigin:o,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),En(s,"link",i),$t(s),c.head.appendChild(s)))}}function wD(i){es.D(i),hb("dns-prefetch",i,null)}function AD(i,s){es.C(i,s),hb("preconnect",i,s)}function SD(i,s,o){es.L(i,s,o);var c=fo;if(c&&i&&s){var p='link[rel="preload"][as="'+Fn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Fn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Fn(o.imageSizes)+'"]')):p+='[href="'+Fn(i)+'"]';var g=p;switch(s){case"style":g=mo(i);break;case"script":g=po(i)}Rr.has(g)||(i=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Rr.set(g,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(mc(g))||s==="script"&&c.querySelector(pc(g))||(s=c.createElement("link"),En(s,"link",i),$t(s),c.head.appendChild(s)))}}function ID(i,s){es.m(i,s);var o=fo;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Fn(c)+'"][href="'+Fn(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=po(i)}if(!Rr.has(g)&&(i=_({rel:"modulepreload",href:i},s),Rr.set(g,i),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pc(g)))return}c=o.createElement("link"),En(c,"link",i),$t(c),o.head.appendChild(c)}}}function ND(i,s,o){es.S(i,s,o);var c=fo;if(c&&i){var p=ui(c).hoistableStyles,g=mo(i);s=s||"default";var T=p.get(g);if(!T){var A={loading:0,preload:null};if(T=c.querySelector(mc(g)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Rr.get(g))&&Pg(i,o);var j=T=c.createElement("link");$t(j),En(j,"link",i),j._p=new Promise(function($,re){j.onload=$,j.onerror=re}),j.addEventListener("load",function(){A.loading|=1}),j.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Zf(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:A},p.set(g,T)}}}function RD(i,s){es.X(i,s);var o=fo;if(o&&i){var c=ui(o).hoistableScripts,p=po(i),g=c.get(p);g||(g=o.querySelector(pc(p)),g||(i=_({src:i,async:!0},s),(s=Rr.get(p))&&Lg(i,s),g=o.createElement("script"),$t(g),En(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function CD(i,s){es.M(i,s);var o=fo;if(o&&i){var c=ui(o).hoistableScripts,p=po(i),g=c.get(p);g||(g=o.querySelector(pc(p)),g||(i=_({src:i,async:!0,type:"module"},s),(s=Rr.get(p))&&Lg(i,s),g=o.createElement("script"),$t(g),En(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function fb(i,s,o,c){var p=(p=Se.current)?Jf(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=mo(o.href),o=ui(p).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=mo(o.href);var g=ui(p).hoistableStyles,T=g.get(i);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=p.querySelector(mc(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Rr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Rr.set(i,o),g||DD(p,i,o,T.state))),s&&c===null)throw Error(r(528,""));return T}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=po(o),o=ui(p).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function mo(i){return'href="'+Fn(i)+'"'}function mc(i){return'link[rel="stylesheet"]['+i+"]"}function db(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function DD(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),En(s,"link",o),$t(s),i.head.appendChild(s))}function po(i){return'[src="'+Fn(i)+'"]'}function pc(i){return"script[async]"+i}function mb(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Fn(o.href)+'"]');if(c)return s.instance=c,$t(c),c;var p=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),$t(c),En(c,"style",p),Zf(c,o.precedence,i),s.instance=c;case"stylesheet":p=mo(o.href);var g=i.querySelector(mc(p));if(g)return s.state.loading|=4,s.instance=g,$t(g),g;c=db(o),(p=Rr.get(p))&&Pg(c,p),g=(i.ownerDocument||i).createElement("link"),$t(g);var T=g;return T._p=new Promise(function(A,j){T.onload=A,T.onerror=j}),En(g,"link",c),s.state.loading|=4,Zf(g,o.precedence,i),s.instance=g;case"script":return g=po(o.src),(p=i.querySelector(pc(g)))?(s.instance=p,$t(p),p):(c=o,(p=Rr.get(g))&&(c=_({},o),Lg(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),$t(p),En(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Zf(c,o.precedence,i));return s.instance}function Zf(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var A=c[T];if(A.dataset.precedence===s)g=A;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Pg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Lg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ed=null;function pb(i,s,o){if(ed===null){var c=new Map,p=ed=new Map;p.set(o,c)}else p=ed,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var g=o[p];if(!(g[li]||g[Qt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=i+T;var A=c.get(T);A?A.push(g):c.set(T,[g])}}return c}function gb(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function OD(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function yb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function kD(i,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=mo(c.href),g=s.querySelector(mc(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=td.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,$t(g);return}g=s.ownerDocument||s,c=db(c),(p=Rr.get(p))&&Pg(c,p),g=g.createElement("link"),$t(g);var T=g;T._p=new Promise(function(A,j){T.onload=A,T.onerror=j}),En(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=td.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var jg=0;function VD(i,s){return i.stylesheets&&i.count===0&&rd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&rd(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&jg===0&&(jg=62500*mD());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&rd(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>jg?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function td(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var nd=null;function rd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,nd=new Map,s.forEach(MD,i),nd=null,td.call(i))}function MD(i,s){if(!(s.state.loading&4)){var o=nd.get(i);if(o)var c=o.get(null);else{o=new Map,nd.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}p=s.instance,T=p.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,p),o.set(T,p),this.count++,c=td.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var gc={$$typeof:q,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function PD(i,s,o,c,p,g,T,A,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function _b(i,s,o,c,p,g,T,A,j,$,re,le){return i=new PD(i,s,o,T,j,$,re,le,A),s=1,g===!0&&(s|=24),g=sr(3,null,null,s),i.current=g,g.stateNode=i,s=yp(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},vp(g),i}function Eb(i){return i?(i=Gl,i):Gl}function xb(i,s,o,c,p,g){p=Eb(p),c.context===null?c.context=p:c.pendingContext=p,c=Cs(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ds(i,c,s),o!==null&&(Qn(o,i,s),Qu(o,i,s))}function vb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Ug(i,s){vb(i,s),(i=i.alternate)&&vb(i,s)}function bb(i){if(i.tag===13||i.tag===31){var s=La(i,67108864);s!==null&&Qn(s,i,67108864),Ug(i,67108864)}}function Tb(i){if(i.tag===13||i.tag===31){var s=cr();s=Aa(s);var o=La(i,s);o!==null&&Qn(o,i,s),Ug(i,s)}}var id=!0;function LD(i,s,o,c){var p=X.T;X.T=null;var g=ce.p;try{ce.p=2,Bg(i,s,o,c)}finally{ce.p=g,X.T=p}}function jD(i,s,o,c){var p=X.T;X.T=null;var g=ce.p;try{ce.p=8,Bg(i,s,o,c)}finally{ce.p=g,X.T=p}}function Bg(i,s,o,c){if(id){var p=zg(c);if(p===null)Sg(i,s,c,sd,o),Ab(i,c);else if(BD(p,i,s,o,c))c.stopPropagation();else if(Ab(i,c),s&4&&-1<UD.indexOf(i)){for(;p!==null;){var g=_r(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ri(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var j=1<<31-$e(T);A.entanglements[1]|=j,T&=~j}bi(g),(st&6)===0&&(zf=mn()+500,cc(0))}}break;case 31:case 13:A=La(g,2),A!==null&&Qn(A,g,2),qf(),Ug(g,2)}if(g=zg(c),g===null&&Sg(i,s,c,sd,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else Sg(i,s,c,null,o)}}function zg(i){return i=Er(i),Fg(i)}var sd=null;function Fg(i){if(sd=null,i=oi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return sd=i,null}function wb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mi()){case se:return 2;case pe:return 8;case Ce:case Fe:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var qg=!1,Fs=null,qs=null,Hs=null,yc=new Map,_c=new Map,Gs=[],UD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ab(i,s){switch(i){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":yc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(s.pointerId)}}function Ec(i,s,o,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=_r(s),s!==null&&bb(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function BD(i,s,o,c,p){switch(s){case"focusin":return Fs=Ec(Fs,i,s,o,c,p),!0;case"dragenter":return qs=Ec(qs,i,s,o,c,p),!0;case"mouseover":return Hs=Ec(Hs,i,s,o,c,p),!0;case"pointerover":var g=p.pointerId;return yc.set(g,Ec(yc.get(g)||null,i,s,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,_c.set(g,Ec(_c.get(g)||null,i,s,o,c,p)),!0}return!1}function Sb(i){var s=oi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,jr(i.priority,function(){Tb(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,jr(i.priority,function(){Tb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ad(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=zg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Ou=c,o.target.dispatchEvent(c),Ou=null}else return s=_r(o),s!==null&&bb(s),i.blockedOn=o,!1;s.shift()}return!0}function Ib(i,s,o){ad(i)&&o.delete(s)}function zD(){qg=!1,Fs!==null&&ad(Fs)&&(Fs=null),qs!==null&&ad(qs)&&(qs=null),Hs!==null&&ad(Hs)&&(Hs=null),yc.forEach(Ib),_c.forEach(Ib)}function ld(i,s){i.blockedOn===s&&(i.blockedOn=null,qg||(qg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zD)))}var od=null;function Nb(i){od!==i&&(od=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){od===i&&(od=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(Fg(c||o)===null)continue;break}var g=_r(o);g!==null&&(i.splice(s,3),s-=3,zp(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function go(i){function s(j){return ld(j,i)}Fs!==null&&ld(Fs,i),qs!==null&&ld(qs,i),Hs!==null&&ld(Hs,i),yc.forEach(s),_c.forEach(s);for(var o=0;o<Gs.length;o++){var c=Gs[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Gs.length&&(o=Gs[0],o.blockedOn===null);)Sb(o),o.blockedOn===null&&Gs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],T=p[un]||null;if(typeof g=="function")T||Nb(o);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[un]||null)A=T.formAction;else if(Fg(p)!==null)continue}else A=T.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),Nb(o)}}}function Rb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Hg(i){this._internalRoot=i}ud.prototype.render=Hg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=cr();xb(o,c,i,s,null,null)},ud.prototype.unmount=Hg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;xb(i.current,2,null,i,null,null),qf(),s[ai]=null}};function ud(i){this._internalRoot=i}ud.prototype.unstable_scheduleHydration=function(i){if(i){var s=Fh();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Gs.length&&s!==0&&s<Gs[o].priority;o++);Gs.splice(o,0,i),o===0&&Sb(i)}};var Cb=e.version;if(Cb!=="19.2.4")throw Error(r(527,Cb,"19.2.4"));ce.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var FD={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{Bt=cd.inject(FD),kt=cd}catch{}}return vc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",p=Lv,g=jv,T=Uv;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=_b(i,1,!1,null,null,o,c,null,p,g,T,Rb),i[ai]=s.current,Ag(i),new Hg(s)},vc.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,p="",g=Lv,T=jv,A=Uv,j=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),s=_b(i,1,!0,s,o??null,c,p,j,g,T,A,Rb),s.context=Eb(null),o=s.current,c=cr(),c=Aa(c),p=Cs(c),p.callback=null,Ds(o,p,c),o=c,s.current.lanes=o,Ta(s,o),bi(s),i[ai]=s.current,Ag(i),new ud(s)},vc.version="19.2.4",vc}var Bb;function ZD(){if(Bb)return Kg.exports;Bb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kg.exports=JD(),Kg.exports}var eO=ZD();const tO=mm(eO);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zb="popstate";function nO(n={}){function e(r,a){let{pathname:l,search:u,hash:h}=r.location;return Ry("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:eh(a)}return iO(e,t,null,n)}function Mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Di(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rO(){return Math.random().toString(36).substring(2,10)}function Fb(n,e){return{usr:n.state,key:n.key,idx:e}}function Ry(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ou(e):e,state:t,key:e&&e.key||r||rO()}}function eh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ou(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function iO(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,h="POP",f=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let O=y(),B=O==null?null:O-m;m=O,f&&f({action:h,location:M.location,delta:B})}function v(O,B){h="PUSH";let J=Ry(M.location,O,B);m=y()+1;let q=Fb(J,m),he=M.createHref(J);try{u.pushState(q,"",he)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;a.location.assign(he)}l&&f&&f({action:h,location:M.location,delta:1})}function b(O,B){h="REPLACE";let J=Ry(M.location,O,B);m=y();let q=Fb(J,m),he=M.createHref(J);u.replaceState(q,"",he),l&&f&&f({action:h,location:M.location,delta:0})}function D(O){return sO(O)}let M={get action(){return h},get location(){return n(a,u)},listen(O){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(zb,_),f=O,()=>{a.removeEventListener(zb,_),f=null}},createHref(O){return e(a,O)},createURL:D,encodeLocation(O){let B=D(O);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:v,replace:b,go(O){return u.go(O)}};return M}function sO(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:eh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function CS(n,e,t="/"){return aO(n,e,t,!1)}function aO(n,e,t,r){let a=typeof e=="string"?ou(e):e,l=is(a.pathname||"/",t);if(l==null)return null;let u=DS(n);lO(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=_O(l);h=gO(u[f],m,r)}return h}function DS(n,e=[],t=[],r="",a=!1){let l=(u,h,f=a,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&f)return;Mt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=ns([r,y.relativePath]),v=t.concat(y);u.children&&u.children.length>0&&(Mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),DS(u.children,e,v,_,f)),!(u.path==null&&!u.index)&&e.push({path:_,score:mO(_,u.index),routesMeta:v})};return n.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,h);else for(let m of OS(u.path))l(u,h,!0,m)}),e}function OS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=OS(r.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function lO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:pO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var oO=/^:[\w-]+$/,uO=3,cO=2,hO=1,fO=10,dO=-2,qb=n=>n==="*";function mO(n,e){let t=n.split("/"),r=t.length;return t.some(qb)&&(r+=dO),e&&(r+=cO),t.filter(a=>!qb(a)).reduce((a,l)=>a+(oO.test(l)?uO:l===""?hO:fO),r)}function pO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function gO(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Fd({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),v=f.route;if(!_&&m&&t&&!r[r.length-1].route.index&&(_=Fd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:ns([l,_.pathname]),pathnameBase:bO(ns([l,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(l=ns([l,_.pathnameBase]))}return u}function Fd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=yO(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:_},v)=>{if(y==="*"){let D=h[v]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const b=h[v];return _&&!b?m[y]=void 0:m[y]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:n}}function yO(n,e=!1,t=!0){Di(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function _O(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Di(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function is(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var EO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function xO(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?ou(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=Hb(t.substring(1),"/"):l=Hb(t,e)):l=e,{pathname:l,search:TO(r),hash:wO(a)}}function Hb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Wg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kS(n){let e=vO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function VS(n,e,t,r=!1){let a;typeof n=="string"?a=ou(n):(a={...n},Mt(!a.pathname||!a.pathname.includes("?"),Wg("?","pathname","search",a)),Mt(!a.pathname||!a.pathname.includes("#"),Wg("#","pathname","hash",a)),Mt(!a.search||!a.search.includes("#"),Wg("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;a.pathname=v.join("/")}h=_>=0?e[_]:"/"}let f=xO(a,h),m=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var ns=n=>n.join("/").replace(/\/\/+/g,"/"),bO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),TO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,AO=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function SO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function IO(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function PS(n,e){let t=n;if(typeof t!="string"||!EO.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,a=!1;if(MS)try{let l=new URL(window.location.href),u=t.startsWith("//")?new URL(l.protocol+t):new URL(t),h=is(u.pathname,e);u.origin===l.origin&&h!=null?t=h+u.search+u.hash:a=!0}catch{Di(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LS=["POST","PUT","PATCH","DELETE"];new Set(LS);var NO=["GET",...LS];new Set(NO);var uu=te.createContext(null);uu.displayName="DataRouter";var pm=te.createContext(null);pm.displayName="DataRouterState";var RO=te.createContext(!1),jS=te.createContext({isTransitioning:!1});jS.displayName="ViewTransition";var CO=te.createContext(new Map);CO.displayName="Fetchers";var DO=te.createContext(null);DO.displayName="Await";var Vr=te.createContext(null);Vr.displayName="Navigation";var xh=te.createContext(null);xh.displayName="Location";var Vi=te.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var S_=te.createContext(null);S_.displayName="RouteError";var US="REACT_ROUTER_ERROR",OO="REDIRECT",kO="ROUTE_ERROR_RESPONSE";function VO(n){if(n.startsWith(`${US}:${OO}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function MO(n){if(n.startsWith(`${US}:${kO}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new AO(e.status,e.statusText,e.data)}catch{}}function PO(n,{relative:e}={}){Mt(vh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=te.useContext(Vr),{hash:a,pathname:l,search:u}=bh(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:ns([t,l])),r.createHref({pathname:h,search:u,hash:a})}function vh(){return te.useContext(xh)!=null}function ma(){return Mt(vh(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(xh).location}var BS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zS(n){te.useContext(Vr).static||te.useLayoutEffect(n)}function LO(){let{isDataRoute:n}=te.useContext(Vi);return n?XO():jO()}function jO(){Mt(vh(),"useNavigate() may be used only in the context of a <Router> component.");let n=te.useContext(uu),{basename:e,navigator:t}=te.useContext(Vr),{matches:r}=te.useContext(Vi),{pathname:a}=ma(),l=JSON.stringify(kS(r)),u=te.useRef(!1);return zS(()=>{u.current=!0}),te.useCallback((f,m={})=>{if(Di(u.current,BS),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=VS(f,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ns([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,a,n])}te.createContext(null);function FS(){let{matches:n}=te.useContext(Vi),e=n[n.length-1];return e?e.params:{}}function bh(n,{relative:e}={}){let{matches:t}=te.useContext(Vi),{pathname:r}=ma(),a=JSON.stringify(kS(t));return te.useMemo(()=>VS(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function UO(n,e){return qS(n,e)}function qS(n,e,t,r,a){var J;Mt(vh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=te.useContext(Vr),{matches:u}=te.useContext(Vi),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let q=_&&_.path||"";GS(m,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let v=ma(),b;if(e){let q=typeof e=="string"?ou(e):e;Mt(y==="/"||((J=q.pathname)==null?void 0:J.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),b=q}else b=v;let D=b.pathname||"/",M=D;if(y!=="/"){let q=y.replace(/^\//,"").split("/");M="/"+D.replace(/^\//,"").split("/").slice(q.length).join("/")}let O=CS(n,{pathname:M});Di(_||O!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Di(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=HO(O&&O.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:ns([y,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:ns([y,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,t,r,a);return e&&B?te.createElement(xh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},B):B}function BO(){let n=$O(),e=SO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=te.createElement(te.Fragment,null,te.createElement("p",null," Hey developer "),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:l},"ErrorBoundary")," or"," ",te.createElement("code",{style:l},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),t?te.createElement("pre",{style:a},t):null,u)}var zO=te.createElement(BO,null),HS=class extends te.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=MO(n.digest);t&&(n=t)}let e=n!==void 0?te.createElement(Vi.Provider,{value:this.props.routeContext},te.createElement(S_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?te.createElement(FO,{error:n},e):e}};HS.contextType=RO;var Jg=new WeakMap;function FO({children:n,error:e}){let{basename:t}=te.useContext(Vr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=VO(e.digest);if(r){let a=Jg.get(e);if(a)throw a;let l=PS(r.location,t);if(MS&&!Jg.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Jg.set(e,u),u}return te.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function qO({routeContext:n,match:e,children:t}){let r=te.useContext(uu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),te.createElement(Vi.Provider,{value:n},t)}function HO(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t==null?void 0:t.errors;if(u!=null){let y=l.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);Mt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,f=-1;if(t)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=y),_.route.id){let{loaderData:v,errors:b}=t,D=_.route.loader&&!v.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||D){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=t&&r?(y,_)=>{var v,b;r(y,{location:t.location,params:((b=(v=t.matches)==null?void 0:v[0])==null?void 0:b.params)??{},unstable_pattern:IO(t.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,v)=>{let b,D=!1,M=null,O=null;t&&(b=u&&_.route.id?u[_.route.id]:void 0,M=_.route.errorElement||zO,h&&(f<0&&v===0?(GS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,O=null):f===v&&(D=!0,O=_.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,v+1)),J=()=>{let q;return b?q=M:D?q=O:_.route.Component?q=te.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=y,te.createElement(qO,{match:_,routeContext:{outlet:y,matches:B,isDataRoute:t!=null},children:q})};return t&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?te.createElement(HS,{location:t.location,revalidation:t.revalidation,component:M,error:b,children:J(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:m}):J()},null)}function I_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GO(n){let e=te.useContext(uu);return Mt(e,I_(n)),e}function YO(n){let e=te.useContext(pm);return Mt(e,I_(n)),e}function KO(n){let e=te.useContext(Vi);return Mt(e,I_(n)),e}function N_(n){let e=KO(n),t=e.matches[e.matches.length-1];return Mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QO(){return N_("useRouteId")}function $O(){var r;let n=te.useContext(S_),e=YO("useRouteError"),t=N_("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function XO(){let{router:n}=GO("useNavigate"),e=N_("useNavigate"),t=te.useRef(!1);return zS(()=>{t.current=!0}),te.useCallback(async(a,l={})=>{Di(t.current,BS),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Gb={};function GS(n,e,t){!e&&!Gb[n]&&(Gb[n]=!0,Di(!1,t))}te.memo(WO);function WO({routes:n,future:e,state:t,onError:r}){return qS(n,void 0,t,r,e)}function Qr(n){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JO({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Mt(!vh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=te.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[h,a,l,u]);typeof t=="string"&&(t=ou(t));let{pathname:m="/",search:y="",hash:_="",state:v=null,key:b="default"}=t,D=te.useMemo(()=>{let M=is(m,h);return M==null?null:{location:{pathname:M,search:y,hash:_,state:v,key:b},navigationType:r}},[h,m,y,_,v,b,r]);return Di(D!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:te.createElement(Vr.Provider,{value:f},te.createElement(xh.Provider,{children:e,value:D}))}function ZO({children:n,location:e}){return UO(Cy(n),e)}function Cy(n,e=[]){let t=[];return te.Children.forEach(n,(r,a)=>{if(!te.isValidElement(r))return;let l=[...e,a];if(r.type===te.Fragment){t.push.apply(t,Cy(r.props.children,l));return}Mt(r.type===Qr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Cy(r.props.children,l)),t.push(u)}),t}var Nd="get",Rd="application/x-www-form-urlencoded";function gm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function e2(n){return gm(n)&&n.tagName.toLowerCase()==="button"}function t2(n){return gm(n)&&n.tagName.toLowerCase()==="form"}function n2(n){return gm(n)&&n.tagName.toLowerCase()==="input"}function r2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function i2(n,e){return n.button===0&&(!e||e==="_self")&&!r2(n)}var hd=null;function s2(){if(hd===null)try{new FormData(document.createElement("form"),0),hd=!1}catch{hd=!0}return hd}var a2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zg(n){return n!=null&&!a2.has(n)?(Di(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rd}"`),null):n}function l2(n,e){let t,r,a,l,u;if(t2(n)){let h=n.getAttribute("action");r=h?is(h,e):null,t=n.getAttribute("method")||Nd,a=Zg(n.getAttribute("enctype"))||Rd,l=new FormData(n)}else if(e2(n)||n2(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?is(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Nd,a=Zg(n.getAttribute("formenctype"))||Zg(h.getAttribute("enctype"))||Rd,l=new FormData(h,n),!s2()){let{name:m,type:y,value:_}=n;if(y==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,_)}}else{if(gm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nd,r=null,a=Rd,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function R_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function o2(n,e,t,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&is(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function u2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function c2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function h2(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await u2(l,t);return u.links?u.links():[]}return[]}));return p2(r.flat(1).filter(c2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Yb(n,e,t,r,a,l){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var y;return t[m].pathname!==f.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):l==="data"?e.filter((f,m)=>{var _;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function f2(n,e,{includeHydrateFallback:t}={}){return d2(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function d2(n){return[...new Set(n)]}function m2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function p2(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(m2(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function YS(){let n=te.useContext(uu);return R_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function g2(){let n=te.useContext(pm);return R_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var C_=te.createContext(void 0);C_.displayName="FrameworkContext";function KS(){let n=te.useContext(C_);return R_(n,"You must render this element inside a <HydratedRouter> element"),n}function y2(n,e){let t=te.useContext(C_),[r,a]=te.useState(!1),[l,u]=te.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,v=te.useRef(null);te.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=B=>{B.forEach(J=>{u(J.isIntersecting)})},O=new IntersectionObserver(M,{threshold:.5});return v.current&&O.observe(v.current),()=>{O.disconnect()}}},[n]),te.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let b=()=>{a(!0)},D=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,v,{}]:[l,v,{onFocus:bc(h,b),onBlur:bc(f,D),onMouseEnter:bc(m,b),onMouseLeave:bc(y,D),onTouchStart:bc(_,b)}]:[!1,v,{}]}function bc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function _2({page:n,...e}){let{router:t}=YS(),r=te.useMemo(()=>CS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?te.createElement(x2,{page:n,matches:r,...e}):null}function E2(n){let{manifest:e,routeModules:t}=KS(),[r,a]=te.useState([]);return te.useEffect(()=>{let l=!1;return h2(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),r}function x2({page:n,matches:e,...t}){let r=ma(),{future:a,manifest:l,routeModules:u}=KS(),{basename:h}=YS(),{loaderData:f,matches:m}=g2(),y=te.useMemo(()=>Yb(n,e,m,l,r,"data"),[n,e,m,l,r]),_=te.useMemo(()=>Yb(n,e,m,l,r,"assets"),[n,e,m,l,r]),v=te.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let M=new Set,O=!1;if(e.forEach(J=>{var he;let q=l.routes[J.route.id];!q||!q.hasLoader||(!y.some(fe=>fe.route.id===J.route.id)&&J.route.id in f&&((he=u[J.route.id])!=null&&he.shouldRevalidate)||q.hasClientLoader?O=!0:M.add(J.route.id))}),M.size===0)return[];let B=o2(n,h,a.unstable_trailingSlashAwareDataRequests,"data");return O&&M.size>0&&B.searchParams.set("_routes",e.filter(J=>M.has(J.route.id)).map(J=>J.route.id).join(",")),[B.pathname+B.search]},[h,a.unstable_trailingSlashAwareDataRequests,f,r,l,y,e,n,u]),b=te.useMemo(()=>f2(_,l),[_,l]),D=E2(_);return te.createElement(te.Fragment,null,v.map(M=>te.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),b.map(M=>te.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),D.map(({key:M,link:O})=>te.createElement("link",{key:M,nonce:t.nonce,...O,crossOrigin:O.crossOrigin??t.crossOrigin})))}function v2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var b2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b2&&(window.__reactRouterVersion="7.13.0")}catch{}function T2({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=te.useRef();a.current==null&&(a.current=nO({window:r,v5Compat:!0}));let l=a.current,[u,h]=te.useState({action:l.action,location:l.location}),f=te.useCallback(m=>{t===!1?h(m):te.startTransition(()=>h(m))},[t]);return te.useLayoutEffect(()=>l.listen(f),[l,f]),te.createElement(JO,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t})}var QS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=te.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:h,target:f,to:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:v,...b},D){let{basename:M,unstable_useTransitions:O}=te.useContext(Vr),B=typeof m=="string"&&QS.test(m),J=PS(m,M);m=J.to;let q=PO(m,{relative:a}),[he,fe,K]=y2(r,b),S=I2(m,{replace:u,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:v,unstable_useTransitions:O});function N(U){e&&e(U),U.defaultPrevented||S(U)}let C=te.createElement("a",{...b,...K,href:J.absoluteURL||q,onClick:J.isExternal||l?e:N,ref:v2(D,fe),target:f,"data-discover":!B&&t==="render"?"true":void 0});return he&&!B?te.createElement(te.Fragment,null,C,te.createElement(_2,{page:q})):C});At.displayName="Link";var w2=te.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:h,children:f,...m},y){let _=bh(u,{relative:m.relative}),v=ma(),b=te.useContext(pm),{navigator:D,basename:M}=te.useContext(Vr),O=b!=null&&O2(_)&&h===!0,B=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,J=v.pathname,q=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(J=J.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&M&&(q=is(q,M)||q);const he=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let fe=J===B||!a&&J.startsWith(B)&&J.charAt(he)==="/",K=q!=null&&(q===B||!a&&q.startsWith(B)&&q.charAt(B.length)==="/"),S={isActive:fe,isPending:K,isTransitioning:O},N=fe?e:void 0,C;typeof r=="function"?C=r(S):C=[r,fe?"active":null,K?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(S):l;return te.createElement(At,{...m,"aria-current":N,className:C,ref:y,style:U,to:u,viewTransition:h},typeof f=="function"?f(S):f)});w2.displayName="NavLink";var A2=te.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:u=Nd,action:h,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:v,...b},D)=>{let{unstable_useTransitions:M}=te.useContext(Vr),O=C2(),B=D2(h,{relative:m}),J=u.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&QS.test(h),he=fe=>{if(f&&f(fe),fe.defaultPrevented)return;fe.preventDefault();let K=fe.nativeEvent.submitter,S=(K==null?void 0:K.getAttribute("formmethod"))||u,N=()=>O(K||fe.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:v});M&&t!==!1?te.startTransition(()=>N()):N()};return te.createElement("form",{ref:D,method:J,action:B,onSubmit:r?f:he,...b,"data-discover":!q&&n==="render"?"true":void 0})});A2.displayName="Form";function S2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $S(n){let e=te.useContext(uu);return Mt(e,S2(n)),e}function I2(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let m=LO(),y=ma(),_=bh(n,{relative:l});return te.useCallback(v=>{if(i2(v,e)){v.preventDefault();let b=t!==void 0?t:eh(y)===eh(_),D=()=>m(n,{replace:b,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});f?te.startTransition(()=>D()):D()}},[y,m,_,t,r,e,n,a,l,u,h,f])}var N2=0,R2=()=>`__${String(++N2)}__`;function C2(){let{router:n}=$S("useSubmit"),{basename:e}=te.useContext(Vr),t=QO(),r=n.fetch,a=n.navigate;return te.useCallback(async(l,u={})=>{let{action:h,method:f,encType:m,formData:y,body:_}=l2(l,e);if(u.navigate===!1){let v=u.fetcherKey||R2();await r(v,t,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||f,formEncType:u.encType||m,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||f,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,t])}function D2(n,{relative:e}={}){let{basename:t}=te.useContext(Vr),r=te.useContext(Vi);Mt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...bh(n||".",{relative:e})},u=ma();if(n==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ns([t,l.pathname])),eh(l)}function O2(n,{relative:e}={}){let t=te.useContext(jS);Mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$S("useViewTransitionState"),a=bh(n,{relative:e});if(!t.isTransitioning)return!1;let l=is(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=is(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Fd(a.pathname,u)!=null||Fd(a.pathname,l)!=null}const k2=()=>{};var Kb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},V2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],h=n[t++],f=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},WS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let v=(h&15)<<2|m>>6,b=m&63;f||(b=64,u||(v=64)),r.push(t[y],t[_],t[v],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):V2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||m==null||_==null)throw new M2;const v=l<<2|h>>4;if(r.push(v),m!==64){const b=h<<4&240|m>>2;if(r.push(b),_!==64){const D=m<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class M2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P2=function(n){const e=XS(n);return WS.encodeByteArray(e,!0)},qd=function(n){return P2(n).replace(/\./g,"")},JS=function(n){try{return WS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Hd(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!L2(t)||(n[t]=Hd(n[t],e[t]));return n}function L2(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=()=>D_().__FIREBASE_DEFAULTS__,U2=()=>{if(typeof process>"u"||typeof Kb>"u")return;const n=Kb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},B2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&JS(n[1]);return e&&JSON.parse(e)},ZS=()=>{try{return k2()||j2()||U2()||B2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},O_=()=>{var n;return(n=ZS())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F2(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[qd(JSON.stringify(t)),qd(JSON.stringify(u)),""].join(".")}const Bc={};function H2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Bc))Bc[e]?n.emulator.push(e):n.prod.push(e);return n}function G2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Qb=!1;function Y2(n,e){if(typeof window>"u"||typeof document>"u"||!k_(window.location.host)||Bc[n]===e||Bc[n]||Qb)return;Bc[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",l=H2().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Qb=!0,u()},v}function y(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=G2(r),b=t("text"),D=document.getElementById(b)||document.createElement("span"),M=t("learnmore"),O=document.getElementById(M)||document.createElement("a"),B=t("preprendIcon"),J=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const q=v.element;h(q),y(O,M);const he=m();f(J,B),q.append(J,D,O,he),document.body.appendChild(q)}l?(D.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e1(){var e;const n=(e=ZS())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K2(){return typeof window<"u"||t1()}function t1(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function n1(){return!e1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r1(){return!e1()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function i1(){try{return typeof indexedDB=="object"}catch{return!1}}function Q2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="FirebaseError";class Tl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=$2,Object.setPrototypeOf(this,Tl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ym.prototype.create)}}class ym{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?X2(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Tl(a,h,r)}}function X2(n,e){return n.replace(W2,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const W2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function jo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],u=e[a];if(Xb(l)&&Xb(u)){if(!jo(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Xb(n){return n!==null&&typeof n=="object"}function J2(n,e){const t=new Z2(n,e);return t.subscribe.bind(t)}class Z2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ek(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=ey),a.error===void 0&&(a.error=ey),a.complete===void 0&&(a.complete=ey);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ek(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ey(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(n){return n&&n._delegate?n._delegate:n}class hl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new z2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rk(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nk(n){return n===Wa?void 0:n}function rk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=[];var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const a1={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},ik=We.INFO,sk={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},ak=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=sk[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M_{constructor(e){this.name=e,this._logLevel=ik,this._logHandler=ak,this._userLogHandler=null,V_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}function lk(n){V_.forEach(e=>{e.setLogLevel(n)})}function ok(n,e){for(const t of V_){let r=null;e&&e.level&&(r=a1[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(a,l,...u)=>{const h=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");l>=(r??a.logLevel)&&n({level:We[l].toLowerCase(),message:h,args:u,type:a.name})}}}const uk=(n,e)=>e.some(t=>n instanceof t);let Wb,Jb;function ck(){return Wb||(Wb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hk(){return Jb||(Jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l1=new WeakMap,Dy=new WeakMap,o1=new WeakMap,ty=new WeakMap,P_=new WeakMap;function fk(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(ta(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&l1.set(t,n)}).catch(()=>{}),P_.set(e,n),e}function dk(n){if(Dy.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Dy.set(n,e)}let Oy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Dy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||o1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ta(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mk(n){Oy=n(Oy)}function pk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ny(this),e,...t);return o1.set(r,e.sort?e.sort():[e]),ta(r)}:hk().includes(n)?function(...e){return n.apply(ny(this),e),ta(l1.get(this))}:function(...e){return ta(n.apply(ny(this),e))}}function gk(n){return typeof n=="function"?pk(n):(n instanceof IDBTransaction&&dk(n),uk(n,ck())?new Proxy(n,Oy):n)}function ta(n){if(n instanceof IDBRequest)return fk(n);if(ty.has(n))return ty.get(n);const e=gk(n);return e!==n&&(ty.set(n,e),P_.set(e,n)),e}const ny=n=>P_.get(n);function yk(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),h=ta(u);return r&&u.addEventListener("upgradeneeded",f=>{r(ta(u.result),f.oldVersion,f.newVersion,ta(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const _k=["get","getKey","getAll","getAllKeys","count"],Ek=["put","add","delete","clear"],ry=new Map;function Zb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ry.get(e))return ry.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=Ek.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||_k.includes(t)))return;const l=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&f.done]))[0]};return ry.set(e,l),l}mk(n=>({...n,get:(e,t,r)=>Zb(e,t)||n.get(e,t,r),has:(e,t)=>!!Zb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function vk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yd="@firebase/app",ky="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new M_("@firebase/app"),bk="@firebase/app-compat",Tk="@firebase/analytics-compat",wk="@firebase/analytics",Ak="@firebase/app-check-compat",Sk="@firebase/app-check",Ik="@firebase/auth",Nk="@firebase/auth-compat",Rk="@firebase/database",Ck="@firebase/data-connect",Dk="@firebase/database-compat",Ok="@firebase/functions",kk="@firebase/functions-compat",Vk="@firebase/installations",Mk="@firebase/installations-compat",Pk="@firebase/messaging",Lk="@firebase/messaging-compat",jk="@firebase/performance",Uk="@firebase/performance-compat",Bk="@firebase/remote-config",zk="@firebase/remote-config-compat",Fk="@firebase/storage",qk="@firebase/storage-compat",Hk="@firebase/firestore",Gk="@firebase/ai",Yk="@firebase/firestore-compat",Kk="firebase",Qk="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]",$k={[Yd]:"fire-core",[bk]:"fire-core-compat",[wk]:"fire-analytics",[Tk]:"fire-analytics-compat",[Sk]:"fire-app-check",[Ak]:"fire-app-check-compat",[Ik]:"fire-auth",[Nk]:"fire-auth-compat",[Rk]:"fire-rtdb",[Ck]:"fire-data-connect",[Dk]:"fire-rtdb-compat",[Ok]:"fire-fn",[kk]:"fire-fn-compat",[Vk]:"fire-iid",[Mk]:"fire-iid-compat",[Pk]:"fire-fcm",[Lk]:"fire-fcm-compat",[jk]:"fire-perf",[Uk]:"fire-perf-compat",[Bk]:"fire-rc",[zk]:"fire-rc-compat",[Fk]:"fire-gcs",[qk]:"fire-gcs-compat",[Hk]:"fire-fst",[Yk]:"fire-fst-compat",[Gk]:"fire-vertex","fire-js":"fire-js",[Kk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Map,Uo=new Map,Bo=new Map;function th(n,e){try{n.container.addComponent(e)}catch(t){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function u1(n,e){n.container.addOrOverwriteComponent(e)}function zo(n){const e=n.name;if(Bo.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;Bo.set(e,n);for(const t of aa.values())th(t,n);for(const t of Uo.values())th(t,n);return!0}function c1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xk(n,e,t=sa){c1(n,e).clearInstance(t)}function L_(n){return n.options!==void 0}function h1(n){return L_(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function f1(n){return n==null?!1:n.settings!==void 0}function Wk(){Bo.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new ym("app","Firebase",Jk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d1=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n,e){const t=JS(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const a=JSON.parse(t).exp*1e3,l=new Date().getTime();a-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class Zk extends d1{constructor(e,t,r,a){const l=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,u,a);else{const h=e;super(h.options,u,a)}this._serverConfig={automaticDataCollectionEnabled:l,...t},this._serverConfig.authIdToken&&eT(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&eT(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,rs(Yd,ky,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){B_(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw mr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=Qk;function U_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:sa,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw mr.create("bad-app-name",{appName:String(a)});if(t||(t=O_()),!t)throw mr.create("no-options");const l=aa.get(a);if(l){if(jo(t,l.options)&&jo(r,l.config))return l;throw mr.create("duplicate-app",{appName:a})}const u=new s1(a);for(const f of Bo.values())u.addComponent(f);const h=new d1(t,r,u);return aa.set(a,h),h}function e4(n,e={}){if(K2()&&!t1())throw mr.create("invalid-server-app-environment");let t,r=e||{};if(n&&(L_(n)?t=n.options:h1(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=O_()),!t)throw mr.create("no-options");const a={...r,...t};a.releaseOnDeref!==void 0&&delete a.releaseOnDeref;const l=y=>[...y].reduce((_,v)=>Math.imul(31,_)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw mr.create("finalization-registry-not-supported",{});const u=""+l(JSON.stringify(a)),h=Uo.get(u);if(h)return h.incRefCount(r.releaseOnDeref),h;const f=new s1(u);for(const y of Bo.values())f.addComponent(y);const m=new Zk(t,r,u,f);return Uo.set(u,m),m}function t4(n=sa){const e=aa.get(n);if(!e&&n===sa&&O_())return U_();if(!e)throw mr.create("no-app",{appName:n});return e}function n4(){return Array.from(aa.values())}async function B_(n){let e=!1;const t=n.name;aa.has(t)?(e=!0,aa.delete(t)):Uo.has(t)&&n.decRefCount()<=0&&(Uo.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function rs(n,e,t){let r=$k[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(u.join(" "));return}zo(new hl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function m1(n,e){if(n!==null&&typeof n!="function")throw mr.create("invalid-log-argument");ok(n,e)}function p1(n){lk(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="firebase-heartbeat-database",i4=1,nh="firebase-heartbeat-store";let iy=null;function g1(){return iy||(iy=yk(r4,i4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nh)}catch(t){console.warn(t)}}}}).catch(n=>{throw mr.create("idb-open",{originalErrorMessage:n.message})})),iy}async function s4(n){try{const t=(await g1()).transaction(nh),r=await t.objectStore(nh).get(y1(n));return await t.done,r}catch(e){if(e instanceof Tl)ss.warn(e.message);else{const t=mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(t.message)}}}async function tT(n,e){try{const r=(await g1()).transaction(nh,"readwrite");await r.objectStore(nh).put(e,y1(n)),await r.done}catch(t){if(t instanceof Tl)ss.warn(t.message);else{const r=mr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ss.warn(r.message)}}}function y1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=1024,l4=30;class o4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new c4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=nT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>l4){const u=h4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nT(),{heartbeatsToSend:r,unsentEntries:a}=u4(this._heartbeatsCache.heartbeats),l=qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ss.warn(t),""}}}function nT(){return new Date().toISOString().substring(0,10)}function u4(n,e=a4){const t=[];let r=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),rT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),rT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class c4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i1()?Q2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await s4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rT(n){return qd(JSON.stringify({version:2,heartbeats:n})).length}function h4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(n){zo(new hl("platform-logger",e=>new xk(e),"PRIVATE")),zo(new hl("heartbeat",e=>new o4(e),"PRIVATE")),rs(Yd,ky,n),rs(Yd,ky,"esm2020"),rs("fire-js","")}f4("");const d4=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Tl,SDK_VERSION:j_,_DEFAULT_ENTRY_NAME:sa,_addComponent:th,_addOrOverwriteComponent:u1,_apps:aa,_clearComponents:Wk,_components:Bo,_getProvider:c1,_isFirebaseApp:L_,_isFirebaseServerApp:f1,_isFirebaseServerAppSettings:h1,_registerComponent:zo,_removeServiceInstance:Xk,_serverApps:Uo,deleteApp:B_,getApp:t4,getApps:n4,initializeApp:U_,initializeServerApp:e4,onLog:m1,registerVersion:rs,setLogLevel:p1},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t){this._delegate=e,this.firebase=t,th(e,new hl("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),B_(this._delegate)))}_getService(e,t=sa){var a;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((a=r.getComponent())==null?void 0:a.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=sa){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){th(this._delegate,e)}_addOrOverwriteComponent(e){u1(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},iT=new ym("app-compat","Firebase",p4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(n){const e={},t={__esModule:!0,initializeApp:l,app:a,registerVersion:rs,setLogLevel:p1,onLog:m1,apps:null,SDK_VERSION:j_,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:d4}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(m){delete e[m]}function a(m){if(m=m||sa,!$b(e,m))throw iT.create("no-app",{appName:m});return e[m]}a.App=n;function l(m,y={}){const _=U_(m,y);if($b(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(m=>e[m])}function h(m){const y=m.name,_=y.replace("-compat","");if(zo(m)&&m.type==="PUBLIC"){const v=(b=a())=>{if(typeof b[_]!="function")throw iT.create("invalid-app-argument",{appName:y});return b[_]()};m.serviceProps!==void 0&&Hd(v,m.serviceProps),t[_]=v,n.prototype[_]=function(...b){return this._getService.bind(this,y).apply(this,m.multipleInstances?b:[])}}return m.type==="PUBLIC"?t[_]:null}function f(m,y){return y==="serverAuth"?null:y}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){const n=g4(m4);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:_1,extendNamespace:e,createSubscribe:J2,ErrorFactory:ym,deepExtend:Hd};function e(t){Hd(n,t)}return n}const y4=_1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new M_("@firebase/app-compat"),_4="@firebase/app-compat",E4="0.5.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n){rs(_4,E4,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=D_();if(n.firebase!==void 0){sT.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&sT.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Fo=y4;x4();var v4="firebase",b4="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fo.registerVersion(v4,b4,"app-compat");var aT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,E1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,N){function C(){}C.prototype=N.prototype,S.F=N.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(U,V,L){for(var k=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)k[xe-2]=arguments[xe];return N.prototype[V].apply(U,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,N,C){C||(C=0);const U=Array(16);if(typeof N=="string")for(var V=0;V<16;++V)U[V]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(V=0;V<16;++V)U[V]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=S.g[0],C=S.g[1],V=S.g[2];let L=S.g[3],k;k=N+(L^C&(V^L))+U[0]+3614090360&4294967295,N=C+(k<<7&4294967295|k>>>25),k=L+(V^N&(C^V))+U[1]+3905402710&4294967295,L=N+(k<<12&4294967295|k>>>20),k=V+(C^L&(N^C))+U[2]+606105819&4294967295,V=L+(k<<17&4294967295|k>>>15),k=C+(N^V&(L^N))+U[3]+3250441966&4294967295,C=V+(k<<22&4294967295|k>>>10),k=N+(L^C&(V^L))+U[4]+4118548399&4294967295,N=C+(k<<7&4294967295|k>>>25),k=L+(V^N&(C^V))+U[5]+1200080426&4294967295,L=N+(k<<12&4294967295|k>>>20),k=V+(C^L&(N^C))+U[6]+2821735955&4294967295,V=L+(k<<17&4294967295|k>>>15),k=C+(N^V&(L^N))+U[7]+4249261313&4294967295,C=V+(k<<22&4294967295|k>>>10),k=N+(L^C&(V^L))+U[8]+1770035416&4294967295,N=C+(k<<7&4294967295|k>>>25),k=L+(V^N&(C^V))+U[9]+2336552879&4294967295,L=N+(k<<12&4294967295|k>>>20),k=V+(C^L&(N^C))+U[10]+4294925233&4294967295,V=L+(k<<17&4294967295|k>>>15),k=C+(N^V&(L^N))+U[11]+2304563134&4294967295,C=V+(k<<22&4294967295|k>>>10),k=N+(L^C&(V^L))+U[12]+1804603682&4294967295,N=C+(k<<7&4294967295|k>>>25),k=L+(V^N&(C^V))+U[13]+4254626195&4294967295,L=N+(k<<12&4294967295|k>>>20),k=V+(C^L&(N^C))+U[14]+2792965006&4294967295,V=L+(k<<17&4294967295|k>>>15),k=C+(N^V&(L^N))+U[15]+1236535329&4294967295,C=V+(k<<22&4294967295|k>>>10),k=N+(V^L&(C^V))+U[1]+4129170786&4294967295,N=C+(k<<5&4294967295|k>>>27),k=L+(C^V&(N^C))+U[6]+3225465664&4294967295,L=N+(k<<9&4294967295|k>>>23),k=V+(N^C&(L^N))+U[11]+643717713&4294967295,V=L+(k<<14&4294967295|k>>>18),k=C+(L^N&(V^L))+U[0]+3921069994&4294967295,C=V+(k<<20&4294967295|k>>>12),k=N+(V^L&(C^V))+U[5]+3593408605&4294967295,N=C+(k<<5&4294967295|k>>>27),k=L+(C^V&(N^C))+U[10]+38016083&4294967295,L=N+(k<<9&4294967295|k>>>23),k=V+(N^C&(L^N))+U[15]+3634488961&4294967295,V=L+(k<<14&4294967295|k>>>18),k=C+(L^N&(V^L))+U[4]+3889429448&4294967295,C=V+(k<<20&4294967295|k>>>12),k=N+(V^L&(C^V))+U[9]+568446438&4294967295,N=C+(k<<5&4294967295|k>>>27),k=L+(C^V&(N^C))+U[14]+3275163606&4294967295,L=N+(k<<9&4294967295|k>>>23),k=V+(N^C&(L^N))+U[3]+4107603335&4294967295,V=L+(k<<14&4294967295|k>>>18),k=C+(L^N&(V^L))+U[8]+1163531501&4294967295,C=V+(k<<20&4294967295|k>>>12),k=N+(V^L&(C^V))+U[13]+2850285829&4294967295,N=C+(k<<5&4294967295|k>>>27),k=L+(C^V&(N^C))+U[2]+4243563512&4294967295,L=N+(k<<9&4294967295|k>>>23),k=V+(N^C&(L^N))+U[7]+1735328473&4294967295,V=L+(k<<14&4294967295|k>>>18),k=C+(L^N&(V^L))+U[12]+2368359562&4294967295,C=V+(k<<20&4294967295|k>>>12),k=N+(C^V^L)+U[5]+4294588738&4294967295,N=C+(k<<4&4294967295|k>>>28),k=L+(N^C^V)+U[8]+2272392833&4294967295,L=N+(k<<11&4294967295|k>>>21),k=V+(L^N^C)+U[11]+1839030562&4294967295,V=L+(k<<16&4294967295|k>>>16),k=C+(V^L^N)+U[14]+4259657740&4294967295,C=V+(k<<23&4294967295|k>>>9),k=N+(C^V^L)+U[1]+2763975236&4294967295,N=C+(k<<4&4294967295|k>>>28),k=L+(N^C^V)+U[4]+1272893353&4294967295,L=N+(k<<11&4294967295|k>>>21),k=V+(L^N^C)+U[7]+4139469664&4294967295,V=L+(k<<16&4294967295|k>>>16),k=C+(V^L^N)+U[10]+3200236656&4294967295,C=V+(k<<23&4294967295|k>>>9),k=N+(C^V^L)+U[13]+681279174&4294967295,N=C+(k<<4&4294967295|k>>>28),k=L+(N^C^V)+U[0]+3936430074&4294967295,L=N+(k<<11&4294967295|k>>>21),k=V+(L^N^C)+U[3]+3572445317&4294967295,V=L+(k<<16&4294967295|k>>>16),k=C+(V^L^N)+U[6]+76029189&4294967295,C=V+(k<<23&4294967295|k>>>9),k=N+(C^V^L)+U[9]+3654602809&4294967295,N=C+(k<<4&4294967295|k>>>28),k=L+(N^C^V)+U[12]+3873151461&4294967295,L=N+(k<<11&4294967295|k>>>21),k=V+(L^N^C)+U[15]+530742520&4294967295,V=L+(k<<16&4294967295|k>>>16),k=C+(V^L^N)+U[2]+3299628645&4294967295,C=V+(k<<23&4294967295|k>>>9),k=N+(V^(C|~L))+U[0]+4096336452&4294967295,N=C+(k<<6&4294967295|k>>>26),k=L+(C^(N|~V))+U[7]+1126891415&4294967295,L=N+(k<<10&4294967295|k>>>22),k=V+(N^(L|~C))+U[14]+2878612391&4294967295,V=L+(k<<15&4294967295|k>>>17),k=C+(L^(V|~N))+U[5]+4237533241&4294967295,C=V+(k<<21&4294967295|k>>>11),k=N+(V^(C|~L))+U[12]+1700485571&4294967295,N=C+(k<<6&4294967295|k>>>26),k=L+(C^(N|~V))+U[3]+2399980690&4294967295,L=N+(k<<10&4294967295|k>>>22),k=V+(N^(L|~C))+U[10]+4293915773&4294967295,V=L+(k<<15&4294967295|k>>>17),k=C+(L^(V|~N))+U[1]+2240044497&4294967295,C=V+(k<<21&4294967295|k>>>11),k=N+(V^(C|~L))+U[8]+1873313359&4294967295,N=C+(k<<6&4294967295|k>>>26),k=L+(C^(N|~V))+U[15]+4264355552&4294967295,L=N+(k<<10&4294967295|k>>>22),k=V+(N^(L|~C))+U[6]+2734768916&4294967295,V=L+(k<<15&4294967295|k>>>17),k=C+(L^(V|~N))+U[13]+1309151649&4294967295,C=V+(k<<21&4294967295|k>>>11),k=N+(V^(C|~L))+U[4]+4149444226&4294967295,N=C+(k<<6&4294967295|k>>>26),k=L+(C^(N|~V))+U[11]+3174756917&4294967295,L=N+(k<<10&4294967295|k>>>22),k=V+(N^(L|~C))+U[2]+718787259&4294967295,V=L+(k<<15&4294967295|k>>>17),k=C+(L^(V|~N))+U[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+V&4294967295,S.g[3]=S.g[3]+L&4294967295}r.prototype.v=function(S,N){N===void 0&&(N=S.length);const C=N-this.blockSize,U=this.C;let V=this.h,L=0;for(;L<N;){if(V==0)for(;L<=C;)a(this,S,L),L+=this.blockSize;if(typeof S=="string"){for(;L<N;)if(U[V++]=S.charCodeAt(L++),V==this.blockSize){a(this,U),V=0;break}}else for(;L<N;)if(U[V++]=S[L++],V==this.blockSize){a(this,U),V=0;break}}this.h=V,this.o+=N},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;N=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=N&255,N/=256;for(this.v(S),S=Array(16),N=0,C=0;C<4;++C)for(let U=0;U<32;U+=8)S[N++]=this.g[C]>>>U&255;return S};function l(S,N){var C=h;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=N(S)}function u(S,N){this.h=N;const C=[];let U=!0;for(let V=S.length-1;V>=0;V--){const L=S[V]|0;U&&L==N||(C[V]=L,U=!1)}this.g=C}var h={};function f(S){return-128<=S&&S<128?l(S,function(N){return new u([N|0],N<0?-1:0)}):new u([S|0],S<0?-1:0)}function m(S){if(isNaN(S)||!isFinite(S))return _;if(S<0)return O(m(-S));const N=[];let C=1;for(let U=0;S>=C;U++)N[U]=S/C|0,C*=4294967296;return new u(N,0)}function y(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return O(y(S.substring(1),N));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(N,8));let U=_;for(let L=0;L<S.length;L+=8){var V=Math.min(8,S.length-L);const k=parseInt(S.substring(L,L+V),N);V<8?(V=m(Math.pow(N,V)),U=U.j(V).add(m(k))):(U=U.j(C),U=U.add(m(k)))}return U}var _=f(0),v=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(M(this))return-O(this).m();let S=0,N=1;for(let C=0;C<this.g.length;C++){const U=this.i(C);S+=(U>=0?U:4294967296+U)*N,N*=4294967296}return S},n.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D(this))return"0";if(M(this))return"-"+O(this).toString(S);const N=m(Math.pow(S,6));var C=this;let U="";for(;;){const V=he(C,N).g;C=B(C,V.j(N));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=V,D(C))return L+U;for(;L.length<6;)L="0"+L;U=L+U}},n.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function D(S){if(S.h!=0)return!1;for(let N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function M(S){return S.h==-1}n.l=function(S){return S=B(this,S),M(S)?-1:D(S)?0:1};function O(S){const N=S.g.length,C=[];for(let U=0;U<N;U++)C[U]=~S.g[U];return new u(C,~S.h).add(v)}n.abs=function(){return M(this)?O(this):this},n.add=function(S){const N=Math.max(this.g.length,S.g.length),C=[];let U=0;for(let V=0;V<=N;V++){let L=U+(this.i(V)&65535)+(S.i(V)&65535),k=(L>>>16)+(this.i(V)>>>16)+(S.i(V)>>>16);U=k>>>16,L&=65535,k&=65535,C[V]=k<<16|L}return new u(C,C[C.length-1]&-2147483648?-1:0)};function B(S,N){return S.add(O(N))}n.j=function(S){if(D(this)||D(S))return _;if(M(this))return M(S)?O(this).j(O(S)):O(O(this).j(S));if(M(S))return O(this.j(O(S)));if(this.l(b)<0&&S.l(b)<0)return m(this.m()*S.m());const N=this.g.length+S.g.length,C=[];for(var U=0;U<2*N;U++)C[U]=0;for(U=0;U<this.g.length;U++)for(let V=0;V<S.g.length;V++){const L=this.i(U)>>>16,k=this.i(U)&65535,xe=S.i(V)>>>16,me=S.i(V)&65535;C[2*U+2*V]+=k*me,J(C,2*U+2*V),C[2*U+2*V+1]+=L*me,J(C,2*U+2*V+1),C[2*U+2*V+1]+=k*xe,J(C,2*U+2*V+1),C[2*U+2*V+2]+=L*xe,J(C,2*U+2*V+2)}for(S=0;S<N;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=N;S<2*N;S++)C[S]=0;return new u(C,0)};function J(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function q(S,N){this.g=S,this.h=N}function he(S,N){if(D(N))throw Error("division by zero");if(D(S))return new q(_,_);if(M(S))return N=he(O(S),N),new q(O(N.g),O(N.h));if(M(N))return N=he(S,O(N)),new q(O(N.g),N.h);if(S.g.length>30){if(M(S)||M(N))throw Error("slowDivide_ only works with positive integers.");for(var C=v,U=N;U.l(S)<=0;)C=fe(C),U=fe(U);var V=K(C,1),L=K(U,1);for(U=K(U,2),C=K(C,2);!D(U);){var k=L.add(U);k.l(S)<=0&&(V=V.add(C),L=k),U=K(U,1),C=K(C,1)}return N=B(S,V.j(N)),new q(V,N)}for(V=_;S.l(N)>=0;){for(C=Math.max(1,Math.floor(S.m()/N.m())),U=Math.ceil(Math.log(C)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),L=m(C),k=L.j(N);M(k)||k.l(S)>0;)C-=U,L=m(C),k=L.j(N);D(L)&&(L=v),V=V.add(L),S=B(S,k)}return new q(V,S)}n.B=function(S){return he(this,S).h},n.and=function(S){const N=Math.max(this.g.length,S.g.length),C=[];for(let U=0;U<N;U++)C[U]=this.i(U)&S.i(U);return new u(C,this.h&S.h)},n.or=function(S){const N=Math.max(this.g.length,S.g.length),C=[];for(let U=0;U<N;U++)C[U]=this.i(U)|S.i(U);return new u(C,this.h|S.h)},n.xor=function(S){const N=Math.max(this.g.length,S.g.length),C=[];for(let U=0;U<N;U++)C[U]=this.i(U)^S.i(U);return new u(C,this.h^S.h)};function fe(S){const N=S.g.length+1,C=[];for(let U=0;U<N;U++)C[U]=S.i(U)<<1|S.i(U-1)>>>31;return new u(C,S.h)}function K(S,N){const C=N>>5;N%=32;const U=S.g.length-C,V=[];for(let L=0;L<U;L++)V[L]=N>0?S.i(L+C)>>>N|S.i(L+C+1)<<32-N:S.i(L+C);return new u(V,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,E1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,na=u}).apply(typeof aT<"u"?aT:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x1,Vc,v1,Cd,Vy,b1,T1,w1;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var x=0;x<d.length;++x){var w=d[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function a(d,x){if(x)e:{var w=r;d=d.split(".");for(var I=0;I<d.length-1;I++){var Y=d[I];if(!(Y in w))break e;w=w[Y]}d=d[d.length-1],I=w[d],x=x(I),x!=I&&x!=null&&e(w,d,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(x){var w=[],I;for(I in x)Object.prototype.hasOwnProperty.call(x,I)&&w.push([I,x[I]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function f(d,x,w){return d.call.apply(d.bind,arguments)}function m(d,x,w){return m=f,m.apply(null,arguments)}function y(d,x){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function _(d,x){function w(){}w.prototype=x.prototype,d.Z=x.prototype,d.prototype=new w,d.prototype.constructor=d,d.Ob=function(I,Y,ee){for(var ge=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ge[Pe-2]=arguments[Pe];return x.prototype[Y].apply(I,ge)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function b(d){const x=d.length;if(x>0){const w=Array(x);for(let I=0;I<x;I++)w[I]=d[I];return w}return[]}function D(d,x){for(let I=1;I<arguments.length;I++){const Y=arguments[I];var w=typeof Y;if(w=w!="object"?w:Y?Array.isArray(Y)?"array":w:"null",w=="array"||w=="object"&&typeof Y.length=="number"){w=d.length||0;const ee=Y.length||0;d.length=w+ee;for(let ge=0;ge<ee;ge++)d[w+ge]=Y[ge]}else d.push(Y)}}class M{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function O(d){u.setTimeout(()=>{throw d},0)}function B(){var d=S;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class J{constructor(){this.h=this.g=null}add(x,w){const I=q.get();I.set(x,w),this.h?this.h.next=I:this.g=I,this.h=I}}var q=new M(()=>new he,d=>d.reset());class he{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,K=!1,S=new J,N=()=>{const d=Promise.resolve(void 0);fe=()=>{d.then(C)}};function C(){for(var d;d=B();){try{d.h.call(d.g)}catch(w){O(w)}var x=q;x.j(d),x.h<100&&(x.h++,d.next=x.g,x.g=d)}K=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};u.addEventListener("test",w,x),u.removeEventListener("test",w,x)}catch{}return d})();function k(d){return/^[\s\xa0]*$/.test(d)}function xe(d,x){V.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,x)}_(xe,V),xe.prototype.init=function(d,x){const w=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget,x||(w=="mouseover"?x=d.fromElement:w=="mouseout"&&(x=d.toElement)),this.relatedTarget=x,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),X=0;function ce(d,x,w,I,Y){this.listener=d,this.proxy=null,this.src=x,this.type=w,this.capture=!!I,this.ha=Y,this.key=++X,this.da=this.fa=!1}function be(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Me(d,x,w){for(const I in d)x.call(w,d[I],I,d)}function P(d,x){for(const w in d)x.call(void 0,d[w],w,d)}function z(d){const x={};for(const w in d)x[w]=d[w];return x}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(d,x){let w,I;for(let Y=1;Y<arguments.length;Y++){I=arguments[Y];for(w in I)d[w]=I[w];for(let ee=0;ee<ie.length;ee++)w=ie[ee],Object.prototype.hasOwnProperty.call(I,w)&&(d[w]=I[w])}}function _e(d){this.src=d,this.g={},this.h=0}_e.prototype.add=function(d,x,w,I,Y){const ee=d.toString();d=this.g[ee],d||(d=this.g[ee]=[],this.h++);const ge=Se(d,x,I,Y);return ge>-1?(x=d[ge],w||(x.fa=!1)):(x=new ce(x,this.src,ee,!!I,Y),x.fa=w,d.push(x)),x};function Re(d,x){const w=x.type;if(w in d.g){var I=d.g[w],Y=Array.prototype.indexOf.call(I,x,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(I,Y,1),ee&&(be(x),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Se(d,x,w,I){for(let Y=0;Y<d.length;++Y){const ee=d[Y];if(!ee.da&&ee.listener==x&&ee.capture==!!w&&ee.ha==I)return Y}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),dt={};function rt(d,x,w,I,Y){if(Array.isArray(x)){for(let ee=0;ee<x.length;ee++)rt(d,x[ee],w,I,Y);return null}return w=va(w),d&&d[me]?d.J(x,w,h(I)?!!I.capture:!1,Y):zn(d,x,w,!1,I,Y)}function zn(d,x,w,I,Y,ee){if(!x)throw Error("Invalid event type");const ge=h(Y)?!!Y.capture:!!Y;let Pe=ei(d);if(Pe||(d[ze]=Pe=new _e(d)),w=Pe.add(x,w,I,ge,ee),w.proxy)return w;if(I=Mr(),w.proxy=I,I.src=d,I.listener=w,d.addEventListener)L||(Y=ge),Y===void 0&&(Y=!1),d.addEventListener(x.toString(),I,Y);else if(d.attachEvent)d.attachEvent(gr(x.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Mr(){function d(w){return x.call(d.src,d.listener,w)}const x=ms;return d}function fs(d,x,w,I,Y){if(Array.isArray(x))for(var ee=0;ee<x.length;ee++)fs(d,x[ee],w,I,Y);else I=h(I)?!!I.capture:!!I,w=va(w),d&&d[me]?(d=d.i,ee=String(x).toString(),ee in d.g&&(x=d.g[ee],w=Se(x,w,I,Y),w>-1&&(be(x[w]),Array.prototype.splice.call(x,w,1),x.length==0&&(delete d.g[ee],d.h--)))):d&&(d=ei(d))&&(x=d.g[x.toString()],d=-1,x&&(d=Se(x,w,I,Y)),(w=d>-1?x[d]:null)&&ds(w))}function ds(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[me])Re(x.i,d);else{var w=d.type,I=d.proxy;x.removeEventListener?x.removeEventListener(w,I,d.capture):x.detachEvent?x.detachEvent(gr(w),I):x.addListener&&x.removeListener&&x.removeListener(I),(w=ei(x))?(Re(w,d),w.h==0&&(w.src=null,x[ze]=null)):be(d)}}}function gr(d){return d in dt?dt[d]:dt[d]="on"+d}function ms(d,x){if(d.da)d=!0;else{x=new xe(x,this);const w=d.listener,I=d.ha||d.src;d.fa&&ds(d),d=w.call(I,x)}return d}function ei(d){return d=d[ze],d instanceof _e?d:null}var ps="__closure_events_fn_"+(Math.random()*1e9>>>0);function va(d){return typeof d=="function"?d:(d[ps]||(d[ps]=function(x){return d.handleEvent(x)}),d[ps])}function Ot(){U.call(this),this.i=new _e(this),this.M=this,this.G=null}_(Ot,U),Ot.prototype[me]=!0,Ot.prototype.removeEventListener=function(d,x,w,I){fs(this,d,x,w,I)};function Pt(d,x){var w,I=d.G;if(I)for(w=[];I;I=I.G)w.push(I);if(d=d.M,I=x.type||x,typeof x=="string")x=new V(x,d);else if(x instanceof V)x.target=x.target||d;else{var Y=x;x=new V(I,d),R(x,Y)}Y=!0;let ee,ge;if(w)for(ge=w.length-1;ge>=0;ge--)ee=x.g=w[ge],Y=ti(ee,I,!0,x)&&Y;if(ee=x.g=d,Y=ti(ee,I,!0,x)&&Y,Y=ti(ee,I,!1,x)&&Y,w)for(ge=0;ge<w.length;ge++)ee=x.g=w[ge],Y=ti(ee,I,!1,x)&&Y}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var d=this.i;for(const x in d.g){const w=d.g[x];for(let I=0;I<w.length;I++)be(w[I]);delete d.g[x],d.h--}}this.G=null},Ot.prototype.J=function(d,x,w,I){return this.i.add(String(d),x,!1,w,I)},Ot.prototype.K=function(d,x,w,I){return this.i.add(String(d),x,!0,w,I)};function ti(d,x,w,I){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();let Y=!0;for(let ee=0;ee<x.length;++ee){const ge=x[ee];if(ge&&!ge.da&&ge.capture==w){const Pe=ge.listener,zt=ge.ha||ge.src;ge.fa&&Re(d.i,ge),Y=Pe.call(zt,I)!==!1&&Y}}return Y&&!I.defaultPrevented}function xu(d,x){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(d,x||0)}function Rl(d){d.g=xu(()=>{d.g=null,d.i&&(d.i=!1,Rl(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class mn extends U{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Rl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(d){U.call(this),this.h=d,this.g={}}_(Mi,U);var se=[];function pe(d){Me(d.g,function(x,w){this.g.hasOwnProperty(w)&&ds(x)},d),d.g={}}Mi.prototype.N=function(){Mi.Z.N.call(this),pe(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=u.JSON.stringify,Fe=u.JSON.parse,Ze=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function wn(){}function yr(){}var Bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){V.call(this,"d")}_(kt,V);function on(){V.call(this,"c")}_(on,V);var $e={},Pr=null;function An(){return Pr=Pr||new Ot}$e.Ia="serverreachability";function Bh(d){V.call(this,$e.Ia,d)}_(Bh,V);function ni(d){const x=An();Pt(x,new Bh(x))}$e.STAT_EVENT="statevent";function ba(d,x){V.call(this,$e.STAT_EVENT,d),this.stat=x}_(ba,V);function Kt(d){const x=An();Pt(x,new ba(x,d))}$e.Ja="timingevent";function ri(d,x){V.call(this,$e.Ja,d),this.size=x}_(ri,V);function ii(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},x)}function Lr(){this.g=!0}Lr.prototype.ua=function(){this.g=!1};function $m(d,x,w,I,Y,ee){d.info(function(){if(d.g)if(ee){var ge="",Pe=ee.split("&");for(let it=0;it<Pe.length;it++){var zt=Pe[it].split("=");if(zt.length>1){const It=zt[0];zt=zt[1];const vr=It.split("_");ge=vr.length>=2&&vr[1]=="type"?ge+(It+"="+zt+"&"):ge+(It+"=redacted&")}}}else ge=null;else ge=ee;return"XMLHTTP REQ ("+I+") [attempt "+Y+"]: "+x+`
`+w+`
`+ge})}function zh(d,x,w,I,Y,ee,ge){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Y+"]: "+x+`
`+w+`
`+ee+" "+ge})}function si(d,x,w,I){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+Xm(d,w)+(I?" "+I:"")})}function Ta(d,x){d.info(function(){return"TIMEOUT: "+x})}Lr.prototype.info=function(){};function Xm(d,x){if(!d.g)return x;if(!x)return null;try{const ee=JSON.parse(x);if(ee){for(d=0;d<ee.length;d++)if(Array.isArray(ee[d])){var w=ee[d];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var Y=I[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ge=1;ge<I.length;ge++)I[ge]=""}}}}return Ce(ee)}catch{return x}}var wa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bu;function Aa(){}_(Aa,wn),Aa.prototype.g=function(){return new XMLHttpRequest},bu=new Aa;function Pi(d){return encodeURIComponent(String(d))}function Fh(d){var x=1;d=d.split(":");const w=[];for(;x>0&&d.length;)w.push(d.shift()),x--;return d.length&&w.push(d.join(":")),w}function jr(d,x,w,I){this.j=d,this.i=x,this.l=w,this.S=I||1,this.V=new Mi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ur}function Ur(){this.i=null,this.g="",this.h=!1}var Qt={},un={};function ai(d,x,w){d.M=1,d.A=Sa(Xt(x)),d.u=w,d.R=!0,Cl(d,null)}function Cl(d,x){d.F=Date.now(),li(d),d.B=Xt(d.A);var w=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),Vl(w.i,"t",I),d.C=0,w=d.j.L,d.h=new Ur,d.g=rf(d.j,w?x:null,!d.u),d.P>0&&(d.O=new mn(m(d.Y,d,d.g),d.P)),x=d.V,w=d.g,I=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(se[0]=Y.toString()),Y=se);for(let ee=0;ee<Y.length;ee++){const ge=rt(w,Y[ee],I||x.handleEvent,!1,x.h||x);if(!ge)break;x.g[ge.key]=ge}x=d.J?z(d.J):{},d.u?(d.v||(d.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,x)):(d.v="GET",d.g.ea(d.B,d.v,null,x)),ni(),$m(d.i,d.v,d.B,d.l,d.S,d.u)}jr.prototype.ba=function(d){d=d.target;const x=this.O;x&&Fr(d)==3?x.j():this.Y(d)},jr.prototype.Y=function(d){try{if(d==this.g)e:{const Pe=Fr(this.g),zt=this.g.ya(),it=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||pn(this.g)))){this.K||Pe!=4||zt==7||(zt==8||it<=0?ni(3):ni(2)),oi(this);var x=this.g.ca();this.X=x;var w=Wm(this);if(this.o=x==200,zh(this.i,this.v,this.B,this.l,this.S,Pe,x),this.o){if(this.U&&!this.L){t:{if(this.g){var I,Y=this.g;if((I=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var ee=I;break t}}ee=null}if(d=ee)si(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,d);else{this.o=!1,this.m=3,Kt(12),nr(this),_r(this);break e}}if(this.R){d=!0;let It;for(;!this.K&&this.C<w.length;)if(It=Hh(this,w),It==un){Pe==4&&(this.m=4,Kt(14),d=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Qt){this.m=4,Kt(15),si(this.i,this.l,w,"[Invalid Chunk]"),d=!1;break}else si(this.i,this.l,It,null),ui(this,It);if(qh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||w.length!=0||this.h.h||(this.m=1,Kt(16),d=!1),this.o=this.o&&d,!d)si(this.i,this.l,w,"[Invalid Chunked Response]"),nr(this),_r(this);else if(w.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Lu(ge),ge.P=!0,Kt(11))}}else si(this.i,this.l,w,null),ui(this,w);Pe==4&&nr(this),this.o&&!this.K&&(Pe==4?Zh(this.j,this):(this.o=!1,li(this)))}else ji(this.g),x==400&&w.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),nr(this),_r(this)}}}catch{}finally{}};function Wm(d){if(!qh(d))return d.g.la();const x=pn(d.g);if(x==="")return"";let w="";const I=x.length,Y=Fr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return nr(d),_r(d),"";d.h.i=new u.TextDecoder}for(let ee=0;ee<I;ee++)d.h.h=!0,w+=d.h.i.decode(x[ee],{stream:!(Y&&ee==I-1)});return x.length=0,d.h.g+=w,d.C=0,d.h.g}function qh(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Hh(d,x){var w=d.C,I=x.indexOf(`
`,w);return I==-1?un:(w=Number(x.substring(w,I)),isNaN(w)?Qt:(I+=1,I+w>x.length?un:(x=x.slice(I,I+w),d.C=I+w,x)))}jr.prototype.cancel=function(){this.K=!0,nr(this)};function li(d){d.T=Date.now()+d.H,Dl(d,d.H)}function Dl(d,x){if(d.D!=null)throw Error("WatchDog timer not null");d.D=ii(m(d.aa,d),x)}function oi(d){d.D&&(u.clearTimeout(d.D),d.D=null)}jr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ta(this.i,this.B),this.M!=2&&(ni(),Kt(17)),nr(this),this.m=2,_r(this)):Dl(this,this.T-d)};function _r(d){d.j.I==0||d.K||Zh(d.j,d)}function nr(d){oi(d);var x=d.O;x&&typeof x.dispose=="function"&&x.dispose(),d.O=null,pe(d.V),d.g&&(x=d.g,d.g=null,x.abort(),x.dispose())}function ui(d,x){try{var w=d.j;if(w.I!=0&&(w.g==d||hi(w.h,d))){if(!d.L&&hi(w.h,d)&&w.I==3){try{var I=w.Ba.g.parse(x)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Y=I;if(Y[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<d.F)Ul(w),Ts(w);else break e;ka(w),Kt(18)}}else w.xa=Y[1],0<w.xa-w.K&&Y[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=ii(m(w.Va,w),6e3));ci(w.h)<=1&&w.ta&&(w.ta=void 0)}else yi(w,11)}else if((d.L||w.g==d)&&Ul(w),!k(x))for(Y=w.Ba.g.parse(x),x=0;x<Y.length;x++){let it=Y[x];const It=it[0];if(!(It<=w.K))if(w.K=It,it=it[1],w.I==2)if(it[0]=="c"){w.M=it[1],w.ba=it[2];const vr=it[3];vr!=null&&(w.ka=vr,w.j.info("VER="+w.ka));const _i=it[4];_i!=null&&(w.za=_i,w.j.info("SVER="+w.za));const qr=it[5];qr!=null&&typeof qr=="number"&&qr>0&&(I=1.5*qr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const Hr=d.g;if(Hr){const Va=Hr.g?Hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var ee=I.h;ee.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Au(ee,ee.h),ee.h=null))}if(I.G){const Bl=Hr.g?Hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(I.wa=Bl,ot(I.J,I.G,Bl))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-d.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var ge=d;if(I.na=nf(I,I.L?I.ba:null,I.W),ge.L){Su(I.h,ge);var Pe=ge,zt=I.O;zt&&(Pe.H=zt),Pe.D&&(oi(Pe),li(Pe)),I.g=ge}else Wh(I);w.i.length>0&&gi(w)}else it[0]!="stop"&&it[0]!="close"||yi(w,7);else w.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?yi(w,7):Mu(w):it[0]!="noop"&&w.l&&w.l.qa(it),w.A=0)}}ni(4)}catch{}}var $t=class{constructor(d,x){this.g=d,this.map=x}};function Tu(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wu(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ci(d){return d.h?1:d.g?d.g.size:0}function hi(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function Au(d,x){d.g?d.g.add(x):d.h=x}function Su(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}Tu.prototype.cancel=function(){if(this.i=Iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Iu(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const w of d.g.values())x=x.concat(w.G);return x}return b(d.i)}var Gh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ol(d,x){if(d){d=d.split("&");for(let w=0;w<d.length;w++){const I=d[w].indexOf("=");let Y,ee=null;I>=0?(Y=d[w].substring(0,I),ee=d[w].substring(I+1)):Y=d[w],x(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function rr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;d instanceof rr?(this.l=d.l,cn(this,d.j),this.o=d.o,this.g=d.g,gs(this,d.u),this.h=d.h,Nu(this,$h(d.i)),this.m=d.m):d&&(x=String(d).match(Gh))?(this.l=!1,cn(this,x[1]||"",!0),this.o=fi(x[2]||""),this.g=fi(x[3]||"",!0),gs(this,x[4]),this.h=fi(x[5]||"",!0),Nu(this,x[6]||"",!0),this.m=fi(x[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}rr.prototype.toString=function(){const d=[];var x=this.j;x&&d.push(Ia(x,kl,!0),":");var w=this.g;return(w||x=="file")&&(d.push("//"),(x=this.o)&&d.push(Ia(x,kl,!0),"@"),d.push(Pi(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&d.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Ia(w,w.charAt(0)=="/"?Ru:Yh,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Ia(w,Kh)),d.join("")},rr.prototype.resolve=function(d){const x=Xt(this);let w=!!d.j;w?cn(x,d.j):w=!!d.o,w?x.o=d.o:w=!!d.g,w?x.g=d.g:w=d.u!=null;var I=d.h;if(w)gs(x,d.u);else if(w=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var Y=x.h.lastIndexOf("/");Y!=-1&&(I=x.h.slice(0,Y+1)+I)}if(Y=I,Y==".."||Y==".")I="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){I=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let ge=0;ge<Y.length;){const Pe=Y[ge++];Pe=="."?I&&ge==Y.length&&ee.push(""):Pe==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),I&&ge==Y.length&&ee.push("")):(ee.push(Pe),I=!0)}I=ee.join("/")}else I=Y}return w?x.h=I:w=d.i.toString()!=="",w?Nu(x,$h(d.i)):w=!!d.m,w&&(x.m=d.m),x};function Xt(d){return new rr(d)}function cn(d,x,w){d.j=w?fi(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function gs(d,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);d.u=x}else d.u=null}function Nu(d,x,w){x instanceof _s?(d.i=x,Ml(d.i,d.l)):(w||(x=Ia(x,ys)),d.i=new _s(x,d.l))}function ot(d,x,w){d.i.set(x,w)}function Sa(d){return ot(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function fi(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ia(d,x,w){return typeof d=="string"?(d=encodeURI(d).replace(x,Fn),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Fn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var kl=/[#\/\?@]/g,Yh=/[#\?:]/g,Ru=/[#\?]/g,ys=/[#\?@]/g,Kh=/#/g;function _s(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function qn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ol(d.i,function(x,w){d.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}n=_s.prototype,n.add=function(d,x){qn(this),this.i=null,d=Es(this,d);let w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(x),this.h+=1,this};function Qh(d,x){qn(d),x=Es(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function Cu(d,x){return qn(d),x=Es(d,x),d.g.has(x)}n.forEach=function(d,x){qn(this),this.g.forEach(function(w,I){w.forEach(function(Y){d.call(x,Y,I,this)},this)},this)};function Du(d,x){qn(d);let w=[];if(typeof x=="string")Cu(d,x)&&(w=w.concat(d.g.get(Es(d,x))));else for(d=Array.from(d.g.values()),x=0;x<d.length;x++)w=w.concat(d[x]);return w}n.set=function(d,x){return qn(this),this.i=null,d=Es(this,d),Cu(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},n.get=function(d,x){return d?(d=Du(this,d),d.length>0?String(d[0]):x):x};function Vl(d,x,w){Qh(d,x),w.length>0&&(d.i=null,d.g.set(Es(d,x),b(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(let I=0;I<x.length;I++){var w=x[I];const Y=Pi(w);w=Du(this,w);for(let ee=0;ee<w.length;ee++){let ge=Y;w[ee]!==""&&(ge+="="+Pi(w[ee])),d.push(ge)}}return this.i=d.join("&")};function $h(d){const x=new _s;return x.i=d.i,d.g&&(x.g=new Map(d.g),x.h=d.h),x}function Es(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function Ml(d,x){x&&!d.j&&(qn(d),d.i=null,d.g.forEach(function(w,I){const Y=I.toLowerCase();I!=Y&&(Qh(this,I),Vl(this,Y,w))},d)),d.j=x}function Br(d,x){const w=new Lr;if(u.Image){const I=new Image;I.onload=y(Er,w,"TestLoadImage: loaded",!0,x,I),I.onerror=y(Er,w,"TestLoadImage: error",!1,x,I),I.onabort=y(Er,w,"TestLoadImage: abort",!1,x,I),I.ontimeout=y(Er,w,"TestLoadImage: timeout",!1,x,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else x(!1)}function Ou(d,x){const w=new Lr,I=new AbortController,Y=setTimeout(()=>{I.abort(),Er(w,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:I.signal}).then(ee=>{clearTimeout(Y),ee.ok?Er(w,"TestPingServer: ok",!0,x):Er(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),Er(w,"TestPingServer: error",!1,x)})}function Er(d,x,w,I,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),I(w)}catch{}}function xs(){this.g=new Ze}function di(d){this.i=d.Sb||null,this.h=d.ab||!1}_(di,wn),di.prototype.g=function(){return new Na(this.i,this.h)};function Na(d,x){Ot.call(this),this.H=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Na,Ot),n=Na.prototype,n.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=x,this.readyState=1,zr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(x.body=d),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pl(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pl(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?vs(this):zr(this),this.readyState==3&&Pl(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,vs(this))},n.Na=function(d){this.g&&(this.response=d,vs(this))},n.ga=function(){this.g&&vs(this)};function vs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,zr(d)}n.setRequestHeader=function(d,x){this.A.append(d,x)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=x.next();return d.join(`\r
`)};function zr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function xr(d){let x="";return Me(d,function(w,I){x+=I,x+=":",x+=w,x+=`\r
`}),x}function Ra(d,x,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=xr(w),typeof d=="string"?w!=null&&Pi(w):ot(d,x,w))}function mt(d){Ot.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(mt,Ot);var mi=/^https?$/i,ku=["POST","PUT"];n=mt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,x,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bu.g(),this.g.onreadystatechange=v(m(this.Ca,this));try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(ee){Ca(this,ee);return}if(d=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Y in I)w.set(Y,I[Y]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ee of I.keys())w.set(ee,I.get(ee));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(ku,x,void 0)>=0)||I||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ge]of w)this.g.setRequestHeader(ee,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(ee){Ca(this,ee)}};function Ca(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.o=5,Vu(d),Li(d)}function Vu(d){d.A||(d.A=!0,Pt(d,"complete"),Pt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Pt(this,"complete"),Pt(this,"abort"),Li(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),mt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Da(this):this.Xa())},n.Xa=function(){Da(this)};function Da(d){if(d.h&&typeof l<"u"){if(d.v&&Fr(d)==4)setTimeout(d.Ca.bind(d),0);else if(Pt(d,"readystatechange"),Fr(d)==4){d.h=!1;try{const ee=d.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var I;if(I=ee===0){let ge=String(d.D).match(Gh)[1]||null;!ge&&u.self&&u.self.location&&(ge=u.self.location.protocol.slice(0,-1)),I=!mi.test(ge?ge.toLowerCase():"")}w=I}if(w)Pt(d,"complete"),Pt(d,"success");else{d.o=6;try{var Y=Fr(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",Vu(d)}}finally{Li(d)}}}}function Li(d,x){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const w=d.g;d.g=null,x||Pt(d,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Fr(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Fr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),Fe(x)}};function pn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(d){const x={};d=(d.g&&Fr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(k(d[I]))continue;var w=Fh(d[I]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ee=x[Y]||[];x[Y]=ee,ee.push(w)}P(x,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(d,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||x}function bs(d){this.za=0,this.i=[],this.j=new Lr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,d),this.Za=pi("retryDelaySeedMs",1e4,d),this.Ta=pi("forwardChannelMaxRetries",2,d),this.va=pi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Tu(d&&d.concurrentRequestLimit),this.Ba=new xs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=bs.prototype,n.ka=8,n.I=1,n.connect=function(d,x,w,I){Kt(0),this.W=d,this.H=x||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=nf(this,null,this.W),gi(this)};function Mu(d){if(Ll(d),d.I==3){var x=d.V++,w=Xt(d.J);if(ot(w,"SID",d.M),ot(w,"RID",x),ot(w,"TYPE","terminate"),Oa(d,w),x=new jr(d,d.j,x),x.M=2,x.A=Sa(Xt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=x.A,w=!0),w||(x.g=rf(x.j,null),x.g.ea(x.A)),x.F=Date.now(),li(x)}tf(d)}function Ts(d){d.g&&(Lu(d),d.g.cancel(),d.g=null)}function Ll(d){Ts(d),d.v&&(u.clearTimeout(d.v),d.v=null),Ul(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function gi(d){if(!wu(d.h)&&!d.m){d.m=!0;var x=d.Ea;fe||N(),K||(fe(),K=!0),S.add(x,d),d.D=0}}function jl(d,x){return ci(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=x.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=ii(m(d.Ea,d,x),ef(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new jr(this,this.j,d);let ee=this.o;if(this.U&&(ee?(ee=z(ee),R(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(x+=I,x>4096){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=Xh(this,Y,x),w=Xt(this.J),ot(w,"RID",d),ot(w,"CVER",22),this.G&&ot(w,"X-HTTP-Session-Id",this.G),Oa(this,w),ee&&(this.R?x="headers="+Pi(xr(ee))+"&"+x:this.u&&Ra(w,this.u,ee)),Au(this.h,Y),this.Ra&&ot(w,"TYPE","init"),this.S?(ot(w,"$req",x),ot(w,"SID","null"),Y.U=!0,ai(Y,w,null)):ai(Y,w,x),this.I=2}}else this.I==3&&(d?Pu(this,d):this.i.length==0||wu(this.h)||Pu(this))};function Pu(d,x){var w;x?w=x.l:w=d.V++;const I=Xt(d.J);ot(I,"SID",d.M),ot(I,"RID",w),ot(I,"AID",d.K),Oa(d,I),d.u&&d.o&&Ra(I,d.u,d.o),w=new jr(d,d.j,w,d.D+1),d.u===null&&(w.J=d.o),x&&(d.i=x.G.concat(d.i)),x=Xh(d,w,1e3),w.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Au(d.h,w),ai(w,I,x)}function Oa(d,x){d.H&&Me(d.H,function(w,I){ot(x,I,w)}),d.l&&Me({},function(w,I){ot(x,I,w)})}function Xh(d,x,w){w=Math.min(d.i.length,w);const I=d.l?m(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Pe=-1;for(;;){const zt=["count="+w];Pe==-1?w>0?(Pe=Y[0].g,zt.push("ofs="+Pe)):Pe=0:zt.push("ofs="+Pe);let it=!0;for(let It=0;It<w;It++){var ee=Y[It].g;const vr=Y[It].map;if(ee-=Pe,ee<0)Pe=Math.max(0,Y[It].g-100),it=!1;else try{ee="req"+ee+"_"||"";try{var ge=vr instanceof Map?vr:Object.entries(vr);for(const[_i,qr]of ge){let Hr=qr;h(qr)&&(Hr=Ce(qr)),zt.push(ee+_i+"="+encodeURIComponent(Hr))}}catch(_i){throw zt.push(ee+"type="+encodeURIComponent("_badmap")),_i}}catch{I&&I(vr)}}if(it){ge=zt.join("&");break e}}ge=void 0}return d=d.i.splice(0,w),x.G=d,ge}function Wh(d){if(!d.g&&!d.v){d.Y=1;var x=d.Da;fe||N(),K||(fe(),K=!0),S.add(x,d),d.A=0}}function ka(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=ii(m(d.Da,d),ef(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Jh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=ii(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),Ts(this),Jh(this))};function Lu(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Jh(d){d.g=new jr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var x=Xt(d.na);ot(x,"RID","rpc"),ot(x,"SID",d.M),ot(x,"AID",d.K),ot(x,"CI",d.F?"0":"1"),!d.F&&d.ia&&ot(x,"TO",d.ia),ot(x,"TYPE","xmlhttp"),Oa(d,x),d.u&&d.o&&Ra(x,d.u,d.o),d.O&&(d.g.H=d.O);var w=d.g;d=d.ba,w.M=1,w.A=Sa(Xt(x)),w.u=null,w.R=!0,Cl(w,d)}n.Va=function(){this.C!=null&&(this.C=null,Ts(this),ka(this),Kt(19))};function Ul(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Zh(d,x){var w=null;if(d.g==x){Ul(d),Lu(d),d.g=null;var I=2}else if(hi(d.h,x))w=x.G,Su(d.h,x),I=1;else return;if(d.I!=0){if(x.o)if(I==1){w=x.u?x.u.length:0,x=Date.now()-x.F;var Y=d.D;I=An(),Pt(I,new ri(I,w)),gi(d)}else Wh(d);else if(Y=x.m,Y==3||Y==0&&x.X>0||!(I==1&&jl(d,x)||I==2&&ka(d)))switch(w&&w.length>0&&(x=d.h,x.i=x.i.concat(w)),Y){case 1:yi(d,5);break;case 4:yi(d,10);break;case 3:yi(d,6);break;default:yi(d,2)}}}function ef(d,x){let w=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(w*=2),w*x}function yi(d,x){if(d.j.info("Error code "+x),x==2){var w=m(d.bb,d),I=d.Ua;const Y=!I;I=new rr(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cn(I,"https"),Sa(I),Y?Br(I.toString(),w):Ou(I.toString(),w)}else Kt(2);d.I=0,d.l&&d.l.pa(x),tf(d),Ll(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function tf(d){if(d.I=0,d.ja=[],d.l){const x=Iu(d.h);(x.length!=0||d.i.length!=0)&&(D(d.ja,x),D(d.ja,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.oa()}}function nf(d,x,w){var I=w instanceof rr?Xt(w):new rr(w);if(I.g!="")x&&(I.g=x+"."+I.g),gs(I,I.u);else{var Y=u.location;I=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new rr(null);I&&cn(ee,I),x&&(ee.g=x),Y&&gs(ee,Y),w&&(ee.h=w),I=ee}return w=d.G,x=d.wa,w&&x&&ot(I,w,x),ot(I,"VER",d.ka),Oa(d,I),I}function rf(d,x,w){if(x&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Aa&&!d.ma?new mt(new di({ab:w})):new mt(d.ma),x.Fa(d.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sf(){}n=sf.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ws(){}ws.prototype.g=function(d,x){return new kn(d,x)};function kn(d,x){Ot.call(this),this.g=new bs(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(d?d["X-WebChannel-Client-Profile"]=x.sa:d={"X-WebChannel-Client-Profile":x.sa}),this.g.U=d,(d=x&&x.Qb)&&!k(d)&&(this.g.u=d),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!k(x)&&(this.g.G=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new Ui(this)}_(kn,Ot),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Mu(this.g)},kn.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.v&&(w={},w.__data__=Ce(d),d=w);x.i.push(new $t(x.Ya++,d)),x.I==3&&gi(x)},kn.prototype.N=function(){this.g.l=null,delete this.j,Mu(this.g),delete this.g,kn.Z.N.call(this)};function af(d){kt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const w in x){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}_(af,kt);function lf(){on.call(this),this.status=1}_(lf,on);function Ui(d){this.g=d}_(Ui,sf),Ui.prototype.ra=function(){Pt(this.g,"a")},Ui.prototype.qa=function(d){Pt(this.g,new af(d))},Ui.prototype.pa=function(d){Pt(this.g,new lf)},Ui.prototype.oa=function(){Pt(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,w1=function(){return new ws},T1=function(){return An()},b1=$e,Vy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,Cd=wa,vu.COMPLETE="complete",v1=vu,yr.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,Vc=yr,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,x1=mt}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu="12.9.0";function T4(n){cu=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new M_("@firebase/firestore");function Ao(){return la.logLevel}function w4(n){la.setLogLevel(n)}function ue(n,...e){if(la.logLevel<=We.DEBUG){const t=e.map(z_);la.debug(`Firestore (${cu}): ${n}`,...t)}}function Ht(n,...e){if(la.logLevel<=We.ERROR){const t=e.map(z_);la.error(`Firestore (${cu}): ${n}`,...t)}}function Zr(n,...e){if(la.logLevel<=We.WARN){const t=e.map(z_);la.warn(`Firestore (${cu}): ${n}`,...t)}}function z_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,A1(n,r,t)}function A1(n,e,t){let r=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ht(r),new Error(r)}function we(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||A1(e,a,r)}function A4(n,e){n||ve(57014,e)}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Tl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(dn.UNAUTHENTICATED)))}shutdown(){}}class I4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class N4{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let l=new bn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new bn,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new bn)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new S1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class R4{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class C4{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new R4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,f1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){we(this.o===void 0,3512);const r=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(we(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new lT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=O4(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function My(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return sy(a)===sy(l)?ke(a,l):sy(a)?1:-1}return ke(n.length,e.length)}const k4=55296,V4=57343;function sy(n){const e=n.charCodeAt(0);return e>=k4&&e<=V4}function qo(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}function I1(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="__name__";class wi{constructor(e,t,r){t===void 0?t=0:t>e.length&&ve(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ve(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=wi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ke(e.length,t.length)}static compareSegments(e,t){const r=wi.isNumericId(e),a=wi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?wi.extractNumericId(e).compare(wi.extractNumericId(t)):My(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return na.fromString(e.substring(4,e.length-2))}}class Ge extends wi{construct(e,t,r){return new Ge(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new Ge(t)}static emptyPath(){return new Ge([])}}const M4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends wi{construct(e,t,r){return new Ct(e,t,r)}static isValidIdentifier(e){return M4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oT}static keyField(){return new Ct([oT])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(t)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ge.fromString(e))}static fromName(e){return new ye(Ge.fromString(e).popFirst(5))}static empty(){return new ye(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(n,e,t){if(!t)throw new oe(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function N1(n,e,t,r){if(e===!0&&r===!0)throw new oe(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uT(n){if(!ye.isDocumentKey(n))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cT(n){if(ye.isDocumentKey(n))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function R1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function _m(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ve(12329,{type:typeof n})}function nt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_m(n);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function C1(n,e){if(e<=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Th(n,e){if(!R1(n))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new oe(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=-62135596800,fT=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*fT);return new lt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hT)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fT}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Th(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:rn("string",lt._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new lt(0,0))}static max(){return new Ie(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=-1;class Kd{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function Py(n){return n.fields.find((e=>e.kind===2))}function Ja(n){return n.fields.filter((e=>e.kind!==2))}Kd.UNKNOWN_ID=-1;class Dd{constructor(e,t){this.fieldPath=e,this.kind=t}}class rh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new rh(0,pr.min())}}function D1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(r===1e9?new lt(t+1,0):new lt(t,r));return new pr(a,ye.empty(),e)}function O1(n){return new pr(n.readTime,n.key,Ho)}class pr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pr(Ie.min(),ye.empty(),Ho)}static max(){return new pr(Ie.max(),ye.empty(),Ho)}}function H_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==k1)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):G.reject(t)}static resolve(e){return new G(((t,r)=>{t(e)}))}static reject(e){return new G(((t,r)=>{r(e)}))}static waitFor(e){return new G(((t,r)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&t()}),(f=>r(f)))})),u=!0,l===a&&t()}))}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next((a=>a?G.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new G(((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let f=0;f<l;f++){const m=f;t(e[m]).next((y=>{u[m]=y,++h,h===l&&r(u)}),(y=>a(y)))}}))}static doWhile(e,t){return new G(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="SimpleDb";class Em{static open(e,t,r,a){try{return new Em(t,e.transaction(a,r))}catch(l){throw new zc(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new bn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new zc(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=G_(r.target.error);this.S.reject(new zc(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ue(fr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new L4(t)}}class Ri{static delete(e){return ue(fr,"Removing database:",e),tl(D_().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!i1())return!1;if(Ri.F())return!0;const e=Gd(),t=Ri.M(e),r=0<t&&t<10,a=M1(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Ri.M(Gd())===12.2&&Ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ue(fr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;t(u)},a.onblocked=()=>{r(new zc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?r(new oe(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new oe(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new zc(e,u))},a.onupgradeneeded=l=>{ue(fr,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,a.transaction,l.oldVersion,this.version).next((()=>{ue(fr,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,a){const l=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=Em.open(this.db,e,l?"readonly":"readwrite",r),f=a(h).next((m=>(h.C(),m))).catch((m=>(h.abort(m),G.reject(m)))).toPromise();return f.catch((()=>{})),await h.D,f}catch(h){const f=h,m=f.name!=="FirebaseError"&&u<3;if(ue(fr,"Transaction failed with error:",f.message,"Retrying:",m),this.close(),!m)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function M1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class P4{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return tl(this.U.delete())}}class zc extends oe{constructor(e,t){super(Z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ga(n){return n.name==="IndexedDbTransactionError"}class L4{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue(fr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue(fr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),tl(r)}add(e){return ue(fr,"ADD",this.store.name,e,e),tl(this.store.add(e))}get(e){return tl(this.store.get(e)).next((t=>(t===void 0&&(t=null),ue(fr,"GET",this.store.name,e,t),t)))}delete(e){return ue(fr,"DELETE",this.store.name,e),tl(this.store.delete(e))}count(){return ue(fr,"COUNT",this.store.name),tl(this.store.count())}H(e,t){const r=this.options(e,t),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(r.range);return new G(((u,h)=>{l.onerror=f=>{h(f.target.error)},l.onsuccess=f=>{u(f.target.result)}}))}{const l=this.cursor(r),u=[];return this.J(l,((h,f)=>{u.push(f)})).next((()=>u))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new G(((a,l)=>{r.onerror=u=>{l(u.target.error)},r.onsuccess=u=>{a(u.target.result)}}))}X(e,t){ue(fr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const a=this.cursor(r);return this.J(a,((l,u,h)=>h.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.J(a,t)}te(e){const t=this.cursor({});return new G(((r,a)=>{t.onerror=l=>{const u=G_(l.target.error);a(u)},t.onsuccess=l=>{const u=l.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():r()})):r()}}))}J(e,t){const r=[];return new G(((a,l)=>{e.onerror=u=>{l(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const f=new P4(h),m=t(h.primaryKey,h.value,f);if(m instanceof G){const y=m.catch((_=>(f.done(),G.reject(_))));r.push(y)}f.isDone?a():f.G===null?h.continue():h.continue(f.G)}})).next((()=>G.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function tl(n){return new G(((e,t)=>{n.onsuccess=r=>{const a=r.target.result;e(a)},n.onerror=r=>{const a=G_(r.target.error);t(a)}}))}let dT=!1;function G_(n){const e=Ri.M(Gd());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dT||(dT=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Fc="IndexBackfiller";class j4{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ue(Fc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ue(Fc,`Documents written: ${t}`)}catch(t){ga(t)?ue(Fc,"Ignoring IndexedDB error during index backfill: ",t):await pa(t)}await this.re(6e4)}))}}class U4{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let a=t,l=!0;return G.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!r.has(u))return ue(Fc,`Processing collection: ${u}`),this.oe(e,u,a).next((h=>{a-=h,r.add(u)}));l=!1})))).next((()=>t-a))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(a,l))).next((h=>(ue(Fc,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>u.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((a,l)=>{const u=O1(l);H_(u,r)>0&&(r=u)})),new pr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=-1;function wh(n){return n==null}function ih(n){return n===0&&1/n==-1/0}function P1(n){return typeof n=="number"&&Number.isInteger(n)&&!ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="";function Cn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mT(e)),e=B4(n.get(t),e);return mT(e)}function B4(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case Qd:t+="";break;default:t+=l}}return t}function mT(n){return n+Qd+""}function Ii(n){const e=n.length;if(we(e>=2,64408,{path:n}),e===2)return we(n.charAt(0)===Qd&&n.charAt(1)==="",56145,{path:n}),Ge.emptyPath();const t=e-2,r=[];let a="";for(let l=0;l<e;){const u=n.indexOf(Qd,l);switch((u<0||u>t)&&ve(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(l,u);let f;a.length===0?f=h:(a+=h,f=a,a=""),r.push(f);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:ve(61167,{path:n})}l=u+2}return new Ge(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="remoteDocuments",Ah="owner",yo="owner",sh="mutationQueues",z4="userId",$r="mutations",pT="batchId",ll="userMutationsIndex",gT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(n,e){return[n,Cn(e)]}function L1(n,e,t){return[n,Cn(e),t]}const F4={},Go="documentMutations",$d="remoteDocumentsV14",q4=["prefixPath","collectionGroup","readTime","documentId"],kd="documentKeyIndex",H4=["prefixPath","collectionGroup","documentId"],j1="collectionGroupIndex",G4=["collectionGroup","readTime","prefixPath","documentId"],ah="remoteDocumentGlobal",Ly="remoteDocumentGlobalKey",Yo="targets",U1="queryTargetsIndex",Y4=["canonicalId","targetId"],Ko="targetDocuments",K4=["targetId","path"],Y_="documentTargetsIndex",Q4=["path","targetId"],Xd="targetGlobalKey",cl="targetGlobal",lh="collectionParents",$4=["collectionId","parent"],Qo="clientMetadata",X4="clientId",xm="bundles",W4="bundleId",vm="namedQueries",J4="name",K_="indexConfiguration",Z4="indexId",jy="collectionGroupIndex",eV="collectionGroup",qc="indexState",tV=["indexId","uid"],B1="sequenceNumberIndex",nV=["uid","sequenceNumber"],Hc="indexEntries",rV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],z1="documentKeyIndex",iV=["indexId","uid","orderedDocumentKey"],bm="documentOverlays",sV=["userId","collectionPath","documentId"],Uy="collectionPathOverlayIndex",aV=["userId","collectionPath","largestBatchId"],F1="collectionGroupOverlayIndex",lV=["userId","collectionGroup","largestBatchId"],Q_="globals",oV="name",q1=[sh,$r,Go,Za,Yo,Ah,cl,Ko,Qo,ah,lh,xm,vm],uV=[...q1,bm],H1=[sh,$r,Go,$d,Yo,Ah,cl,Ko,Qo,ah,lh,xm,vm,bm],G1=H1,$_=[...G1,K_,qc,Hc],cV=$_,Y1=[...$_,Q_],hV=Y1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends V1{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function ln(n,e){const t=Ee(n);return Ri.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function K1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dd(this.root,e,this.comparator,!0)}}class dd{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??xn.RED,this.left=a??xn.EMPTY,this.right=l??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new xn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return xn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _T(this.data.getIterator())}getIteratorFrom(e){return new _T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ft(this.comparator);return t.data=e,t}}class _T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _o(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new ft(Ct.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Q1("Invalid base64 string: "+l):l}})(e);return new Ut(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const dV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(n){if(we(!!n,39018),typeof n=="string"){let e=0;const t=dV.exec(n);if(we(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ls(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="server_timestamp",X1="__type__",W1="__previous_value__",J1="__local_write_time__";function Tm(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[X1])==null?void 0:r.stringValue)===$1}function wm(n){const e=n.mapValue.fields[W1];return Tm(e)?wm(e):e}function oh(n){const e=as(n.mapValue.fields[J1].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,t,r,a,l,u,h,f,m,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=_}}const zy="(default)";class oa{constructor(e,t){this.projectId=e,this.database=t||zy}static empty(){return new oa("","")}get isDefaultDatabase(){return this.database===zy}isEqual(e){return e instanceof oa&&e.projectId===this.projectId&&e.database===this.database}}function pV(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oa(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__type__",Z1="__max__",Zs={mapValue:{fields:{__type__:{stringValue:Z1}}}},W_="__vector__",$o="value",Vd={nullValue:"NULL_VALUE"};function ua(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tm(n)?4:eI(n)?9007199254740991:Am(n)?10:11:ve(28295,{value:n})}function Oi(n,e){if(n===e)return!0;const t=ua(n);if(t!==ua(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return oh(n).isEqual(oh(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=as(a.timestampValue),h=as(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return ls(a.bytesValue).isEqual(ls(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Rt(a.doubleValue),h=Rt(l.doubleValue);return u===h?ih(u)===ih(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return qo(n.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(yT(u)!==yT(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Oi(u[f],h[f])))return!1;return!0})(n,e);default:return ve(52216,{left:n})}}function uh(n,e){return(n.values||[]).find((t=>Oi(t,e)))!==void 0}function ca(n,e){if(n===e)return 0;const t=ua(n),r=ua(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Rt(l.integerValue||l.doubleValue),f=Rt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return ET(n.timestampValue,e.timestampValue);case 4:return ET(oh(n),oh(e));case 5:return My(n.stringValue,e.stringValue);case 6:return(function(l,u){const h=ls(l),f=ls(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=ke(h[m],f[m]);if(y!==0)return y}return ke(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=ke(Rt(l.latitude),Rt(u.latitude));return h!==0?h:ke(Rt(l.longitude),Rt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return xT(n.arrayValue,e.arrayValue);case 10:return(function(l,u){var v,b,D,M;const h=l.fields||{},f=u.fields||{},m=(v=h[$o])==null?void 0:v.arrayValue,y=(b=f[$o])==null?void 0:b.arrayValue,_=ke(((D=m==null?void 0:m.values)==null?void 0:D.length)||0,((M=y==null?void 0:y.values)==null?void 0:M.length)||0);return _!==0?_:xT(m,y)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Zs.mapValue&&u===Zs.mapValue)return 0;if(l===Zs.mapValue)return 1;if(u===Zs.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),m=u.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const v=My(f[_],y[_]);if(v!==0)return v;const b=ca(h[f[_]],m[y[_]]);if(b!==0)return b}return ke(f.length,y.length)})(n.mapValue,e.mapValue);default:throw ve(23264,{he:t})}}function ET(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=as(n),r=as(e),a=ke(t.seconds,r.seconds);return a!==0?a:ke(t.nanos,r.nanos)}function xT(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=ca(t[a],r[a]);if(l)return l}return ke(t.length,r.length)}function Xo(n){return Fy(n)}function Fy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=as(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ls(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=Fy(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${Fy(t.fields[u])}`;return a+"}"})(n.mapValue):ve(61005,{value:n})}function Md(n){switch(ua(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wm(n);return e?16+Md(e):16;case 5:return 2*n.stringValue.length;case 6:return ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Md(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return ya(r.fields,((l,u)=>{a+=l.length+Md(u)})),a})(n.mapValue);default:throw ve(13486,{value:n})}}function fl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qy(n){return!!n&&"integerValue"in n}function ch(n){return!!n&&"arrayValue"in n}function vT(n){return!!n&&"nullValue"in n}function bT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pd(n){return!!n&&"mapValue"in n}function Am(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[X_])==null?void 0:r.stringValue)===W_}function Gc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ya(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Gc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gc(n.arrayValue.values[t]);return e}return{...n}}function eI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Z1}const tI={mapValue:{fields:{[X_]:{stringValue:W_},[$o]:{arrayValue:{}}}}};function gV(n){return"nullValue"in n?Vd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?fl(oa.empty(),ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Am(n)?tI:{mapValue:{}}:ve(35942,{value:n})}function yV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?fl(oa.empty(),ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?tI:"mapValue"in n?Am(n)?{mapValue:{}}:Zs:ve(61959,{value:n})}function TT(n,e){const t=ca(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function wT(n,e){const t=ca(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Pd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(t)}setAll(e){let t=Ct.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=h.popLast()}u?r[h.lastSegment()]=Gc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Pd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Pd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ya(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new vn(Gc(this.value))}}function nI(n){const e=[];return ya(n.fields,((t,r)=>{const a=new Ct([t]);if(Pd(r)){const l=nI(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t,r,a,l,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new St(e,0,Ie.min(),Ie.min(),Ie.min(),vn.empty(),0)}static newFoundDocument(e,t,r,a){return new St(e,1,t,Ie.min(),r,a,0)}static newNoDocument(e,t){return new St(e,2,t,Ie.min(),Ie.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new St(e,3,t,Ie.min(),Ie.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t){this.position=e,this.inclusive=t}}function AT(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=ca(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function ST(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t="asc"){this.field=e,this.dir=t}}function _V(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{}class Qe extends rI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new EV(e,t,r):t==="array-contains"?new bV(e,r):t==="in"?new uI(e,r):t==="not-in"?new TV(e,r):t==="array-contains-any"?new wV(e,r):new Qe(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new xV(e,r):new vV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ca(t,this.value)):t!==null&&ua(this.value)===ua(t)&&this.matchesComparison(ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ht extends rI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ht(e,t)}matches(e){return Wo(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wo(n){return n.op==="and"}function Hy(n){return n.op==="or"}function J_(n){return iI(n)&&Wo(n)}function iI(n){for(const e of n.filters)if(e instanceof ht)return!1;return!0}function Gy(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+Xo(n.value);if(J_(n))return n.filters.map((e=>Gy(e))).join(",");{const e=n.filters.map((t=>Gy(t))).join(",");return`${n.op}(${e})`}}function sI(n,e){return n instanceof Qe?(function(r,a){return a instanceof Qe&&r.op===a.op&&r.field.isEqual(a.field)&&Oi(r.value,a.value)})(n,e):n instanceof ht?(function(r,a){return a instanceof ht&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,h)=>l&&sI(u,a.filters[h])),!0):!1})(n,e):void ve(19439)}function aI(n,e){const t=n.filters.concat(e);return ht.create(t,n.op)}function lI(n){return n instanceof Qe?(function(t){return`${t.field.canonicalString()} ${t.op} ${Xo(t.value)}`})(n):n instanceof ht?(function(t){return t.op.toString()+" {"+t.getFilters().map(lI).join(" ,")+"}"})(n):"Filter"}class EV extends Qe{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class xV extends Qe{constructor(e,t){super(e,"in",t),this.keys=oI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vV extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=oI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function oI(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>ye.fromName(r.referenceValue)))}class bV extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ch(t)&&uh(t.arrayValue,this.value)}}class uI extends Qe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uh(this.value.arrayValue,t)}}class TV extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!uh(this.value.arrayValue,t)}}class wV extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ch(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>uh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,t=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function Yy(n,e=null,t=[],r=[],a=null,l=null,u=null){return new AV(n,e,t,r,a,l,u)}function dl(n){const e=Ee(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Gy(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Xo(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Xo(r))).join(",")),e.Te=t}return e.Te}function Sh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_V(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ST(n.startAt,e.startAt)&&ST(n.endAt,e.endAt)}function Wd(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Jd(n,e){return n.filters.filter((t=>t instanceof Qe&&t.field.isEqual(e)))}function IT(n,e,t){let r=Vd,a=!0;for(const l of Jd(n,e)){let u=Vd,h=!0;switch(l.op){case"<":case"<=":u=gV(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,h=!1;break;case"!=":case"not-in":u=Vd}TT({value:r,inclusive:a},{value:u,inclusive:h})<0&&(r=u,a=h)}if(t!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];TT({value:r,inclusive:a},{value:u,inclusive:t.inclusive})<0&&(r=u,a=t.inclusive);break}}return{value:r,inclusive:a}}function NT(n,e,t){let r=Zs,a=!0;for(const l of Jd(n,e)){let u=Zs,h=!0;switch(l.op){case">=":case">":u=yV(l.value),h=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,h=!1;break;case"!=":case"not-in":u=Zs}wT({value:r,inclusive:a},{value:u,inclusive:h})>0&&(r=u,a=h)}if(t!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];wT({value:r,inclusive:a},{value:u,inclusive:t.inclusive})>0&&(r=u,a=t.inclusive);break}}return{value:r,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t=null,r=[],a=[],l=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function cI(n,e,t,r,a,l,u,h){return new os(n,e,t,r,a,l,u,h)}function hu(n){return new os(n)}function RT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function SV(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Z_(n){return n.collectionGroup!==null}function Oo(n){const e=Ee(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ft(Ct.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new hh(l,r))})),t.has(Ct.keyField().canonicalString())||e.Ie.push(new hh(Ct.keyField(),r))}return e.Ie}function jn(n){const e=Ee(n);return e.Ee||(e.Ee=IV(e,Oo(n))),e.Ee}function IV(n,e){if(n.limitType==="F")return Yy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new hh(a.field,l)}));const t=n.endAt?new ha(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ha(n.startAt.position,n.startAt.inclusive):null;return Yy(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ky(n,e){const t=n.filters.concat([e]);return new os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function NV(n,e){const t=n.explicitOrderBy.concat([e]);return new os(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Zd(n,e,t){return new os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function RV(n,e){return new os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function CV(n,e){return new os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function Ih(n,e){return Sh(jn(n),jn(e))&&n.limitType===e.limitType}function hI(n){return`${dl(jn(n))}|lt:${n.limitType}`}function So(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>lI(a))).join(", ")}]`),wh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Xo(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Xo(a))).join(",")),`Target(${r})`})(jn(n))}; limitType=${n.limitType})`}function Nh(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ye.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of Oo(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,f){const m=AT(u,h,f);return u.inclusive?m<=0:m<0})(r.startAt,Oo(r),a)||r.endAt&&!(function(u,h,f){const m=AT(u,h,f);return u.inclusive?m>=0:m>0})(r.endAt,Oo(r),a))})(n,e)}function fI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dI(n){return(e,t)=>{let r=!1;for(const a of Oo(n)){const l=DV(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function DV(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(l,u,h){const f=u.data.field(l),m=h.data.field(l);return f!==null&&m!==null?ca(f,m):ve(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return K1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new bt(ye.comparator);function Zn(){return OV}const mI=new bt(ye.comparator);function Mc(...n){let e=mI;for(const t of n)e=e.insert(t.key,t);return e}function pI(n){let e=mI;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ni(){return Yc()}function gI(){return Yc()}function Yc(){return new us((n=>n.toString()),((n,e)=>n.isEqual(e)))}const kV=new bt(ye.comparator),VV=new ft(ye.comparator);function je(...n){let e=VV;for(const t of n)e=e.add(t);return e}const MV=new ft(ke);function eE(){return MV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function yI(n){return{integerValue:""+n}}function _I(n,e){return P1(e)?yI(e):tE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this._=void 0}}function PV(n,e,t){return n instanceof Jo?(function(a,l){const u={fields:{[X1]:{stringValue:$1},[J1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Tm(l)&&(l=wm(l)),l&&(u.fields[W1]=l),{mapValue:u}})(t,e):n instanceof ml?xI(n,e):n instanceof pl?vI(n,e):(function(a,l){const u=EI(a,l),h=CT(u)+CT(a.Ae);return qy(u)&&qy(a.Ae)?yI(h):tE(a.serializer,h)})(n,e)}function LV(n,e,t){return n instanceof ml?xI(n,e):n instanceof pl?vI(n,e):t}function EI(n,e){return n instanceof Zo?(function(r){return qy(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Jo extends Sm{}class ml extends Sm{constructor(e){super(),this.elements=e}}function xI(n,e){const t=bI(e);for(const r of n.elements)t.some((a=>Oi(a,r)))||t.push(r);return{arrayValue:{values:t}}}class pl extends Sm{constructor(e){super(),this.elements=e}}function vI(n,e){let t=bI(e);for(const r of n.elements)t=t.filter((a=>!Oi(a,r)));return{arrayValue:{values:t}}}class Zo extends Sm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function CT(n){return Rt(n.integerValue||n.doubleValue)}function bI(n){return ch(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.field=e,this.transform=t}}function jV(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof ml&&a instanceof ml||r instanceof pl&&a instanceof pl?qo(r.elements,a.elements,Oi):r instanceof Zo&&a instanceof Zo?Oi(r.Ae,a.Ae):r instanceof Jo&&a instanceof Jo})(n.transform,e.transform)}class UV{constructor(e,t){this.version=e,this.transformResults=t}}class Dt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dt}static exists(e){return new Dt(void 0,e)}static updateTime(e){return new Dt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ld(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Im{}function TI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new du(n.key,Dt.none()):new fu(n.key,n.data,Dt.none());{const t=n.data,r=vn.empty();let a=new ft(Ct.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new cs(n.key,r,new Jn(a.toArray()),Dt.none())}}function BV(n,e,t){n instanceof fu?(function(a,l,u){const h=a.value.clone(),f=OT(a.fieldTransforms,l,u.transformResults);h.setAll(f),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof cs?(function(a,l,u){if(!Ld(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=OT(a.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(wI(a)),f.setAll(h),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Kc(n,e,t,r){return n instanceof fu?(function(l,u,h,f){if(!Ld(l.precondition,u))return h;const m=l.value.clone(),y=kT(l.fieldTransforms,f,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof cs?(function(l,u,h,f){if(!Ld(l.precondition,u))return h;const m=kT(l.fieldTransforms,f,u),y=u.data;return y.setAll(wI(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(l,u,h){return Ld(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function zV(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=EI(r.transform,a||null);l!=null&&(t===null&&(t=vn.empty()),t.set(r.field,l))}return t||null}function DT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&qo(r,a,((l,u)=>jV(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fu extends Im{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class cs extends Im{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function wI(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function OT(n,e,t){const r=new Map;we(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,LV(u,h,t[a]))}return r}function kT(n,e,t){const r=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);r.set(a.field,PV(l,u,e))}return r}class du extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nE extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&BV(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Kc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Kc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gI();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(a.key)?null:h;const f=TI(u,h);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,((t,r)=>DT(t,r)))&&qo(this.baseMutations,e.baseMutations,((t,r)=>DT(t,r)))}}class iE{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return kV})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new iE(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,Je;function AI(n){switch(n){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:n})}}function SI(n){if(n===void 0)return Ht("GRPC error has no .code"),Z.UNKNOWN;switch(n){case tn.OK:return Z.OK;case tn.CANCELLED:return Z.CANCELLED;case tn.UNKNOWN:return Z.UNKNOWN;case tn.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case tn.INTERNAL:return Z.INTERNAL;case tn.UNAVAILABLE:return Z.UNAVAILABLE;case tn.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case tn.NOT_FOUND:return Z.NOT_FOUND;case tn.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case tn.ABORTED:return Z.ABORTED;case tn.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case tn.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:n})}}(Je=tn||(tn={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new na([4294967295,4294967295],0);function VT(n){const e=II().encode(n),t=new E1;return t.update(e),new Uint8Array(t.digest())}function MT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new na([t,r],0),new na([a,l],0)]}class aE{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pc(`Invalid padding: ${t}`);if(r<0)throw new Pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=na.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(na.fromNumber(r)));return a.compare(qV)===1&&(a=new na([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=VT(e),[r,a]=MT(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new aE(l,a,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=VT(e),[r,a]=MT(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Dh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ch(Ie.min(),a,new bt(ke),Zn(),je())}}class Dh{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Dh(r,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class NI{constructor(e,t){this.targetId=e,this.Ce=t}}class RI{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class PT{constructor(){this.ve=0,this.Fe=LT(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:ve(38017,{changeType:l})}})),new Dh(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=LT()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zn(),this.He=md(),this.Je=md(),this.Ze=new bt(ke)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Wd(l))if(r===0){const u=new ye(l.path);this.et(t,u,St.newNoDocument(u,Ie.min()))}else we(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let u,h;try{u=ls(r).toUint8Array()}catch(f){if(f instanceof Q1)return Zr("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new aE(u,a,l)}catch(f){return Zr(f instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Wd(h.target)){const f=new ye(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,St.newNoDocument(f,e))}l.Be&&(t.set(u,l.ke()),l.Ke())}}));let r=je();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Ch(e,t,this.Ze,this.je,r);return this.je=Zn(),this.He=md(),this.Je=md(),this.Ze=new bt(ke),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new PT,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new ft(ke),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new ft(ke),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function md(){return new bt(ye.comparator)}function LT(){return new bt(ye.comparator)}const GV={asc:"ASCENDING",desc:"DESCENDING"},YV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KV={and:"AND",or:"OR"};class QV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qy(n,e){return n.useProto3Json||wh(e)?e:{value:e}}function eu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $V(n,e){return eu(n,e.toTimestamp())}function Gt(n){return we(!!n,49232),Ie.fromTimestamp((function(t){const r=as(t);return new lt(r.seconds,r.nanos)})(n))}function lE(n,e){return $y(n,e).canonicalString()}function $y(n,e){const t=(function(a){return new Ge(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function DI(n){const e=Ge.fromString(n);return we(zI(e),10190,{key:e.toString()}),e}function fh(n,e){return lE(n.databaseId,e.path)}function Ci(n,e){const t=DI(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(VI(t))}function OI(n,e){return lE(n.databaseId,e)}function kI(n){const e=DI(n);return e.length===4?Ge.emptyPath():VI(e)}function Xy(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VI(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function jT(n,e,t){return{name:fh(n,e),fields:t.value.mapValue.fields}}function MI(n,e,t){const r=Ci(n,e.name),a=Gt(e.updateTime),l=e.createTime?Gt(e.createTime):Ie.min(),u=new vn({mapValue:{fields:e.fields}}),h=St.newFoundDocument(r,a,l,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function XV(n,e){return"found"in e?(function(r,a){we(!!a.found,43571),a.found.name,a.found.updateTime;const l=Ci(r,a.found.name),u=Gt(a.found.updateTime),h=a.found.createTime?Gt(a.found.createTime):Ie.min(),f=new vn({mapValue:{fields:a.found.fields}});return St.newFoundDocument(l,u,h,f)})(n,e):"missing"in e?(function(r,a){we(!!a.missing,3894),we(!!a.readTime,22933);const l=Ci(r,a.missing),u=Gt(a.readTime);return St.newNoDocument(l,u)})(n,e):ve(7234,{result:e})}function WV(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ve(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(we(y===void 0||typeof y=="string",58123),Ut.fromBase64String(y||"")):(we(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ut.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const y=m.code===void 0?Z.UNKNOWN:SI(m.code);return new oe(y,m.message||"")})(u);t=new RI(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ci(n,r.document.name),l=Gt(r.document.updateTime),u=r.document.createTime?Gt(r.document.createTime):Ie.min(),h=new vn({mapValue:{fields:r.document.fields}}),f=St.newFoundDocument(a,l,u,h),m=r.targetIds||[],y=r.removedTargetIds||[];t=new jd(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Ci(n,r.document),l=r.readTime?Gt(r.readTime):Ie.min(),u=St.newNoDocument(a,l),h=r.removedTargetIds||[];t=new jd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Ci(n,r.document),l=r.removedTargetIds||[];t=new jd([],l,a,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new FV(a,l),h=r.targetId;t=new NI(h,u)}}return t}function dh(n,e){let t;if(e instanceof fu)t={update:jT(n,e.key,e.value)};else if(e instanceof du)t={delete:fh(n,e.key)};else if(e instanceof cs)t={update:jT(n,e.key,e.data),updateMask:rM(e.fieldMask)};else{if(!(e instanceof nE))return ve(16599,{dt:e.type});t={verify:fh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const h=u.transform;if(h instanceof Jo)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ml)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Zo)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw ve(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:$V(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ve(27497)})(n,e.precondition)),t}function Wy(n,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?Dt.updateTime(Gt(l.updateTime)):l.exists!==void 0?Dt.exists(l.exists):Dt.none()})(e.currentDocument):Dt.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(u,h){let f=null;if("setToServerValue"in h)we(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new Jo;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];f=new ml(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];f=new pl(y)}else"increment"in h?f=new Zo(u,h.increment):ve(16584,{proto:h});const m=Ct.fromServerFormat(h.fieldPath);return new Rh(m,f)})(n,a))):[];if(e.update){e.update.name;const a=Ci(n,e.update.name),l=new vn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(f){const m=f.fieldPaths||[];return new Jn(m.map((y=>Ct.fromServerFormat(y))))})(e.updateMask);return new cs(a,l,u,t,r)}return new fu(a,l,t,r)}if(e.delete){const a=Ci(n,e.delete);return new du(a,t)}if(e.verify){const a=Ci(n,e.verify);return new nE(a,t)}return ve(1463,{proto:e})}function JV(n,e){return n&&n.length>0?(we(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?Gt(a.updateTime):Gt(l);return u.isEqual(Ie.min())&&(u=Gt(l)),new UV(u,a.transformResults||[])})(t,e)))):[]}function PI(n,e){return{documents:[OI(n,e.path)]}}function LI(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=OI(n,a);const l=(function(m){if(m.length!==0)return BI(ht.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((y=>(function(v){return{field:Io(v.field),direction:eM(v.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Qy(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function jI(n){let e=kI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){we(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(_){const v=UI(_);return v instanceof ht&&J_(v)?v.getFilters():[v]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((v=>(function(D){return new hh(No(D.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(v)))})(t.orderBy));let h=null;t.limit&&(h=(function(_){let v;return v=typeof _=="object"?_.value:_,wh(v)?null:v})(t.limit));let f=null;t.startAt&&(f=(function(_){const v=!!_.before,b=_.values||[];return new ha(b,v)})(t.startAt));let m=null;return t.endAt&&(m=(function(_){const v=!_.before,b=_.values||[];return new ha(b,v)})(t.endAt)),cI(e,a,u,l,h,"F",f,m)}function ZV(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function UI(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=No(t.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=No(t.unaryFilter.field);return Qe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(t.unaryFilter.field);return Qe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=No(t.unaryFilter.field);return Qe.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Qe.create(No(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ht.create(t.compositeFilter.filters.map((r=>UI(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(t.compositeFilter.op))})(n):ve(30097,{filter:n})}function eM(n){return GV[n]}function tM(n){return YV[n]}function nM(n){return KV[n]}function Io(n){return{fieldPath:n.canonicalString()}}function No(n){return Ct.fromServerFormat(n.fieldPath)}function BI(n){return n instanceof Qe?(function(t){if(t.op==="=="){if(bT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(vT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(vT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:tM(t.op),value:t.value}}})(n):n instanceof ht?(function(t){const r=t.getFilters().map((a=>BI(a)));return r.length===1?r[0]:{compositeFilter:{op:nM(t.op),filters:r}}})(n):ve(54877,{filter:n})}function rM(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function zI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function FI(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t,r,a,l=Ie.min(),u=Ie.min(),h=Ut.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.yt=e}}function iM(n,e){let t;if(e.document)t=MI(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ye.fromSegments(e.noDocument.path),a=yl(e.noDocument.readTime);t=St.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ve(56709);{const r=ye.fromSegments(e.unknownDocument.path),a=yl(e.unknownDocument.version);t=St.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime((function(a){const l=new lt(a[0],a[1]);return Ie.fromTimestamp(l)})(e.readTime)),t}function UT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:em(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(l,u){return{name:fh(l,u.key),fields:u.data.value.mapValue.fields,updateTime:eu(l,u.version.toTimestamp()),createTime:eu(l,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:gl(e.version)};else{if(!e.isUnknownDocument())return ve(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:gl(e.version)}}return r}function em(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function gl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yl(n){const e=new lt(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function nl(n,e){const t=(e.baseMutations||[]).map((l=>Wy(n.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const u=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const h=e.mutations[l+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const r=e.mutations.map((l=>Wy(n.yt,l))),a=lt.fromMillis(e.localWriteTimeMs);return new rE(e.batchId,a,t,r)}function Lc(n){const e=yl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?yl(n.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return we(u===1,1966,{count:u}),jn(hu(kI(l.documents[0])))})(n.query):(function(l){return jn(jI(l))})(n.query),new ts(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ut.fromBase64String(n.resumeToken))}function HI(n,e){const t=gl(e.snapshotVersion),r=gl(e.lastLimboFreeSnapshotVersion);let a;a=Wd(e.target)?PI(n.yt,e.target):LI(n.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dl(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function oE(n){const e=jI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zd(e,e.limit,"L"):e}function ay(n,e){return new sE(e.largestBatchId,Wy(n.yt,e.overlayMutation))}function BT(n,e){const t=e.path.lastSegment();return[n,Cn(e.path.popLast()),t]}function zT(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:gl(r.readTime),documentKey:Cn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{getBundleMetadata(e,t){return FT(e).get(t).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:yl(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(e,t){return FT(e).put((function(a){return{bundleId:a.id,createTime:gl(Gt(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return qT(e).get(t).next((r=>{if(r)return(function(l){return{name:l.name,query:oE(l.bundledQuery),readTime:yl(l.readTime)}})(r)}))}saveNamedQuery(e,t){return qT(e).put((function(a){return{name:a.name,readTime:gl(Gt(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function FT(n){return ln(n,xm)}function qT(n){return ln(n,vm)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new Nm(e,r)}getOverlay(e,t){return Tc(e).get(BT(this.userId,t)).next((r=>r?ay(this.serializer,r):null))}getOverlays(e,t){const r=Ni();return G.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){const a=[];return r.forEach(((l,u)=>{const h=new sE(t,u);a.push(this.bt(e,h))})),G.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach((u=>a.add(Cn(u.getCollectionPath()))));const l=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);l.push(Tc(e).X(Uy,h))})),G.waitFor(l)}getOverlaysForCollection(e,t,r){const a=Ni(),l=Cn(t),u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Tc(e).H(Uy,u).next((h=>{for(const f of h){const m=ay(this.serializer,f);a.set(m.getKey(),m)}return a}))}getOverlaysForCollectionGroup(e,t,r,a){const l=Ni();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tc(e).ee({index:F1,range:h},((f,m,y)=>{const _=ay(this.serializer,m);l.size()<a||_.largestBatchId===u?(l.set(_.getKey(),_),u=_.largestBatchId):y.done()})).next((()=>l))}bt(e,t){return Tc(e).put((function(a,l,u){const[h,f,m]=BT(l,u.mutation.key);return{userId:l,collectionPath:f,documentId:m,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:dh(a.yt,u.mutation)}})(this.serializer,this.userId,t))}}function Tc(n){return ln(n,bm)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{St(e){return ln(e,Q_)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t==null?void 0:t.value;return r?Ut.fromUint8Array(r):Ut.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Rt(e.integerValue));else if("doubleValue"in e){const r=Rt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),ih(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=as(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ls(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?eI(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Am(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):ve(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const a of Object.keys(r))this.Ot(a,t),this.Ct(r[a],t)}kt(e,t){var u,h;const r=e.fields||{};this.Ft(t,53);const a=$o,l=((h=(u=r[a].arrayValue)==null?void 0:u.values)==null?void 0:h.length)||0;this.Ft(t,15),t.Mt(Rt(l)),this.Ot(a,t),this.Ct(r[a],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const a of r)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),ye.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}rl.Wt=new rl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=255;function lM(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function HT(n){const e=64-(function(r){let a=0;for(let l=0;l<8;++l){const u=lM(255&r[l]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(e/8)}class oM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const a=t.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(e){const t=this.en(e),r=HT(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),r=HT(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(Eo),this.sn(255)}_n(){this.an(Eo),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Eo?(this.sn(Eo),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Eo?(this.an(Eo),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class uM{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class cM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class wc{constructor(){this.cn=new oM,this.ascending=new uM(this.cn),this.descending=new cM(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t,r,a){this.hn=e,this.Pn=t,this.Tn=r,this.In=a}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new il(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:Ud(this.Tn),directionalValue:Ud(this.In),orderedDocumentKey:Ud(t),documentKey:r.path.toArray()}}An(e,t,r){const a=this.Rn(e,t,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ks(n,e){let t=n.hn-e.hn;return t!==0?t:(t=GT(n.Tn,e.Tn),t!==0?t:(t=GT(n.In,e.In),t!==0?t:ye.comparator(n.Pn,e.Pn)))}function GT(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Ud(n){return r1()?(function(t){let r="";for(let a=0;a<t.length;a++)r+=String.fromCharCode(t[a]);return r})(n):n}function YT(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(n)}class KT{constructor(e){this.Vn=new ft(((t,r)=>Ct.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(we(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=Py(e);if(t!==void 0&&!this.pn(t))return!1;const r=Ja(e);let a=new Set,l=0,u=0;for(;l<r.length&&this.pn(r[l]);++l)a=a.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const f=r[l];if(!this.yn(h,f)||!this.wn(this.dn[u++],f))return!1}++l}for(;l<r.length;++l){const h=r[l];if(u>=this.dn.length||!this.wn(this.dn[u++],h))return!1}return!0}bn(){if(this.fn)return null;let e=new ft(Ct.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Dd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Dd(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Dd(r.field,r.dir==="asc"?0:1)));return new Kd(Kd.UNKNOWN_ID,this.collectionId,t,rh.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(n){var t,r;if(we(n instanceof Qe||n instanceof ht,20012),n instanceof Qe){if(n instanceof uI){const a=((r=(t=n.value.arrayValue)==null?void 0:t.values)==null?void 0:r.map((l=>Qe.create(n.field,"==",l))))||[];return ht.create(a,"or")}return n}const e=n.filters.map((a=>GI(a)));return ht.create(e,n.op)}function hM(n){if(n.getFilters().length===0)return[];const e=e_(GI(n));return we(YI(e),7391),Jy(e)||Zy(e)?[e]:e.getFilters()}function Jy(n){return n instanceof Qe}function Zy(n){return n instanceof ht&&J_(n)}function YI(n){return Jy(n)||Zy(n)||(function(t){if(t instanceof ht&&Hy(t)){for(const r of t.getFilters())if(!Jy(r)&&!Zy(r))return!1;return!0}return!1})(n)}function e_(n){if(we(n instanceof Qe||n instanceof ht,34018),n instanceof Qe)return n;if(n.filters.length===1)return e_(n.filters[0]);const e=n.filters.map((r=>e_(r)));let t=ht.create(e,n.op);return t=tm(t),YI(t)?t:(we(t instanceof ht,64498),we(Wo(t),40251),we(t.filters.length>1,57927),t.filters.reduce(((r,a)=>uE(r,a))))}function uE(n,e){let t;return we(n instanceof Qe||n instanceof ht,38388),we(e instanceof Qe||e instanceof ht,25473),t=n instanceof Qe?e instanceof Qe?(function(a,l){return ht.create([a,l],"and")})(n,e):QT(n,e):e instanceof Qe?QT(e,n):(function(a,l){if(we(a.filters.length>0&&l.filters.length>0,48005),Wo(a)&&Wo(l))return aI(a,l.getFilters());const u=Hy(a)?a:l,h=Hy(a)?l:a,f=u.filters.map((m=>uE(m,h)));return ht.create(f,"or")})(n,e),tm(t)}function QT(n,e){if(Wo(e))return aI(e,n.getFilters());{const t=e.filters.map((r=>uE(n,r)));return ht.create(t,"or")}}function tm(n){if(we(n instanceof Qe||n instanceof ht,11850),n instanceof Qe)return n;const e=n.getFilters();if(e.length===1)return tm(e[0]);if(iI(n))return n;const t=e.map((a=>tm(a))),r=[];return t.forEach((a=>{a instanceof Qe?r.push(a):a instanceof ht&&(a.op===n.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:ht.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.Sn=new cE}addToCollectionParentIndex(e,t){return this.Sn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(pr.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class cE{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new ft(Ge.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ft(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="IndexedDbIndexManager",pd=new Uint8Array(0);class dM{constructor(e,t){this.databaseId=t,this.Dn=new cE,this.Cn=new us((r=>dl(r)),((r,a)=>Sh(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const l={collectionId:r,parent:Cn(a)};return XT(e).put(l)}return G.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[I1(t),""],!1,!0);return XT(e).H(a).next((l=>{for(const u of l){if(u.collectionId!==t)break;r.push(Ii(u.parent))}return r}))}addFieldIndex(e,t){const r=Ac(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete a.indexId;const l=r.add(a);if(t.indexState){const u=vo(e);return l.next((h=>{u.put(zT(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const r=Ac(e),a=vo(e),l=xo(e);return r.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Ac(e),r=xo(e),a=vo(e);return t.X().next((()=>r.X())).next((()=>a.X()))}createTargetIndexes(e,t){return G.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const l=new KT(r).bn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const r=xo(e);let a=!0;const l=new Map;return G.forEach(this.vn(t),(u=>this.Fn(e,u).next((h=>{a&&(a=!!h),l.set(u,h)})))).next((()=>{if(a){let u=je();const h=[];return G.forEach(l,((f,m)=>{ue($T,`Using index ${(function(q){return`id=${q.indexId}|cg=${q.collectionGroup}|f=${q.fields.map((he=>`${he.fieldPath}:${he.kind}`)).join(",")}`})(f)} to execute ${dl(t)}`);const y=(function(q,he){const fe=Py(he);if(fe===void 0)return null;for(const K of Jd(q,fe.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null})(m,f),_=(function(q,he){const fe=new Map;for(const K of Ja(he))for(const S of Jd(q,K.fieldPath))switch(S.op){case"==":case"in":fe.set(K.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return fe.set(K.fieldPath.canonicalString(),S.value),Array.from(fe.values())}return null})(m,f),v=(function(q,he){const fe=[];let K=!0;for(const S of Ja(he)){const N=S.kind===0?IT(q,S.fieldPath,q.startAt):NT(q,S.fieldPath,q.startAt);fe.push(N.value),K&&(K=N.inclusive)}return new ha(fe,K)})(m,f),b=(function(q,he){const fe=[];let K=!0;for(const S of Ja(he)){const N=S.kind===0?NT(q,S.fieldPath,q.endAt):IT(q,S.fieldPath,q.endAt);fe.push(N.value),K&&(K=N.inclusive)}return new ha(fe,K)})(m,f),D=this.Mn(f,m,v),M=this.Mn(f,m,b),O=this.xn(f,m,_),B=this.On(f.indexId,y,D,v.inclusive,M,b.inclusive,O);return G.forEach(B,(J=>r.Z(J,t.limit).next((q=>{q.forEach((he=>{const fe=ye.fromSegments(he.documentKey);u.has(fe)||(u=u.add(fe),h.push(fe))}))}))))})).next((()=>h))}return G.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=hM(ht.create(e.filters,"and")).map((r=>Yy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,a,l,u,h){const f=(t!=null?t.length:1)*Math.max(r.length,l.length),m=f/(t!=null?t.length:1),y=[];for(let _=0;_<f;++_){const v=t?this.Nn(t[_/m]):pd,b=this.Bn(e,v,r[_%m],a),D=this.Ln(e,v,l[_%m],u),M=h.map((O=>this.Bn(e,v,O,!0)));y.push(...this.createRange(b,D,M))}return y}Bn(e,t,r,a){const l=new il(e,ye.empty(),t,r);return a?l:l.En()}Ln(e,t,r,a){const l=new il(e,ye.empty(),t,r);return a?l.En():l}Fn(e,t){const r=new KT(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((l=>{let u=null;for(const h of l)r.gn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,t){let r=2;const a=this.vn(t);return G.forEach(a,(l=>this.Fn(e,l).next((u=>{u?r!==0&&u.fields.length<(function(f){let m=new ft(Ct.comparator),y=!1;for(const _ of f.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?y=!0:m=m.add(v.field));for(const _ of f.orderBy)_.field.isKeyField()||(m=m.add(_.field));return m.size+(y?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(u){return u.limit!==null})(t)&&a.length>1&&r===2?1:r))}kn(e,t){const r=new wc;for(const a of Ja(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const u=r.ln(a.kind);rl.Wt.Dt(l,u)}return r.un()}Nn(e){const t=new wc;return rl.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new wc;return rl.Wt.Dt(fl(this.databaseId,t),r.ln((function(l){const u=Ja(l);return u.length===0?0:u[u.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let a=[];a.push(new wc);let l=0;for(const u of Ja(e)){const h=r[l++];for(const f of a)if(this.qn(t,u.fieldPath)&&ch(h))a=this.Un(a,u,h);else{const m=f.ln(u.kind);rl.Wt.Dt(h,m)}}return this.$n(a)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const a=[...e],l=[];for(const u of r.arrayValue.values||[])for(const h of a){const f=new wc;f.seed(h.un()),rl.Wt.Dt(u,f.ln(t.kind)),l.push(f)}return l}qn(e,t){return!!e.filters.find((r=>r instanceof Qe&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Ac(e),a=vo(e);return(t?r.H(jy,IDBKeyRange.bound(t,t)):r.H()).next((l=>{const u=[];return G.forEach(l,(h=>a.get([h.indexId,this.uid]).next((f=>{u.push((function(y,_){const v=_?new rh(_.sequenceNumber,new pr(yl(_.readTime),new ye(Ii(_.documentKey)),_.largestBatchId)):rh.empty(),b=y.fields.map((([D,M])=>new Dd(Ct.fromServerFormat(D),M)));return new Kd(y.indexId,y.collectionGroup,b,v)})(h,f))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,a)=>{const l=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:ke(r.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const a=Ac(e),l=vo(e);return this.Wn(e).next((u=>a.H(jy,IDBKeyRange.bound(t,t)).next((h=>G.forEach(h,(f=>l.put(zT(f.indexId,this.uid,u,r))))))))}updateIndexEntries(e,t){const r=new Map;return G.forEach(t,((a,l)=>{const u=r.get(a.collectionGroup);return(u?G.resolve(u):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(r.set(a.collectionGroup,h),G.forEach(h,(f=>this.Qn(e,a,f).next((m=>{const y=this.Gn(l,f);return m.isEqual(y)?G.resolve():this.zn(e,l,f,m,y)})))))))}))}jn(e,t,r,a){return xo(e).put(a.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,a){return xo(e).delete(a.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const a=xo(e);let l=new ft(Ks);return a.ee({index:z1,range:IDBKeyRange.only([r.indexId,this.uid,Ud(this.Kn(r,t))])},((u,h)=>{l=l.add(new il(r.indexId,t,YT(h.arrayValue),YT(h.directionalValue)))})).next((()=>l))}Gn(e,t){let r=new ft(Ks);const a=this.kn(t,e);if(a==null)return r;const l=Py(t);if(l!=null){const u=e.data.field(l.fieldPath);if(ch(u))for(const h of u.arrayValue.values||[])r=r.add(new il(t.indexId,e.key,this.Nn(h),a))}else r=r.add(new il(t.indexId,e.key,pd,a));return r}zn(e,t,r,a,l){ue($T,"Updating index entries for document '%s'",t.key);const u=[];return(function(f,m,y,_,v){const b=f.getIterator(),D=m.getIterator();let M=_o(b),O=_o(D);for(;M||O;){let B=!1,J=!1;if(M&&O){const q=y(M,O);q<0?J=!0:q>0&&(B=!0)}else M!=null?J=!0:B=!0;B?(_(O),O=_o(D)):J?(v(M),M=_o(b)):(M=_o(b),O=_o(D))}})(a,l,Ks,(h=>{u.push(this.jn(e,t,r,h))}),(h=>{u.push(this.Hn(e,t,r,h))})),G.waitFor(u)}Wn(e){let t=1;return vo(e).ee({index:B1,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,l)=>{l.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((u,h)=>Ks(u,h))).filter(((u,h,f)=>!h||Ks(u,f[h-1])!==0));const a=[];a.push(e);for(const u of r){const h=Ks(u,e),f=Ks(u,t);if(h===0)a[0]=e.En();else if(h>0&&f<0)a.push(u),a.push(u.En());else if(f>0)break}a.push(t);const l=[];for(let u=0;u<a.length;u+=2){if(this.Jn(a[u],a[u+1]))return[];const h=a[u].An(this.uid,pd,ye.empty()),f=a[u+1].An(this.uid,pd,ye.empty());l.push(IDBKeyRange.bound(h,f))}return l}Jn(e,t){return Ks(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(WT)}getMinOffset(e,t){return G.mapArray(this.vn(t),(r=>this.Fn(e,r).next((a=>a||ve(44426))))).next(WT)}}function XT(n){return ln(n,lh)}function xo(n){return ln(n,Hc)}function Ac(n){return ln(n,K_)}function vo(n){return ln(n,qc)}function WT(n){we(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const a=n[r].indexState.offset;H_(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new pr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KI=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n,e,t){const r=n.store($r),a=n.store(Go),l=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=r.ee({range:u},((y,_,v)=>(h++,v.delete())));l.push(f.next((()=>{we(h===1,47070,{batchId:t.batchId})})));const m=[];for(const y of t.mutations){const _=L1(e,y.key.path,t.batchId);l.push(a.delete(_)),m.push(y.key)}return G.waitFor(l).next((()=>m))}function nm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ve(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(KI,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class Rm{constructor(e,t,r,a){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=a,this.Zn={}}static wt(e,t,r,a){we(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new Rm(l,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qs(e).ee({index:ll,range:r},((a,l,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,r,a){const l=Ro(e),u=Qs(e);return u.add({}).next((h=>{we(typeof h=="number",49019);const f=new rE(h,t,r,a),m=(function(b,D,M){const O=M.baseMutations.map((J=>dh(b.yt,J))),B=M.mutations.map((J=>dh(b.yt,J)));return{userId:D,batchId:M.batchId,localWriteTimeMs:M.localWriteTime.toMillis(),baseMutations:O,mutations:B}})(this.serializer,this.userId,f),y=[];let _=new ft(((v,b)=>ke(v.canonicalString(),b.canonicalString())));for(const v of a){const b=L1(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),y.push(u.put(m)),y.push(l.put(b,F4))}return _.forEach((v=>{y.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Zn[h]=f.keys()})),G.waitFor(y).next((()=>f))}))}lookupMutationBatch(e,t){return Qs(e).get(t).next((r=>r?(we(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),nl(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?G.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const a=r.keys();return this.Zn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Qs(e).ee({index:ll,range:a},((u,h,f)=>{h.userId===this.userId&&(we(h.batchId>=r,47524,{Yn:r}),l=nl(this.serializer,h)),f.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ra;return Qs(e).ee({index:ll,range:t,reverse:!0},((a,l,u)=>{r=l.batchId,u.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ra],[this.userId,Number.POSITIVE_INFINITY]);return Qs(e).H(ll,t).next((r=>r.map((a=>nl(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Od(this.userId,t.path),a=IDBKeyRange.lowerBound(r),l=[];return Ro(e).ee({range:a},((u,h,f)=>{const[m,y,_]=u,v=Ii(y);if(m===this.userId&&t.path.isEqual(v))return Qs(e).get(_).next((b=>{if(!b)throw ve(61480,{er:u,batchId:_});we(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:_}),l.push(nl(this.serializer,b))}));f.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ft(ke);const a=[];return t.forEach((l=>{const u=Od(this.userId,l.path),h=IDBKeyRange.lowerBound(u),f=Ro(e).ee({range:h},((m,y,_)=>{const[v,b,D]=m,M=Ii(b);v===this.userId&&l.path.isEqual(M)?r=r.add(D):_.done()}));a.push(f)})),G.waitFor(a).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,l=Od(this.userId,r),u=IDBKeyRange.lowerBound(l);let h=new ft(ke);return Ro(e).ee({range:u},((f,m,y)=>{const[_,v,b]=f,D=Ii(v);_===this.userId&&r.isPrefixOf(D)?D.length===a&&(h=h.add(b)):y.done()})).next((()=>this.tr(e,h)))}tr(e,t){const r=[],a=[];return t.forEach((l=>{a.push(Qs(e).get(l).next((u=>{if(u===null)throw ve(35274,{batchId:l});we(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),r.push(nl(this.serializer,u))})))})),G.waitFor(a).next((()=>r))}removeMutationBatch(e,t){return QI(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),G.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return G.resolve();const r=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return Ro(e).ee({range:r},((l,u,h)=>{if(l[0]===this.userId){const f=Ii(l[1]);a.push(f)}else h.done()})).next((()=>{we(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return $I(e,this.userId,t)}ir(e){return XI(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:ra,lastStreamToken:""}))}}function $I(n,e,t){const r=Od(e,t.path),a=r[1],l=IDBKeyRange.lowerBound(r);let u=!1;return Ro(n).ee({range:l,Y:!0},((h,f,m)=>{const[y,_,v]=h;y===e&&_===a&&(u=!0),m.done()})).next((()=>u))}function Qs(n){return ln(n,$r)}function Ro(n){return ln(n,Go)}function XI(n){return ln(n,sh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _l(0)}static ar(){return new _l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new _l(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Ie.fromTimestamp(new lt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.cr(e,a))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>bo(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(we(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let a=0;const l=[];return bo(e).ee(((u,h)=>{const f=Lc(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(a++,l.push(this.removeTargetData(e,f)))})).next((()=>G.waitFor(l))).next((()=>a))}forEachTarget(e,t){return bo(e).ee(((r,a)=>{const l=Lc(a);t(l)}))}ur(e){return ZT(e).get(Xd).next((t=>(we(t!==null,2888),t)))}cr(e,t){return ZT(e).put(Xd,t)}lr(e,t){return bo(e).put(HI(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=dl(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return bo(e).ee({range:a,index:U1},((u,h,f)=>{const m=Lc(h);Sh(t,m.target)&&(l=m,f.done())})).next((()=>l))}addMatchingKeys(e,t,r){const a=[],l=Js(e);return t.forEach((u=>{const h=Cn(u.path);a.push(l.put({targetId:r,path:h})),a.push(this.referenceDelegate.addReference(e,r,u))})),G.waitFor(a)}removeMatchingKeys(e,t,r){const a=Js(e);return G.forEach(t,(l=>{const u=Cn(l.path);return G.waitFor([a.delete([r,u]),this.referenceDelegate.removeReference(e,r,l)])}))}removeMatchingKeysForTargetId(e,t){const r=Js(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Js(e);let l=je();return a.ee({range:r,Y:!0},((u,h,f)=>{const m=Ii(u[1]),y=new ye(m);l=l.add(y)})).next((()=>l))}containsKey(e,t){const r=Cn(t.path),a=IDBKeyRange.bound([r],[I1(r)],!1,!0);let l=0;return Js(e).ee({index:Y_,Y:!0,range:a},(([u,h],f,m)=>{u!==0&&(l++,m.done())})).next((()=>l>0))}At(e,t){return bo(e).get(t).next((r=>r?Lc(r):null))}}function bo(n){return ln(n,Yo)}function ZT(n){return ln(n,cl)}function Js(n){return ln(n,Ko)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="LruGarbageCollector",pM=1048576;function tw([n,e],[t,r]){const a=ke(n,t);return a===0?ke(e,r):a}class gM{constructor(e){this.Pr=e,this.buffer=new ft(tw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();tw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(ew,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ga(t)?ue(ew,"Ignoring IndexedDB error during garbage collection: ",t):await pa(t)}await this.Ar(3e5)}))}}class yM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Wn.ce);const r=new gM(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(JT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JT):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,l,u,h,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,t)))).next((_=>(l=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(m=Date.now(),Ao()<=We.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function JI(n,e){return new yM(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,t){this.db=e,this.garbageCollector=JI(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,a)=>t(a)))}addReference(e,t,r){return gd(e,r)}removeReference(e,t,r){return gd(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return gd(e,t)}wr(e,t){return(function(a,l){let u=!1;return XI(a).te((h=>$I(a,h,l).next((f=>(f&&(u=!0),G.resolve(!f)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(e,((u,h)=>{if(h<=t){const f=this.wr(e,u).next((m=>{if(!m)return l++,r.getEntry(e,u).next((()=>(r.removeEntry(u,Ie.min()),Js(e).delete((function(_){return[0,Cn(_.path)]})(u)))))}));a.push(f)}})).next((()=>G.waitFor(a))).next((()=>r.apply(e))).next((()=>l))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return gd(e,t)}yr(e,t){const r=Js(e);let a,l=Wn.ce;return r.ee({index:Y_},(([u,h],{path:f,sequenceNumber:m})=>{u===0?(l!==Wn.ce&&t(new ye(Ii(a)),l),l=m,a=f):l=Wn.ce})).next((()=>{l!==Wn.ce&&t(new ye(Ii(a)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gd(n,e){return Js(n).put((function(r,a){return{targetId:0,path:Cn(r.path),sequenceNumber:a}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.changes=new us((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Xa(e).put(r)}removeEntry(e,t,r){return Xa(e).delete((function(l,u){const h=l.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],em(u),h[h.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=St.newInvalidDocument(t);return Xa(e).ee({index:kd,range:IDBKeyRange.only(Sc(t))},((a,l)=>{r=this.Sr(t,l)})).next((()=>r))}Dr(e,t){let r={size:0,document:St.newInvalidDocument(t)};return Xa(e).ee({index:kd,range:IDBKeyRange.only(Sc(t))},((a,l)=>{r={document:this.Sr(t,l),size:nm(l)}})).next((()=>r))}getEntries(e,t){let r=Zn();return this.Cr(e,t,((a,l)=>{const u=this.Sr(a,l);r=r.insert(a,u)})).next((()=>r))}vr(e,t){let r=Zn(),a=new bt(ye.comparator);return this.Cr(e,t,((l,u)=>{const h=this.Sr(l,u);r=r.insert(l,h),a=a.insert(l,nm(u))})).next((()=>({documents:r,Fr:a})))}Cr(e,t,r){if(t.isEmpty())return G.resolve();let a=new ft(iw);t.forEach((f=>a=a.add(f)));const l=IDBKeyRange.bound(Sc(a.first()),Sc(a.last())),u=a.getIterator();let h=u.getNext();return Xa(e).ee({index:kd,range:l},((f,m,y)=>{const _=ye.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;h&&iw(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,m),h=u.hasNext()?u.getNext():null),h?y.j(Sc(h)):y.done()})).next((()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,r,a,l){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),em(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xa(e).H(IDBKeyRange.bound(h,f,!0)).next((m=>{l==null||l.incrementDocumentReadCount(m.length);let y=Zn();for(const _ of m){const v=this.Sr(ye.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Nh(t,v)||a.has(v.key))&&(y=y.insert(v.key,v))}return y}))}getAllFromCollectionGroup(e,t,r,a){let l=Zn();const u=rw(t,r),h=rw(t,pr.max());return Xa(e).ee({index:j1,range:IDBKeyRange.bound(u,h,!0)},((f,m,y)=>{const _=this.Sr(ye.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);l=l.insert(_.key,_),l.size===a&&y.done()})).next((()=>l))}newChangeBuffer(e){return new xM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return nw(e).get(Ly).next((t=>(we(!!t,20021),t)))}br(e,t){return nw(e).put(Ly,t)}Sr(e,t){if(t){const r=iM(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return St.newInvalidDocument(e)}}function eN(n){return new EM(n)}class xM extends ZI{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new us((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const t=[];let r=0,a=new ft(((l,u)=>ke(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const h=this.Or.get(l);if(t.push(this.Mr.removeEntry(e,l,h.readTime)),u.isValidDocument()){const f=UT(this.Mr.serializer,u);a=a.add(l.path.popLast());const m=nm(f);r+=m-h.size,t.push(this.Mr.addEntry(e,l,f))}else if(r-=h.size,this.trackRemovals){const f=UT(this.Mr.serializer,u.convertToNoDocument(Ie.min()));t.push(this.Mr.addEntry(e,l,f))}})),a.forEach((l=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Mr.updateMetadata(e,r)),G.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:a})=>(a.forEach(((l,u)=>{this.Or.set(l,{size:u,readTime:r.get(l).readTime})})),r)))}}function nw(n){return ln(n,ah)}function Xa(n){return ln(n,$d)}function Sc(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rw(n,e){const t=e.documentKey.path.toArray();return[n,em(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function iw(n,e){const t=n.path.toArray(),r=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(a=ke(t[l],r[l]),a)return a;return a=ke(t.length,r.length),a||(a=ke(t[t.length-2],r[r.length-2]),a||ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Kc(r.mutation,a,Jn.empty(),lt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const a=Ni();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let u=Mc();return l.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Ni();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,a){let l=Zn();const u=Yc(),h=(function(){return Yc()})();return t.forEach(((f,m)=>{const y=r.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof cs)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Kc(y.mutation,m,y.mutation.getFieldMask(),lt.now())):u.set(m.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>h.set(m,new vM(y,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Yc();let a=new bt(((u,h)=>u-h)),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||Jn.empty();y=h.applyToLocalView(m,y),r.set(f,y);const _=(a.get(h.batchId)||je()).add(f);a=a.insert(h.batchId,_)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,_=gI();y.forEach((v=>{if(!l.has(v)){const b=TI(t.get(v),r.get(v));b!==null&&_.set(v,b),l=l.add(v)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,_))}return G.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return SV(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Z_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):G.resolve(Ni());let h=Ho,f=l;return u.next((m=>G.forEach(m,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?G.resolve():this.remoteDocumentCache.getEntry(e,y).next((v=>{f=f.insert(y,v)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,f,m,je()))).next((y=>({batchId:h,changes:pI(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((r=>{let a=Mc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let u=Mc();return this.indexManager.getCollectionParents(e,l).next((h=>G.forEach(h,(f=>{const m=(function(_,v){return new os(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((y=>{y.forEach(((_,v)=>{u=u.insert(_,v)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((u=>{l.forEach(((f,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,St.newInvalidDocument(y)))}));let h=Mc();return u.forEach(((f,m)=>{const y=l.get(f);y!==void 0&&Kc(y.mutation,m,Jn.empty(),lt.now()),Nh(t,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return G.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Gt(a.createTime)}})(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:oE(a.bundledQuery),readTime:Gt(a.readTime)}})(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.overlays=new bt(ye.comparator),this.Lr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ni();return G.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.bt(e,t,l)})),G.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const a=Ni(),l=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&f.largestBatchId>r&&a.set(f.getKey(),f)}return G.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new bt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=l.get(m.largestBatchId);y===null&&(y=Ni(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Ni(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return G.resolve(h)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new sE(t,r));let l=this.Lr.get(t);l===void 0&&(l=je(),this.Lr.set(t,l)),this.Lr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.kr=new ft(fn.Kr),this.qr=new ft(fn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new fn(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new fn(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new ye(new Ge([])),r=new fn(t,e),a=new fn(t,e+1),l=[];return this.qr.forEachInRange([r,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ye(new Ge([])),r=new fn(t,e),a=new fn(t,e+1);let l=je();return this.qr.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new fn(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ye.comparator(e.key,t.key)||ke(e.Hr,t.Hr)}static Ur(e,t){return ke(e.Hr,t.Hr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new ft(fn.Kr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new rE(l,t,r,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new fn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return G.resolve(u)}lookupMutationBatch(e,t){return G.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),l=a<0?0:a;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?ra:this.Yn-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fn(t,0),a=new fn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(u=>{const h=this.Zr(u.Hr);l.push(h)})),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ft(ke);return t.forEach((a=>{const l=new fn(a,0),u=new fn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{r=r.add(h.Hr)}))})),G.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;ye.isDocumentKey(l)||(l=l.child(""));const u=new fn(new ye(l),0);let h=new ft(ke);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Hr)),!0)}),u),G.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){we(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return G.forEach(t.mutations,(a=>{const l=new fn(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new fn(t,0),a=this.Jr.firstAfterOrEqual(r);return G.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.ti=e,this.docs=(function(){return new bt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():St.newInvalidDocument(t))}getEntries(e,t){let r=Zn();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():St.newInvalidDocument(a))})),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Zn();const u=t.path,h=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||H_(O1(y),r)<=0||(a.has(y.key)||Nh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,r,a){ve(9500)}ni(e,t){return G.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new IM(this)}getSize(e){return G.resolve(this.size)}}class IM extends ZI{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),G.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.persistence=e,this.ri=new us((t=>dl(t)),Sh),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ii=0,this.si=new hE,this.targetCount=0,this.oi=_l._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),G.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new _l(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.lr(t),G.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),G.waitFor(l).next((()=>a))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,t){this._i={},this.overlays={},this.ai=new Wn(0),this.ui=!1,this.ui=!0,this.ci=new wM,this.referenceDelegate=e(this),this.li=new NM(this),this.indexManager=new fM,this.remoteDocumentCache=(function(a){return new SM(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new qI(t),this.Pi=new bM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new AM(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const a=new RM(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return G.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class RM extends V1{constructor(e){super(),this.currentSequenceNumber=e}}class Cm{constructor(e){this.persistence=e,this.Ri=new hE,this.Ai=null}static Vi(e){return new Cm(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),G.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.di,(r=>{const a=ye.fromPath(r);return this.mi(e,a).next((l=>{l||t.removeEntry(a,Ie.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return G.or([()=>G.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class rm{constructor(e,t){this.persistence=e,this.fi=new us((r=>Cn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=JI(this,t)}static Vi(e,t){return new rm(e,t)}Ti(){}Ii(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return G.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?G.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,t).next((h=>{h||(r++,l.removeEntry(u,Ie.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),G.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Md(e.data.value)),t}wr(e,t,r){return G.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return G.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.serializer=e}k(e,t,r,a){const l=new Em("createOrUpgrade",t);r<1&&a>=1&&((function(f){f.createObjectStore(Ah)})(e),(function(f){f.createObjectStore(sh,{keyPath:z4}),f.createObjectStore($r,{keyPath:pT,autoIncrement:!0}).createIndex(ll,gT,{unique:!0}),f.createObjectStore(Go)})(e),sw(e),(function(f){f.createObjectStore(Za)})(e));let u=G.resolve();return r<3&&a>=3&&(r!==0&&((function(f){f.deleteObjectStore(Ko),f.deleteObjectStore(Yo),f.deleteObjectStore(cl)})(e),sw(e)),u=u.next((()=>(function(f){const m=f.store(cl),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return m.put(Xd,y)})(l)))),r<4&&a>=4&&(r!==0&&(u=u.next((()=>(function(f,m){return m.store($r).H().next((_=>{f.deleteObjectStore($r),f.createObjectStore($r,{keyPath:pT,autoIncrement:!0}).createIndex(ll,gT,{unique:!0});const v=m.store($r),b=_.map((D=>v.put(D)));return G.waitFor(b)}))})(e,l)))),u=u.next((()=>{(function(f){f.createObjectStore(Qo,{keyPath:X4})})(e)}))),r<5&&a>=5&&(u=u.next((()=>this.gi(l)))),r<6&&a>=6&&(u=u.next((()=>((function(f){f.createObjectStore(ah)})(e),this.pi(l))))),r<7&&a>=7&&(u=u.next((()=>this.yi(l)))),r<8&&a>=8&&(u=u.next((()=>this.wi(e,l)))),r<9&&a>=9&&(u=u.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(u=u.next((()=>this.bi(l)))),r<11&&a>=11&&(u=u.next((()=>{(function(f){f.createObjectStore(xm,{keyPath:W4})})(e),(function(f){f.createObjectStore(vm,{keyPath:J4})})(e)}))),r<12&&a>=12&&(u=u.next((()=>{(function(f){const m=f.createObjectStore(bm,{keyPath:sV});m.createIndex(Uy,aV,{unique:!1}),m.createIndex(F1,lV,{unique:!1})})(e)}))),r<13&&a>=13&&(u=u.next((()=>(function(f){const m=f.createObjectStore($d,{keyPath:q4});m.createIndex(kd,H4),m.createIndex(j1,G4)})(e))).next((()=>this.Si(e,l))).next((()=>e.deleteObjectStore(Za)))),r<14&&a>=14&&(u=u.next((()=>this.Di(e,l)))),r<15&&a>=15&&(u=u.next((()=>(function(f){f.createObjectStore(K_,{keyPath:Z4,autoIncrement:!0}).createIndex(jy,eV,{unique:!1}),f.createObjectStore(qc,{keyPath:tV}).createIndex(B1,nV,{unique:!1}),f.createObjectStore(Hc,{keyPath:rV}).createIndex(z1,iV,{unique:!1})})(e)))),r<16&&a>=16&&(u=u.next((()=>{t.objectStore(qc).clear()})).next((()=>{t.objectStore(Hc).clear()}))),r<17&&a>=17&&(u=u.next((()=>{(function(f){f.createObjectStore(Q_,{keyPath:oV})})(e)}))),r<18&&a>=18&&r1()&&(u=u.next((()=>{t.objectStore(qc).clear()})).next((()=>{t.objectStore(Hc).clear()}))),u}pi(e){let t=0;return e.store(Za).ee(((r,a)=>{t+=nm(a)})).next((()=>{const r={byteSize:t};return e.store(ah).put(Ly,r)}))}gi(e){const t=e.store(sh),r=e.store($r);return t.H().next((a=>G.forEach(a,(l=>{const u=IDBKeyRange.bound([l.userId,ra],[l.userId,l.lastAcknowledgedBatchId]);return r.H(ll,u).next((h=>G.forEach(h,(f=>{we(f.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const m=nl(this.serializer,f);return QI(e,l.userId,m).next((()=>{}))}))))}))))}yi(e){const t=e.store(Ko),r=e.store(Za);return e.store(cl).get(Xd).next((a=>{const l=[];return r.ee(((u,h)=>{const f=new Ge(u),m=(function(_){return[0,Cn(_)]})(f);l.push(t.get(m).next((y=>y?G.resolve():(_=>t.put({targetId:0,path:Cn(_),sequenceNumber:a.highestListenSequenceNumber}))(f))))})).next((()=>G.waitFor(l)))}))}wi(e,t){e.createObjectStore(lh,{keyPath:$4});const r=t.store(lh),a=new cE,l=u=>{if(a.add(u)){const h=u.lastSegment(),f=u.popLast();return r.put({collectionId:h,parent:Cn(f)})}};return t.store(Za).ee({Y:!0},((u,h)=>{const f=new Ge(u);return l(f.popLast())})).next((()=>t.store(Go).ee({Y:!0},(([u,h,f],m)=>{const y=Ii(h);return l(y.popLast())}))))}bi(e){const t=e.store(Yo);return t.ee(((r,a)=>{const l=Lc(a),u=HI(this.serializer,l);return t.put(u)}))}Si(e,t){const r=t.store(Za),a=[];return r.ee(((l,u)=>{const h=t.store($d),f=(function(_){return _.document?new ye(Ge.fromString(_.document.name).popFirst(5)):_.noDocument?ye.fromSegments(_.noDocument.path):_.unknownDocument?ye.fromSegments(_.unknownDocument.path):ve(36783)})(u).path.toArray(),m={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(m))})).next((()=>G.waitFor(a)))}Di(e,t){const r=t.store($r),a=eN(this.serializer),l=new fE(Cm.Vi,this.serializer.yt);return r.H().next((u=>{const h=new Map;return u.forEach((f=>{let m=h.get(f.userId)??je();nl(this.serializer,f).keys().forEach((y=>m=m.add(y))),h.set(f.userId,m)})),G.forEach(h,((f,m)=>{const y=new dn(m),_=Nm.wt(this.serializer,y),v=l.getIndexManager(y),b=Rm.wt(y,this.serializer,v,l.referenceDelegate);return new tN(a,b,_,v).recalculateAndSaveOverlaysForDocumentKeys(new By(t,Wn.ce),f).next()}))}))}}function sw(n){n.createObjectStore(Ko,{keyPath:K4}).createIndex(Y_,Q4,{unique:!0}),n.createObjectStore(Yo,{keyPath:"targetId"}).createIndex(U1,Y4,{unique:!0}),n.createObjectStore(cl)}const $s="IndexedDbPersistence",ly=18e5,oy=5e3,uy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nN="main";class dE{constructor(e,t,r,a,l,u,h,f,m,y,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=l,this.window=u,this.document=h,this.Fi=m,this.Mi=y,this.xi=_,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=v=>Promise.resolve(),!dE.v())throw new oe(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _M(this,a),this.Ki=t+nN,this.serializer=new qI(f),this.qi=new Ri(this.Ki,this.xi,new CM(this.serializer)),this.ci=new aM,this.li=new mM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eN(this.serializer),this.Pi=new sM,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&Ht($s,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oe(Z.FAILED_PRECONDITION,uy);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new Wn(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>yd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(ga(e))return ue($s,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue($s,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Ic(e).get(yo).next((t=>G.resolve(this.Xi(t))))}Yi(e){return yd(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,ly)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=ln(t,Qo);return r.H().next((a=>{const l=this.ns(a,ly),u=a.filter((h=>l.indexOf(h)===-1));return G.forEach(u,(h=>r.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?G.resolve(!0):Ic(e).get(yo).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,oy)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new oe(Z.FAILED_PRECONDITION,uy);return!1}}return!(!this.networkEnabled||!this.inForeground)||yd(e).H().next((r=>this.ns(r,oy).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(l||u&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ue($s,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Ah,Qo],(e=>{const t=new By(e,Wn.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>yd(e).H().next((t=>this.ns(t,ly).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return Rm.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dM(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Nm.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){ue($s,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=(function(f){return f===18?hV:f===17?Y1:f===16?cV:f===15?$_:f===14?G1:f===13?H1:f===12?uV:f===11?q1:void ve(60245)})(this.xi);let u;return this.qi.runTransaction(e,a,l,(h=>(u=new By(h,this.ai?this.ai.next():Wn.ce),t==="readwrite-primary"?this.ji(u).next((f=>!!f||this.Hi(u))).next((f=>{if(!f)throw Ht(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new oe(Z.FAILED_PRECONDITION,k1);return r(u)})).next((f=>this.Zi(u).next((()=>f)))):this.Ps(u).next((()=>r(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Ps(e){return Ic(e).get(yo).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,oy)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new oe(Z.FAILED_PRECONDITION,uy)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ic(e).put(yo,t)}static v(){return Ri.v()}Ji(e){const t=Ic(e);return t.get(yo).next((r=>this.Xi(r)?(ue($s,"Releasing primary lease."),t.delete(yo)):G.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Ht(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;n1()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var t;try{const r=((t=this.Ui)==null?void 0:t.getItem(this.rs(e)))!==null;return ue($s,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ht($s,"Failed to get zombied client id.",r),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Ht("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ic(n){return ln(n,Ah)}function yd(n){return ln(n,Qo)}function mE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=je(),a=je();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new pE(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return n1()?8:M1(Gd())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.gs(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,t,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new DM;return this.ys(e,t,u).next((h=>{if(l.result=h,this.As)return this.ws(e,t,u,h.size)}))})).next((()=>l.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(Ao()<=We.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",So(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),G.resolve()):(Ao()<=We.DEBUG&&ue("QueryEngine","Query:",So(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Ao()<=We.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",So(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(t))):G.resolve())}gs(e,t){if(RT(t))return G.resolve(null);let r=jn(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Zd(t,null,"F"),r=jn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=je(...l);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,h);return this.Ss(t,m,u,f.readTime)?this.gs(e,Zd(t,null,"F")):this.Ds(e,m,t,f)}))))})))))}ps(e,t,r,a){return RT(t)||a.isEqual(Ie.min())?G.resolve(null):this.fs.getDocuments(e,r).next((l=>{const u=this.bs(t,l);return this.Ss(t,u,r,a)?G.resolve(null):(Ao()<=We.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),So(t)),this.Ds(e,u,t,D1(a,Ho)).next((h=>h)))}))}bs(e,t){let r=new ft(dI(e));return t.forEach(((a,l)=>{Nh(e,l)&&(r=r.add(l))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,r){return Ao()<=We.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",So(t)),this.fs.getDocumentsMatchingQuery(e,t,pr.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="LocalStore",OM=3e8;class kM{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new bt(ke),this.Fs=new us((l=>dl(l)),Sh),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function iN(n,e,t,r){return new kM(n,e,t,r)}async function sN(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],h=[];let f=je();for(const m of a){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function VM(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,y){const _=m.batch,v=_.keys();let b=G.resolve();return v.forEach((D=>{b=b.next((()=>y.getEntry(f,D))).next((M=>{const O=m.docVersions.get(D);we(O!==null,48541),M.version.compareTo(O)<0&&(_.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),y.addEntry(M)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=je();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function aN(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function MM(n,e){const t=Ee(n),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const h=[];e.targetChanges.forEach(((y,_)=>{const v=a.get(_);if(!v)return;h.push(t.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>t.li.addMatchingKeys(l,y.addedDocuments,_))));let b=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(Ut.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,r)),a=a.insert(_,b),(function(M,O,B){return M.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=OM?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(v,b,y)&&h.push(t.li.updateTargetData(l,b))}));let f=Zn(),m=je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(lN(l,u,e.documentUpdates).next((y=>{f=y.Bs,m=y.Ls}))),!r.isEqual(Ie.min())){const y=t.li.getLastRemoteSnapshotVersion(l).next((_=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(y)}return G.waitFor(h).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,f,m))).next((()=>f))})).then((l=>(t.vs=a,l)))}function lN(n,e,t){let r=je(),a=je();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let u=Zn();return t.forEach(((h,f)=>{const m=l.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ue(gE,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{Bs:u,Ls:a}}))}function PM(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ra),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tu(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((l=>l?(a=l,G.resolve(a)):t.li.allocateTargetId(r).next((u=>(a=new ts(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function nu(n,e,t){const r=Ee(n),a=r.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ga(u))throw u;ue(gE,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function im(n,e,t){const r=Ee(n);let a=Ie.min(),l=je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,y){const _=Ee(f),v=_.Fs.get(y);return v!==void 0?G.resolve(_.vs.get(v)):_.li.getTargetData(m,y)})(r,u,jn(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,h.targetId).next((f=>{l=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?a:Ie.min(),t?l:je()))).next((h=>(cN(r,fI(e),h),{documents:h,ks:l})))))}function oN(n,e){const t=Ee(n),r=Ee(t.li),a=t.vs.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",(l=>r.At(l,e).next((u=>u?u.target:null))))}function uN(n,e){const t=Ee(n),r=t.Ms.get(e)||Ie.min();return t.persistence.runTransaction("Get new document changes","readonly",(a=>t.xs.getAllFromCollectionGroup(a,e,D1(r,Ho),Number.MAX_SAFE_INTEGER))).then((a=>(cN(t,e,a),a)))}function cN(n,e,t){let r=n.Ms.get(e)||Ie.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Ms.set(e,r)}async function LM(n,e,t,r){const a=Ee(n);let l=je(),u=Zn();for(const m of t){const y=e.Ks(m.metadata.name);m.document&&(l=l.add(y));const _=e.qs(m);_.setReadTime(e.Us(m.metadata.readTime)),u=u.insert(y,_)}const h=a.xs.newChangeBuffer({trackRemovals:!0}),f=await tu(a,(function(y){return jn(hu(Ge.fromString(`__bundle__/docs/${y}`)))})(r));return a.persistence.runTransaction("Apply bundle documents","readwrite",(m=>lN(m,h,u).next((y=>(h.apply(m),y))).next((y=>a.li.removeMatchingKeysForTargetId(m,f.targetId).next((()=>a.li.addMatchingKeys(m,l,f.targetId))).next((()=>a.localDocuments.getLocalViewOfDocuments(m,y.Bs,y.Ls))).next((()=>y.Bs))))))}async function jM(n,e,t=je()){const r=await tu(n,jn(oE(e.bundledQuery))),a=Ee(n);return a.persistence.runTransaction("Save named query","readwrite",(l=>{const u=Gt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return a.Pi.saveNamedQuery(l,e);const h=r.withResumeToken(Ut.EMPTY_BYTE_STRING,u);return a.vs=a.vs.insert(h.targetId,h),a.li.updateTargetData(l,h).next((()=>a.li.removeMatchingKeysForTargetId(l,r.targetId))).next((()=>a.li.addMatchingKeys(l,t,r.targetId))).next((()=>a.Pi.saveNamedQuery(l,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="firestore_clients";function aw(n,e){return`${hN}_${n}_${e}`}const fN="firestore_mutations";function lw(n,e,t){let r=`${fN}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const dN="firestore_targets";function cy(n,e){return`${dN}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="SharedClientState";class sm{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let l,u=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return u&&a.error&&(u=typeof a.error.message=="string"&&typeof a.error.code=="string",u&&(l=new oe(a.error.code,a.error.message))),u?new sm(e,t,a.state,l):(Ht(Ai,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qc{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(a=new oe(r.error.code,r.error.message))),l?new Qc(e,r.state,a):(Ht(Ai,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class am{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a=typeof r=="object"&&r.activeTargetIds instanceof Array,l=eE();for(let u=0;a&&u<r.activeTargetIds.length;++u)a=P1(r.activeTargetIds[u]),l=l.add(r.activeTargetIds[u]);return a?new am(e,l):(Ht(Ai,`Failed to parse client data for instance '${e}': ${t}`),null)}}class yE{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new yE(t.clientId,t.onlineState):(Ht(Ai,`Failed to parse online state: ${e}`),null)}}class t_{constructor(){this.activeTargetIds=eE()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hy{constructor(e,t,r,a,l){this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new bt(ke),this.started=!1,this.Zs=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Xs=aw(this.persistenceKey,this.zs),this.Ys=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new t_),this.eo=new RegExp(`^${hN}_${u}_([^_]*)$`),this.no=new RegExp(`^${fN}_${u}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${dN}_${u}_(\\d+)$`),this.io=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this.so=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const a=this.getItem(aw(this.persistenceKey,r));if(a){const l=am.$s(r,a);l&&(this.Js=this.Js.insert(l.clientId,l))}}this.oo();const t=this.storage.getItem(this.io);if(t){const r=this._o(t);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(cy(this.persistenceKey,e));if(a){const l=Qc.$s(e,a);l&&(r=l.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(cy(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach((a=>{this.lo(a)})),this.currentUser=e,r.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(Ai,"READ",e,t),t}setItem(e,t){ue(Ai,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(Ai,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(ue(Ai,"EVENT",t.key,t.newValue),t.key===this.Xs)return void Ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const r=this.Eo(t.key);return this.Ro(r,null)}{const r=this.Ao(t.key,t.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(t.key)){if(t.newValue!==null){const r=this.Vo(t.key,t.newValue);if(r)return this.mo(r)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(t.key===this.io){if(t.newValue!==null){const r=this._o(t.newValue);if(r)return this.ao(r)}}else if(t.key===this.Ys){const r=(function(l){let u=Wn.ce;if(l!=null)try{const h=JSON.parse(l);we(typeof h=="number",30636,{yo:l}),u=h}catch(h){Ht(Ai,"Failed to read sequence number from WebStorage",h)}return u})(t.newValue);r!==Wn.ce&&this.sequenceNumberHandler(r)}else if(t.key===this.so){const r=this.wo(t.newValue);await Promise.all(r.map((a=>this.syncEngine.bo(a))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){const a=new sm(this.currentUser,e,t,r),l=lw(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Ws())}lo(e){const t=lw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){const a=cy(this.persistenceKey,e),l=new Qc(e,t,r);this.setItem(a,l.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const r=this.Eo(e);return am.$s(r,t)}Vo(e,t){const r=this.no.exec(e),a=Number(r[1]),l=r[2]!==void 0?r[2]:null;return sm.$s(new dn(l),a,t)}fo(e,t){const r=this.ro.exec(e),a=Number(r[1]);return Qc.$s(a,t)}_o(e){return yE.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);ue(Ai,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const r=t?this.Js.insert(e,t):this.Js.remove(e),a=this.uo(this.Js),l=this.uo(r),u=[],h=[];return l.forEach((f=>{a.has(f)||u.push(f)})),a.forEach((f=>{l.has(f)||h.push(f)})),this.syncEngine.Co(u,h).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=eE();return e.forEach(((r,a)=>{t=t.unionWith(a.activeTargetIds)})),t}}class mN{constructor(){this.vo=new t_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new t_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="ConnectivityMonitor";class uw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(ow,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(ow,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function n_(){return _d===null?_d=(function(){return 268435456+Math.round(2147483648*Math.random())})():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="RestConnection",BM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class zM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===zy?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,l){const u=n_(),h=this.Qo(e,t.toUriEncodedString());ue(fy,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,l);const{host:m}=new URL(h),y=k_(m);return this.zo(e,h,f,r,y).then((_=>(ue(fy,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Zr(fy,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_}))}jo(e,t,r,a,l,u){return this.Wo(e,t,r,a,l)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const r=BM[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection",Nc=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class ko extends zM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ko.c_){const e=T1();Nc(e,b1.STAT_EVENT,(t=>{t.stat===Vy.PROXY?ue(In,"STAT_EVENT: detected buffering proxy"):t.stat===Vy.NOPROXY&&ue(In,"STAT_EVENT: detected no buffering proxy")})),ko.c_=!0}}zo(e,t,r,a,l){const u=n_();return new Promise(((h,f)=>{const m=new x1;m.setWithCredentials(!0),m.listenOnce(v1.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Cd.NO_ERROR:const _=m.getResponseJson();ue(In,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Cd.TIMEOUT:ue(In,`RPC '${e}' ${u} timed out`),f(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const v=m.getStatus();if(ue(In,`RPC '${e}' ${u} failed with status:`,v,"response text:",m.getResponseText()),v>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const D=b==null?void 0:b.error;if(D&&D.status&&D.message){const M=(function(B){const J=B.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(J)>=0?J:Z.UNKNOWN})(D.status);f(new oe(M,D.message))}else f(new oe(Z.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ue(In,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);ue(In,`RPC '${e}' ${u} sending request:`,a),m.send(t,"POST",y,r,15)}))}T_(e,t,r){const a=n_(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=l.join("");ue(In,`Creating RPC '${e}' stream ${a}: ${m}`,h);const y=u.createWebChannel(m,h);this.I_(y);let _=!1,v=!1;const b=new FM({Ho:D=>{v?ue(In,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(_||(ue(In,`Opening RPC '${e}' stream ${a} transport.`),y.open(),_=!0),ue(In,`RPC '${e}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return Nc(y,Vc.EventType.OPEN,(()=>{v||(ue(In,`RPC '${e}' stream ${a} transport opened.`),b.i_())})),Nc(y,Vc.EventType.CLOSE,(()=>{v||(v=!0,ue(In,`RPC '${e}' stream ${a} transport closed`),b.o_(),this.E_(y))})),Nc(y,Vc.EventType.ERROR,(D=>{v||(v=!0,Zr(In,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),b.o_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),Nc(y,Vc.EventType.MESSAGE,(D=>{var M;if(!v){const O=D.data[0];we(!!O,16349);const B=O,J=(B==null?void 0:B.error)||((M=B[0])==null?void 0:M.error);if(J){ue(In,`RPC '${e}' stream ${a} received error:`,J);const q=J.status;let he=(function(S){const N=tn[S];if(N!==void 0)return SI(N)})(q),fe=J.message;q==="NOT_FOUND"&&fe.includes("database")&&fe.includes("does not exist")&&fe.includes(this.databaseId.database)&&Zr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),he===void 0&&(he=Z.INTERNAL,fe="Unknown error status: "+q+" with message "+J.message),v=!0,b.o_(new oe(he,fe)),y.close()}else ue(In,`RPC '${e}' stream ${a} received:`,O),b.__(O)}})),ko.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return w1()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(n){return new ko(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(){return typeof window<"u"?window:null}function Bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(n){return new QV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko.c_=!1;class _E{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="PersistentStream";class gN{constructor(e,t,r,a,l,u,h,f){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _E(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Ht(t.toString()),Ht("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new oe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(cw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ue(cw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HM extends gN{constructor(e,t,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=WV(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ie.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Gt(u.readTime):Ie.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Xy(this.serializer),t.addTarget=(function(l,u){let h;const f=u.target;if(h=Wd(f)?{documents:PI(l,f)}:{query:LI(l,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=CI(l,u.resumeToken);const m=Qy(l,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=eu(l,u.snapshotVersion.toTimestamp());const m=Qy(l,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=ZV(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Xy(this.serializer),t.removeTarget=e,this.K_(t)}}class GM extends gN{constructor(e,t,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=JV(e.writeResults,e.commitTime),r=Gt(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Xy(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>dh(this.serializer,r)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{}class KM extends YM{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,$y(t,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new oe(Z.UNKNOWN,l.toString())}))}jo(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,$y(t,r),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Z.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function QM(n,e,t,r){return new KM(n,e,t,r)}class $M{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ht(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="RemoteStore";class XM{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{_a(this)&&(ue(El,"Restarting streams for network reachability change."),await(async function(f){const m=Ee(f);m.Ea.add(4),await mu(m),m.Va.set("Unknown"),m.Ea.delete(4),await kh(m)})(this))}))})),this.Va=new $M(r,a)}}async function kh(n){if(_a(n))for(const e of n.Ra)await e(!0)}async function mu(n){for(const e of n.Ra)await e(!1)}function Dm(n,e){const t=Ee(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),vE(t)?xE(t):gu(t).O_()&&EE(t,e))}function ru(n,e){const t=Ee(n),r=gu(t);t.Ia.delete(e),r.O_()&&yN(t,e),t.Ia.size===0&&(r.O_()?r.L_():_a(t)&&t.Va.set("Unknown"))}function EE(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gu(n).Z_(e)}function yN(n,e){n.da.$e(e),gu(n).X_(e)}function xE(n){n.da=new HV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),gu(n).start(),n.Va.ua()}function vE(n){return _a(n)&&!gu(n).x_()&&n.Ia.size>0}function _a(n){return Ee(n).Ea.size===0}function _N(n){n.da=void 0}async function WM(n){n.Va.set("Online")}async function JM(n){n.Ia.forEach(((e,t)=>{EE(n,e)}))}async function ZM(n,e){_N(n),vE(n)?(n.Va.ha(e),xE(n)):n.Va.set("Unknown")}async function eP(n,e,t){if(n.Va.set("Online"),e instanceof RI&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(n,e)}catch(r){ue(El,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lm(n,r)}else if(e instanceof jd?n.da.Xe(e):e instanceof NI?n.da.st(e):n.da.tt(e),!t.isEqual(Ie.min()))try{const r=await aN(n.localStore);t.compareTo(r)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,m)=>{const y=l.Ia.get(f);if(!y)return;l.Ia.set(f,y.withResumeToken(Ut.EMPTY_BYTE_STRING,y.snapshotVersion)),yN(l,f);const _=new ts(y.target,f,m,y.sequenceNumber);EE(l,_)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ue(El,"Failed to raise snapshot:",r),await lm(n,r)}}async function lm(n,e,t){if(!ga(e))throw e;n.Ea.add(1),await mu(n),n.Va.set("Offline"),t||(t=()=>aN(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(El,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await kh(n)}))}function EN(n,e){return e().catch((t=>lm(n,t,e)))}async function pu(n){const e=Ee(n),t=fa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ra;for(;tP(e);)try{const a=await PM(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,nP(e,a)}catch(a){await lm(e,a)}xN(e)&&vN(e)}function tP(n){return _a(n)&&n.Ta.length<10}function nP(n,e){n.Ta.push(e);const t=fa(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function xN(n){return _a(n)&&!fa(n).x_()&&n.Ta.length>0}function vN(n){fa(n).start()}async function rP(n){fa(n).ra()}async function iP(n){const e=fa(n);for(const t of n.Ta)e.ea(t.mutations)}async function sP(n,e,t){const r=n.Ta.shift(),a=iE.from(r,e,t);await EN(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await pu(n)}async function aP(n,e){e&&fa(n).Y_&&await(async function(r,a){if((function(u){return AI(u)&&u!==Z.ABORTED})(a.code)){const l=r.Ta.shift();fa(r).B_(),await EN(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await pu(r)}})(n,e),xN(n)&&vN(n)}async function hw(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),ue(El,"RemoteStore received new credentials");const r=_a(t);t.Ea.add(3),await mu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await kh(t)}async function r_(n,e){const t=Ee(n);e?(t.Ea.delete(2),await kh(t)):e||(t.Ea.add(2),await mu(t),t.Va.set("Unknown"))}function gu(n){return n.ma||(n.ma=(function(t,r,a){const l=Ee(t);return l.sa(),new HM(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:WM.bind(null,n),Yo:JM.bind(null,n),t_:ZM.bind(null,n),J_:eP.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),vE(n)?xE(n):n.Va.set("Unknown")):(await n.ma.stop(),_N(n))}))),n.ma}function fa(n){return n.fa||(n.fa=(function(t,r,a){const l=Ee(t);return l.sa(),new GM(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:rP.bind(null,n),t_:aP.bind(null,n),ta:iP.bind(null,n),na:sP.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await pu(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(El,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const u=Date.now()+r,h=new bE(e,t,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yu(n,e){if(Ht("AsyncQueue",`${e}: ${n}`),ga(n))return new oe(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Mc(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.ga=new bt(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class iu{constructor(e,t,r,a,l,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,l){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new iu(e,t,Vo.emptySet(t),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class oP{constructor(){this.queries=dw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ee(t),l=a.queries;a.queries=dw(),l.forEach(((u,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function dw(){return new us((n=>hI(n)),Ih)}async function TE(n,e){const t=Ee(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new lP,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=yu(u,`Initialization of query '${So(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&AE(t)}async function wE(n,e){const t=Ee(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function uP(n,e){const t=Ee(n);let r=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const h of u.ba)h.Fa(a)&&(r=!0);u.wa=a}}r&&AE(t)}function cP(n,e,t){const r=Ee(n),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(t);r.queries.delete(e)}function AE(n){n.Ca.forEach((e=>{e.next()}))}var i_,mw;(mw=i_||(i_={})).Ma="default",mw.Cache="cache";class SE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==i_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t){this.qa=e,this.byteLength=t}Ua(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.serializer=e}Ks(e){return Ci(this.serializer,e)}qs(e){return e.metadata.exists?MI(this.serializer,e.document,!1):St.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return Gt(e)}}class fP{constructor(e,t){this.$a=e,this.serializer=t,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=bN(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;const r=Ge.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new pw(this.serializer);for(const a of e)if(a.metadata.queries){const l=r.Ks(a.metadata.name);for(const u of a.metadata.queries){const h=(t.get(u)||je()).add(l);t.set(u,h)}}return t}async ja(e){const t=await LM(e,new pw(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const a of this.Wa)await jM(e,a,r.get(a.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:t}}}function bN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.key=e}}class wN{constructor(e){this.key=e}}class AN{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=dI(e),this.tu=new Vo(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new fw,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const v=a.get(y),b=Nh(this.query,_)?_:null,D=!!v&&this.mutatedKeys.has(v.key),M=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let O=!1;v&&b?v.data.isEqual(b.data)?D!==M&&(r.track({type:3,doc:b}),O=!0):this.su(v,b)||(r.track({type:2,doc:b}),O=!0,(f&&this.eu(b,f)>0||m&&this.eu(b,m)<0)&&(h=!0)):!v&&b?(r.track({type:0,doc:b}),O=!0):v&&!b&&(r.track({type:1,doc:v}),O=!0,(f||m)&&(h=!0)),O&&(b?(u=u.add(b),l=M?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Ss:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(b,D){const M=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:O})}};return M(b)-M(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),a=a??!1;const h=t&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,m=f!==this.Xa;return this.Xa=f,u.length!==0||m?{snapshot:new iu(this.query,e.tu,l,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new wN(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new TN(r))})),t}cu(e){this.Za=e.ks,this.Ya=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return iu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ea="SyncEngine";class dP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mP{constructor(e){this.key=e,this.hu=!1}}class pP{constructor(e,t,r,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new us((h=>hI(h)),Ih),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(ye.comparator),this.Au=new Map,this.Vu=new hE,this.du={},this.mu=new Map,this.fu=_l.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gP(n,e,t=!0){const r=Om(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await SN(r,e,t,!0),a}async function yP(n,e){const t=Om(n);await SN(t,e,!0,!1)}async function SN(n,e,t,r){const a=await tu(n.localStore,jn(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let h;return r&&(h=await IE(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&Dm(n.remoteStore,a),h}async function IE(n,e,t,r,a){n.pu=(_,v,b)=>(async function(M,O,B,J){let q=O.view.ru(B);q.Ss&&(q=await im(M.localStore,O.query,!1).then((({documents:S})=>O.view.ru(S,q))));const he=J&&J.targetChanges.get(O.targetId),fe=J&&J.targetMismatches.get(O.targetId)!=null,K=O.view.applyChanges(q,M.isPrimaryClient,he,fe);return s_(M,O.targetId,K.au),K.snapshot})(n,_,v,b);const l=await im(n.localStore,e,!0),u=new AN(e,l.ks),h=u.ru(l.documents),f=Dh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),m=u.applyChanges(h,n.isPrimaryClient,f);s_(n,t,m.au);const y=new dP(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function _P(n,e,t){const r=Ee(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!Ih(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await nu(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&ru(r.remoteStore,a.targetId),su(r,a.targetId)})).catch(pa)):(su(r,a.targetId),await nu(r.localStore,a.targetId,!0))}async function EP(n,e){const t=Ee(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ru(t.remoteStore,r.targetId))}async function xP(n,e,t){const r=DE(n);try{const a=await(function(u,h){const f=Ee(u),m=lt.now(),y=h.reduce(((b,D)=>b.add(D.key)),je());let _,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let D=Zn(),M=je();return f.xs.getEntries(b,y).next((O=>{D=O,D.forEach(((B,J)=>{J.isValidDocument()||(M=M.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,D))).next((O=>{_=O;const B=[];for(const J of h){const q=zV(J,_.get(J.key).overlayedDocument);q!=null&&B.push(new cs(J.key,q,nI(q.value.mapValue),Dt.exists(!0)))}return f.mutationQueue.addMutationBatch(b,m,B,h)})).next((O=>{v=O;const B=O.applyToLocalDocumentSet(_,M);return f.documentOverlayCache.saveOverlays(b,O.batchId,B)}))})).then((()=>({batchId:v.batchId,changes:pI(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,f){let m=u.du[u.currentUser.toKey()];m||(m=new bt(ke)),m=m.insert(h,f),u.du[u.currentUser.toKey()]=m})(r,a.batchId,t),await hs(r,a.changes),await pu(r.remoteStore)}catch(a){const l=yu(a,"Failed to persist write");t.reject(l)}}async function IN(n,e){const t=Ee(n);try{const r=await MM(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(we(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?we(u.hu,14607):a.removedDocuments.size>0&&(we(u.hu,42227),u.hu=!1))})),await hs(t,r,e)}catch(r){await pa(r)}}function gw(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const f=Ee(u);f.onlineState=h;let m=!1;f.queries.forEach(((y,_)=>{for(const v of _.ba)v.va(h)&&(m=!0)})),m&&AE(f)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vP(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new bt(ye.comparator);u=u.insert(l,St.newNoDocument(l,Ie.min()));const h=je().add(l),f=new Ch(Ie.min(),new Map,new bt(ke),u,h);await IN(r,f),r.Ru=r.Ru.remove(l),r.Au.delete(e),CE(r)}else await nu(r.localStore,e,!1).then((()=>su(r,e,t))).catch(pa)}async function bP(n,e){const t=Ee(n),r=e.batch.batchId;try{const a=await VM(t.localStore,e);RE(t,r,null),NE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await hs(t,a)}catch(a){await pa(a)}}async function TP(n,e,t){const r=Ee(n);try{const a=await(function(u,h){const f=Ee(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next((_=>(we(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(m,_)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);RE(r,e,t),NE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await hs(r,a)}catch(a){await pa(a)}}async function wP(n,e){const t=Ee(n);_a(t.remoteStore)||ue(Ea,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f)))})(t.localStore);if(r===ra)return void e.resolve();const a=t.mu.get(r)||[];a.push(e),t.mu.set(r,a)}catch(r){const a=yu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function NE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function RE(n,e,t){const r=Ee(n);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function su(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||NN(n,r)}))}function NN(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(ru(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),CE(n))}function s_(n,e,t){for(const r of t)r instanceof TN?(n.Vu.addReference(r.key,e),AP(n,r)):r instanceof wN?(ue(Ea,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||NN(n,r.key)):ve(19791,{wu:r})}function AP(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(ue(Ea,"New document in limbo: "+t),n.Eu.add(r),CE(n))}function CE(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Ge.fromString(e)),r=n.fu.next();n.Au.set(r,new mP(t)),n.Ru=n.Ru.insert(t,r),Dm(n.remoteStore,new ts(jn(hu(t.path)),r,"TargetPurposeLimboResolution",Wn.ce))}}async function hs(n,e,t){const r=Ee(n),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,t).then((m=>{var y;if((m||t)&&r.isPrimaryClient){const _=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){a.push(m);const _=pE.Es(f.targetId,m);l.push(_)}})))})),await Promise.all(u),r.Pu.J_(a),await(async function(f,m){const y=Ee(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>G.forEach(m,(v=>G.forEach(v.Ts,(b=>y.persistence.referenceDelegate.addReference(_,v.targetId,b))).next((()=>G.forEach(v.Is,(b=>y.persistence.referenceDelegate.removeReference(_,v.targetId,b)))))))))}catch(_){if(!ga(_))throw _;ue(gE,"Failed to update sequence numbers: "+_)}for(const _ of m){const v=_.targetId;if(!_.fromCache){const b=y.vs.get(v),D=b.snapshotVersion,M=b.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(v,M)}}})(r.localStore,l))}async function SP(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){ue(Ea,"User change. New user:",e.toKey());const r=await sN(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new oe(Z.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hs(t,r.Ns)}}function IP(n,e){const t=Ee(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let a=je();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const h=t.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}async function NP(n,e){const t=Ee(n),r=await im(t.localStore,e.query,!0),a=e.view.cu(r);return t.isPrimaryClient&&s_(t,e.targetId,a.au),a}async function RP(n,e){const t=Ee(n);return uN(t.localStore,e).then((r=>hs(t,r)))}async function CP(n,e,t,r){const a=Ee(n),l=await(function(h,f){const m=Ee(h),y=Ee(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",(_=>y.Xn(_,f).next((v=>v?m.localDocuments.getDocuments(_,v):G.resolve(null)))))})(a.localStore,e);l!==null?(t==="pending"?await pu(a.remoteStore):t==="acknowledged"||t==="rejected"?(RE(a,e,r||null),NE(a,e),(function(h,f){Ee(Ee(h).mutationQueue).nr(f)})(a.localStore,e)):ve(6720,"Unknown batchState",{bu:t}),await hs(a,l)):ue(Ea,"Cannot apply mutation batch with id: "+e)}async function DP(n,e){const t=Ee(n);if(Om(t),DE(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),a=await yw(t,r.toArray());t.gu=!0,await r_(t.remoteStore,!0);for(const l of a)Dm(t.remoteStore,l)}else if(e===!1&&t.gu!==!1){const r=[];let a=Promise.resolve();t.Iu.forEach(((l,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):a=a.then((()=>(su(t,u),nu(t.localStore,u,!0)))),ru(t.remoteStore,u)})),await a,await yw(t,r),(function(u){const h=Ee(u);h.Au.forEach(((f,m)=>{ru(h.remoteStore,m)})),h.Vu.zr(),h.Au=new Map,h.Ru=new bt(ye.comparator)})(t),t.gu=!1,await r_(t.remoteStore,!1)}}async function yw(n,e,t){const r=Ee(n),a=[],l=[];for(const u of e){let h;const f=r.Iu.get(u);if(f&&f.length!==0){h=await tu(r.localStore,jn(f[0]));for(const m of f){const y=r.Tu.get(m),_=await NP(r,y);_.snapshot&&l.push(_.snapshot)}}else{const m=await oN(r.localStore,u);h=await tu(r.localStore,m),await IE(r,RN(m),u,!1,h.resumeToken)}a.push(h)}return r.Pu.J_(l),a}function RN(n){return cI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function OP(n){return(function(t){return Ee(Ee(t).persistence).hs()})(Ee(n).localStore)}async function kP(n,e,t,r){const a=Ee(n);if(a.gu)return void ue(Ea,"Ignoring unexpected query state notification.");const l=a.Iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const u=await uN(a.localStore,fI(l[0])),h=Ch.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ut.EMPTY_BYTE_STRING);await hs(a,u,h);break}case"rejected":await nu(a.localStore,e,!0),su(a,e,r);break;default:ve(64155,t)}}async function VP(n,e,t){const r=Om(n);if(r.gu){for(const a of e){if(r.Iu.has(a)&&r.sharedClientState.isActiveQueryTarget(a)){ue(Ea,"Adding an already active target "+a);continue}const l=await oN(r.localStore,a),u=await tu(r.localStore,l);await IE(r,RN(l),u.targetId,!1,u.resumeToken),Dm(r.remoteStore,u)}for(const a of t)r.Iu.has(a)&&await nu(r.localStore,a,!1).then((()=>{ru(r.remoteStore,a),su(r,a)})).catch(pa)}}function Om(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=IN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vP.bind(null,e),e.Pu.J_=uP.bind(null,e.eventManager),e.Pu.yu=cP.bind(null,e.eventManager),e}function DE(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TP.bind(null,e),e}function MP(n,e,t){const r=Ee(n);(async function(l,u,h){try{const f=await u.getMetadata();if(await(function(b,D){const M=Ee(b),O=Gt(D.createTime);return M.persistence.runTransaction("hasNewerBundle","readonly",(B=>M.Pi.getBundleMetadata(B,D.id))).then((B=>!!B&&B.createTime.compareTo(O)>=0))})(l.localStore,f))return await u.close(),h._completeWith((function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}})(f)),Promise.resolve(new Set);h._updateProgress(bN(f));const m=new fP(f,u.serializer);let y=await u.Su();for(;y;){const v=await m.Ga(y);v&&h._updateProgress(v),y=await u.Su()}const _=await m.ja(l.localStore);return await hs(l,_.Ja,void 0),await(function(b,D){const M=Ee(b);return M.persistence.runTransaction("Save bundle","readwrite",(O=>M.Pi.saveBundleMetadata(O,D)))})(l.localStore,f),h._completeWith(_.progress),Promise.resolve(_.Ha)}catch(f){return Zr(Ea,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,t).then((a=>{r.sharedClientState.notifyBundleLoaded(a)}))}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return iN(this.persistence,new rN,e.initialUser,this.serializer)}Cu(e){return new fE(Cm.Vi,this.serializer)}Du(e){return new mN}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class PP extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){we(this.persistence.referenceDelegate instanceof rm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WI(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new fE((r=>rm.Vi(r,t)),this.serializer)}}class CN extends mh{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await DE(this.xu.syncEngine),await pu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return iN(this.persistence,new rN,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new WI(r,e.asyncQueue,t)}Mu(e,t){const r=new U4(t,this.persistence);return new j4(e.asyncQueue,r)}Cu(e){const t=mE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new dE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,pN(),Bd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new mN}}class LP extends CN{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof hy&&(this.sharedClientState.syncEngine={So:CP.bind(null,t),Do:kP.bind(null,t),Co:VP.bind(null,t),hs:OP.bind(null,t),bo:RP.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await DP(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=pN();if(!hy.v(t))throw new oe(Z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=mE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ph{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SP.bind(null,this.syncEngine),await r_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oP})()}createDatastore(e){const t=Oh(e.databaseInfo.databaseId),r=qM(e.databaseInfo);return QM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,u,h){return new XM(r,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>gw(this.syncEngine,t,0)),(function(){return uw.v()?new uw:new UM})())}createSyncEngine(e,t){return(function(a,l,u,h,f,m,y){const _=new pP(a,l,u,h,f,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const l=Ee(a);ue(El,"RemoteStore shutting down."),l.Ea.add(5),await mu(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}ph.provider={build:()=>new ph};function _w(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ht("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new bn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.qu(`length string (${t}) is not valid number`);const a=await this.Uu(r);return new hP(JSON.parse(a),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UP=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new oe(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,l){const u=Ee(a),h={documents:l.map((_=>fh(u.serializer,_)))},f=await u.jo("BatchGetDocuments",u.serializer.databaseId,Ge.emptyPath(),h,l.length),m=new Map;f.forEach((_=>{const v=XV(u.serializer,_);m.set(v.key.toString(),v)}));const y=[];return l.forEach((_=>{const v=m.get(_.toString());we(!!v,55234,{key:_}),y.push(v)})),y})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new du(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const a=ye.fromPath(r);this.mutations.push(new nE(a,this.precondition(a)))})),await(async function(r,a){const l=Ee(r),u={writes:a.map((h=>dh(l.serializer,h)))};await l.Wo("Commit",l.serializer.databaseId,Ge.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ve(50498,{Gu:e.constructor.name});t=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new oe(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?Dt.exists(!1):Dt.updateTime(t):Dt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new oe(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dt.updateTime(t)}return Dt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,t,r,a,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=a,this.deferred=l,this.zu=r.maxAttempts,this.M_=new _E(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new UP(this.datastore),t=this.Ju(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((a=>{this.Zu(a)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const t=this.updateFunction(e);return!wh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!AI(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class zP{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=F_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{ue(da,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ue(da,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=yu(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function dy(n,e){n.asyncQueue.verifyOperationInProgress(),ue(da,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await sN(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Ew(n,e){n.asyncQueue.verifyOperationInProgress();const t=await OE(n);ue(da,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>hw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>hw(e.remoteStore,a))),n._onlineComponents=e}async function OE(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(da,"Using user provided OfflineComponentProvider");try{await dy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Zr("Error using user provided cache. Falling back to memory cache: "+t),await dy(n,new mh)}}else ue(da,"Using default OfflineComponentProvider"),await dy(n,new PP(void 0));return n._offlineComponents}async function Vm(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(da,"Using user provided OnlineComponentProvider"),await Ew(n,n._uninitializedComponentsProvider._online)):(ue(da,"Using default OnlineComponentProvider"),await Ew(n,new ph))),n._onlineComponents}function DN(n){return OE(n).then((e=>e.persistence))}function kE(n){return OE(n).then((e=>e.localStore))}function ON(n){return Vm(n).then((e=>e.remoteStore))}function VE(n){return Vm(n).then((e=>e.syncEngine))}function FP(n){return Vm(n).then((e=>e.datastore))}async function au(n){const e=await Vm(n),t=e.eventManager;return t.onListen=gP.bind(null,e.syncEngine),t.onUnlisten=_P.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=EP.bind(null,e.syncEngine),t}function qP(n){return n.asyncQueue.enqueue((async()=>{const e=await DN(n),t=await ON(n);return e.setNetworkEnabled(!0),(function(a){const l=Ee(a);return l.Ea.delete(0),kh(l)})(t)}))}function HP(n){return n.asyncQueue.enqueue((async()=>{const e=await DN(n),t=await ON(n);return e.setNetworkEnabled(!1),(async function(a){const l=Ee(a);l.Ea.add(0),await mu(l),l.Va.set("Offline")})(t)}))}function GP(n,e,t,r){const a=new km(r),l=new SE(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>TE(await au(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>wE(await au(n),l)))}}function YP(n,e){const t=new bn;return n.asyncQueue.enqueueAndForget((async()=>(async function(a,l,u){try{const h=await(function(m,y){const _=Ee(m);return _.persistence.runTransaction("read document","readonly",(v=>_.localDocuments.getDocument(v,y)))})(a,l);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new oe(Z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=yu(h,`Failed to get document '${l} from cache`);u.reject(f)}})(await kE(n),e,t))),t.promise}function kN(n,e,t={}){const r=new bn;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,f,m){const y=new km({next:v=>{y.Nu(),u.enqueueAndForget((()=>wE(l,_)));const b=v.docs.has(h);!b&&v.fromCache?m.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&f&&f.source==="server"?m.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(v)},error:v=>m.reject(v)}),_=new SE(hu(h.path),y,{includeMetadataChanges:!0,Ka:!0});return TE(l,_)})(await au(n),n.asyncQueue,e,t,r))),r.promise}function KP(n,e){const t=new bn;return n.asyncQueue.enqueueAndForget((async()=>(async function(a,l,u){try{const h=await im(a,l,!0),f=new AN(l,h.ks),m=f.ru(h.documents),y=f.applyChanges(m,!1);u.resolve(y.snapshot)}catch(h){const f=yu(h,`Failed to execute query '${l} against cache`);u.reject(f)}})(await kE(n),e,t))),t.promise}function VN(n,e,t={}){const r=new bn;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,f,m){const y=new km({next:v=>{y.Nu(),u.enqueueAndForget((()=>wE(l,_))),v.fromCache&&f.source==="server"?m.reject(new oe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(v)},error:v=>m.reject(v)}),_=new SE(h,y,{includeMetadataChanges:!0,Ka:!0});return TE(l,_)})(await au(n),n.asyncQueue,e,t,r))),r.promise}function QP(n,e){const t=new bn;return n.asyncQueue.enqueueAndForget((async()=>xP(await VE(n),e,t))),t.promise}function $P(n,e){const t=new km(e);return n.asyncQueue.enqueueAndForget((async()=>(function(a,l){Ee(a).Ca.add(l),l.next()})(await au(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(a,l){Ee(a).Ca.delete(l)})(await au(n),t)))}}function XP(n,e,t){const r=new bn;return n.asyncQueue.enqueueAndForget((async()=>{const a=await FP(n);new BP(n.asyncQueue,a,t,e,r).ju()})),r.promise}function WP(n,e,t,r){const a=(function(u,h){let f;return f=typeof u=="string"?II().encode(u):u,(function(y,_){return new jP(y,_)})((function(y,_){if(y instanceof Uint8Array)return _w(y,_);if(y instanceof ArrayBuffer)return _w(new Uint8Array(y),_);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(f),h)})(t,Oh(e));n.asyncQueue.enqueueAndForget((async()=>{MP(await VE(n),a,r)}))}function JP(n,e){return n.asyncQueue.enqueue((async()=>(function(r,a){const l=Ee(r);return l.persistence.runTransaction("Get named query","readonly",(u=>l.Pi.getNamedQuery(u,a)))})(await kE(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="ComponentProvider",xw=new Map;function eL(n,e,t,r,a){return new mV(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,MN(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="firestore.googleapis.com",vw=!0;class bw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PN,this.ssl=vw}else this.host=e.host,this.ssl=e.ssl??vw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pM)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new S4;switch(r.type){case"firstParty":return new C4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=xw.get(t);r&&(ue(ZP,"Removing Datastore"),xw.delete(t),r.terminate())})(this),Promise.resolve()}}function tL(n,e,t,r={}){var m;n=nt(n,Vh);const a=k_(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(F2(`https://${h}`),Y2("Firestore",!0)),l.host!==PN&&l.host!==h&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:a,emulatorOptions:r};if(!jo(f,u)&&(n._setSettings(f),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=dn.MOCK_USER;else{y=q2(r.mockUserToken,(m=n._app)==null?void 0:m.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(v)}n._authCredentials=new I4(new S1(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Un=class LN{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new LN(this.firestore,e,this._query)}},vt=class jc{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jc(this.firestore,e,this._key)}toJSON(){return{type:jc._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Th(t,jc._jsonSchema))return new jc(e,r||null,new ye(Ge.fromString(t.referencePath)))}};vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:rn("string",vt._jsonSchemaVersion),referencePath:rn("string")};let ia=class jN extends Un{constructor(e,t,r){super(e,t,hu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ye(e))}withConverter(e){return new jN(this.firestore,e,this._path)}};function UN(n,e,...t){if(n=sn(n),q_("collection","path",e),n instanceof Vh){const r=Ge.fromString(e,...t);return cT(r),new ia(n,null,r)}{if(!(n instanceof vt||n instanceof ia))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ge.fromString(e,...t));return cT(r),new ia(n.firestore,null,r)}}function nL(n,e){if(n=nt(n,Vh),q_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Un(n,null,(function(r){return new os(Ge.emptyPath(),r)})(e))}function om(n,e,...t){if(n=sn(n),arguments.length===1&&(e=F_.newId()),q_("doc","path",e),n instanceof Vh){const r=Ge.fromString(e,...t);return uT(r),new vt(n,null,new ye(r))}{if(!(n instanceof vt||n instanceof ia))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ge.fromString(e,...t));return uT(r),new vt(n.firestore,n instanceof ia?n.converter:null,new ye(r))}}function BN(n,e){return n=sn(n),e=sn(e),(n instanceof vt||n instanceof ia)&&(e instanceof vt||e instanceof ia)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function zN(n,e){return n=sn(n),e=sn(e),n instanceof Un&&e instanceof Un&&n.firestore===e.firestore&&Ih(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="AsyncQueue";class ww{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _E(this,"async_queue_retry"),this._c=()=>{const r=Bd();r&&ue(Tw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Bd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Bd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new bn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ga(e))throw e;ue(Tw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ht("INTERNAL UNHANDLED ERROR: ",Aw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=bE.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&ve(47125,{Pc:Aw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Aw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this._progressObserver={},this._taskCompletionResolver=new bn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=-1;let Yt=class extends Vh{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new ww,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ww(e),this._firestoreClient=void 0,await e}}};function Dn(n){if(n._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||FN(n),n._firestoreClient}function FN(n){var r,a,l,u;const e=n._freezeSettings(),t=eL(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(a=n._app)==null?void 0:a.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new zP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(n._componentsProvider))}function sL(n,e){Zr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return qN(n,ph.provider,{build:r=>new CN(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function aL(n){Zr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();qN(n,ph.provider,{build:t=>new LP(t,e.cacheSizeBytes)})}function qN(n,e,t){if((n=nt(n,Yt))._firestoreClient||n._terminated)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new oe(Z.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},FN(n)}function lL(n){if(n._initialized&&!n._terminated)throw new oe(Z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bn;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Ri.v())return Promise.resolve();const a=r+nN;await Ri.delete(a)})(mE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function oL(n){return(function(t){const r=new bn;return t.asyncQueue.enqueueAndForget((async()=>wP(await VE(t),r))),r.promise})(Dn(n=nt(n,Yt)))}function uL(n){return qP(Dn(n=nt(n,Yt)))}function cL(n){return HP(Dn(n=nt(n,Yt)))}function hL(n,e){const t=Dn(n=nt(n,Yt)),r=new rL;return WP(t,n._databaseId,e,r),r}function fL(n,e){return JP(Dn(n=nt(n,Yt)),e).then((t=>t?new Un(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rn(Ut.fromBase64String(e))}catch(t){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Th(e,Rn._jsonSchema))return Rn.fromBase64String(e.bytes)}}Rn._jsonSchemaVersion="firestore/bytes/1.0",Rn._jsonSchema={type:rn("string",Rn._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xr._jsonSchemaVersion}}static fromJSON(e){if(Th(e,Xr._jsonSchema))return new Xr(e.latitude,e.longitude)}}Xr._jsonSchemaVersion="firestore/geoPoint/1.0",Xr._jsonSchema={type:rn("string",Xr._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Th(e,Wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Wr(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wr._jsonSchemaVersion="firestore/vectorValue/1.0",Wr._jsonSchema={type:rn("string",Wr._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=/^__.*__$/;class mL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new fu(e,this.data,t,this.fieldTransforms)}}class HN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:n})}}class Mm{constructor(e,t,r,a,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Mm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const t=(a=this.path)==null?void 0:a.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var a;const t=(a=this.path)==null?void 0:a.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return um(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(GN(this.dataSource)&&dL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class pL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Oh(e)}createContext(e,t,r,a=!1){return new Mm({dataSource:e,methodName:t,targetDoc:r,path:Ct.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Al(n){const e=n._freezeSettings(),t=Oh(n._databaseId);return new pL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Pm(n,e,t,r,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,e,t,a);zE("Data must be an object, but it was:",u,r);const h=QN(r,u);let f,m;if(l.merge)f=new Jn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const v=vl(e,_,t);if(!u.contains(v))throw new oe(Z.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);WN(y,v)||y.push(v)}f=new Jn(y),m=u.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,m=u.fieldTransforms;return new mL(new vn(h),f,m)}class Mh extends wl{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function YN(n,e,t){return new Mm({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ME extends wl{_toFieldTransform(e){return new Rh(e.path,new Jo)}isEqual(e){return e instanceof ME}}class PE extends wl{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=YN(this,e,!0),r=this.Ac.map((l=>Sl(l,t))),a=new ml(r);return new Rh(e.path,a)}isEqual(e){return e instanceof PE&&jo(this.Ac,e.Ac)}}class LE extends wl{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=YN(this,e,!0),r=this.Ac.map((l=>Sl(l,t))),a=new pl(r);return new Rh(e.path,a)}isEqual(e){return e instanceof LE&&jo(this.Ac,e.Ac)}}class jE extends wl{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Zo(e.serializer,_I(e.serializer,this.Vc));return new Rh(e.path,t)}isEqual(e){return e instanceof jE&&this.Vc===e.Vc}}function UE(n,e,t,r){const a=n.createContext(1,e,t);zE("Data must be an object, but it was:",a,r);const l=[],u=vn.empty();ya(r,((f,m)=>{const y=XN(e,f,t);m=sn(m);const _=a.childContextForFieldPath(y);if(m instanceof Mh)l.push(y);else{const v=Sl(m,_);v!=null&&(l.push(y),u.set(y,v))}}));const h=new Jn(l);return new HN(u,h,a.fieldTransforms)}function BE(n,e,t,r,a,l){const u=n.createContext(1,e,t),h=[vl(e,r,t)],f=[a];if(l.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)h.push(vl(e,l[v])),f.push(l[v+1]);const m=[],y=vn.empty();for(let v=h.length-1;v>=0;--v)if(!WN(m,h[v])){const b=h[v];let D=f[v];D=sn(D);const M=u.childContextForFieldPath(b);if(D instanceof Mh)m.push(b);else{const O=Sl(D,M);O!=null&&(m.push(b),y.set(b,O))}}const _=new Jn(m);return new HN(y,_,u.fieldTransforms)}function KN(n,e,t,r=!1){return Sl(t,n.createContext(r?4:3,e))}function Sl(n,e){if($N(n=sn(n)))return zE("Unsupported field value:",e,n),QN(n,e);if(n instanceof wl)return(function(r,a){if(!GN(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const h of r){let f=Sl(h,a.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _I(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=lt.fromDate(r);return{timestampValue:eu(a.serializer,l)}}if(r instanceof lt){const l=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eu(a.serializer,l)}}if(r instanceof Xr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rn)return{bytesValue:CI(a.serializer,r._byteString)};if(r instanceof vt){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:lE(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Wr)return(function(u,h){const f=u instanceof Wr?u.toArray():u;return{mapValue:{fields:{[X_]:{stringValue:W_},[$o]:{arrayValue:{values:f.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return tE(h.serializer,y)}))}}}}}})(r,a);if(FI(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${_m(r)}`)})(n,e)}function QN(n,e){const t={};return K1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(n,((r,a)=>{const l=Sl(a,e.childContextForField(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function $N(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof lt||n instanceof Xr||n instanceof Rn||n instanceof vt||n instanceof wl||n instanceof Wr||FI(n))}function zE(n,e,t){if(!$N(t)||!R1(t)){const r=_m(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function vl(n,e,t){if((e=sn(e))instanceof xl)return e._internalPath;if(typeof e=="string")return XN(n,e);throw um("Field path arguments must be of type string or ",n,!1,void 0,t)}const gL=new RegExp("[~\\*/\\[\\]]");function XN(n,e,t){if(e.search(gL)>=0)throw um(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xl(...e.split("."))._internalPath}catch{throw um(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function um(n,e,t,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new oe(Z.INVALID_ARGUMENT,h+n+f)}function WN(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{convertValue(e,t="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ya(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){var r,a,l;const t=(l=(a=(r=e.fields)==null?void 0:r[$o].arrayValue)==null?void 0:a.values)==null?void 0:l.map((u=>Rt(u.doubleValue)));return new Wr(t)}convertGeoPoint(e){return new Xr(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=wm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(oh(e));default:return null}}convertTimestamp(e){const t=as(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ge.fromString(e);we(zI(r),9688,{name:e});const a=new oa(r.get(1),r.get(3)),l=new ye(r.popFirst(5));return a.isEqual(t)||Ht(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends FE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){return new Mh("deleteField")}function _L(){return new ME("serverTimestamp")}function EL(...n){return new PE("arrayUnion",n)}function xL(...n){return new LE("arrayRemove",n)}function vL(n){return new jE("increment",n)}const Sw="@firebase/firestore",Iw="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(vl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bL extends gh{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qE{}class Ph extends qE{}function Xs(n,e,...t){let r=[];e instanceof qE&&r.push(e),r=r.concat(t),(function(l){const u=l.filter((f=>f instanceof HE)).length,h=l.filter((f=>f instanceof Lm)).length;if(u>1||u>0&&h>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Lm extends Ph{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Lm(e,t,r)}_apply(e){const t=this._parse(e);return eR(e._query,t),new Un(e.firestore,e.converter,Ky(e._query,t))}_parse(e){const t=Al(e.firestore);return(function(l,u,h,f,m,y,_){let v;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Rw(_,y);const D=[];for(const M of _)D.push(Nw(f,l,M));v={arrayValue:{values:D}}}else v=Nw(f,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Rw(_,y),v=KN(h,u,_,y==="in"||y==="not-in");return Qe.create(m,y,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function TL(n,e,t){const r=e,a=vl("where",n);return Lm._create(a,r,t)}class HE extends qE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new HE(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ht.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const f of h)eR(u,f),u=Ky(u,f)})(e._query,t),new Un(e.firestore,e.converter,Ky(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class GE extends Ph{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new GE(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hh(l,u)})(e._query,this._field,this._direction);return new Un(e.firestore,e.converter,NV(e._query,t))}}function wL(n,e="asc"){const t=e,r=vl("orderBy",n);return GE._create(r,t)}class jm extends Ph{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new jm(e,t,r)}_apply(e){return new Un(e.firestore,e.converter,Zd(e._query,this._limit,this._limitType))}}function AL(n){return C1("limit",n),jm._create("limit",n,"F")}function SL(n){return C1("limitToLast",n),jm._create("limitToLast",n,"L")}class Um extends Ph{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Um(e,t,r)}_apply(e){const t=ZN(e,this.type,this._docOrFields,this._inclusive);return new Un(e.firestore,e.converter,RV(e._query,t))}}function IL(...n){return Um._create("startAt",n,!0)}function NL(...n){return Um._create("startAfter",n,!1)}class Bm extends Ph{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Bm(e,t,r)}_apply(e){const t=ZN(e,this.type,this._docOrFields,this._inclusive);return new Un(e.firestore,e.converter,CV(e._query,t))}}function RL(...n){return Bm._create("endBefore",n,!1)}function CL(...n){return Bm._create("endAt",n,!0)}function ZN(n,e,t,r){if(t[0]=sn(t[0]),t[0]instanceof gh)return(function(l,u,h,f,m){if(!f)throw new oe(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const _ of Oo(l))if(_.field.isKeyField())y.push(fl(u,f.key));else{const v=f.data.field(_.field);if(Tm(v))throw new oe(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const b=_.field.canonicalString();throw new oe(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}y.push(v)}return new ha(y,m)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Al(n.firestore);return(function(u,h,f,m,y,_){const v=u.explicitOrderBy;if(y.length>v.length)throw new oe(Z.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let D=0;D<y.length;D++){const M=y[D];if(v[D].field.isKeyField()){if(typeof M!="string")throw new oe(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof M}`);if(!Z_(u)&&M.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${M}' contains a slash.`);const O=u.path.child(Ge.fromString(M));if(!ye.isDocumentKey(O))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${O}' is not because it contains an odd number of segments.`);const B=new ye(O);b.push(fl(h,B))}else{const O=KN(f,m,M);b.push(O)}}return new ha(b,_)})(n._query,n.firestore._databaseId,a,e,t,r)}}function Nw(n,e,t){if(typeof(t=sn(t))=="string"){if(t==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z_(e)&&t.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ge.fromString(t));if(!ye.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fl(n,new ye(r))}if(t instanceof vt)return fl(n,t._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(t)}.`)}function Rw(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eR(n,e){const t=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function zm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class DL extends FE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}class ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Or=class tR extends gh{constructor(e,t,r,a,l,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=tR._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Or._jsonSchemaVersion="firestore/documentSnapshot/1.0",Or._jsonSchema={type:rn("string",Or._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};let $c=class extends Or{data(e={}){return super.data(e)}},Jr=class nR{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ol(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new $c(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const f=new $c(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ol(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new $c(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ol(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:OL(h.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nR._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=F_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function OL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:n})}}function rR(n,e){return n instanceof Or&&e instanceof Or?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Jr&&e instanceof Jr&&n._firestore===e._firestore&&zN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr._jsonSchemaVersion="firestore/querySnapshot/1.0",Jr._jsonSchema={type:rn("string",Jr._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};const kL={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VL=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Al(e)}set(e,t,r){this._verifyNotCommitted();const a=ea(e,this._firestore),l=zm(a.converter,t,r),u=Pm(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(u.toMutation(a._key,Dt.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=ea(e,this._firestore);let u;return u=typeof(t=sn(t))=="string"||t instanceof xl?BE(this._dataReader,"WriteBatch.update",l._key,t,r,a):UE(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,Dt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ea(e,this._firestore);return this._mutations=this._mutations.concat(new du(t._key,Dt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ea(n,e){if((n=sn(n)).firestore!==e)throw new oe(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Al(e)}get(e){const t=ea(e,this._firestore),r=new DL(this._firestore);return this._transaction.lookup([t._key]).then((a=>{if(!a||a.length!==1)return ve(24041);const l=a[0];if(l.isFoundDocument())return new gh(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new gh(this._firestore,r,t._key,null,t.converter);throw ve(18433,{doc:l})}))}set(e,t,r){const a=ea(e,this._firestore),l=zm(a.converter,t,r),u=Pm(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,r);return this._transaction.set(a._key,u),this}update(e,t,r,...a){const l=ea(e,this._firestore);let u;return u=typeof(t=sn(t))=="string"||t instanceof xl?BE(this._dataReader,"Transaction.update",l._key,t,r,a):UE(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=ea(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PL=class extends ML{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ea(e,this._firestore),r=new Il(this._firestore);return super.get(e).then((a=>new Or(this._firestore,r,t._key,a._document,new ol(!1,!1),t.converter)))}};function LL(n,e,t){n=nt(n,Yt);const r={...kL,...t};(function(u){if(u.maxAttempts<1)throw new oe(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const a=Dn(n);return XP(a,(l=>e(new PL(n,l))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(n){n=nt(n,vt);const e=nt(n.firestore,Yt),t=Dn(e);return kN(t,n._key).then((r=>YE(e,n,r)))}function UL(n){n=nt(n,vt);const e=nt(n.firestore,Yt),t=Dn(e),r=new Il(e);return YP(t,n._key).then((a=>new Or(e,r,n._key,a,new ol(a!==null&&a.hasLocalMutations,!0),n.converter)))}function BL(n){n=nt(n,vt);const e=nt(n.firestore,Yt),t=Dn(e);return kN(t,n._key,{source:"server"}).then((r=>YE(e,n,r)))}function zL(n){n=nt(n,Un);const e=nt(n.firestore,Yt),t=Dn(e),r=new Il(e);return JN(n._query),VN(t,n._query).then((a=>new Jr(e,r,n,a)))}function FL(n){n=nt(n,Un);const e=nt(n.firestore,Yt),t=Dn(e),r=new Il(e);return KP(t,n._query).then((a=>new Jr(e,r,n,a)))}function qL(n){n=nt(n,Un);const e=nt(n.firestore,Yt),t=Dn(e),r=new Il(e);return VN(t,n._query,{source:"server"}).then((a=>new Jr(e,r,n,a)))}function Cw(n,e,t){n=nt(n,vt);const r=nt(n.firestore,Yt),a=zm(n.converter,e,t),l=Al(r);return Lh(r,[Pm(l,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Dt.none())])}function Dw(n,e,t,...r){n=nt(n,vt);const a=nt(n.firestore,Yt),l=Al(a);let u;return u=typeof(e=sn(e))=="string"||e instanceof xl?BE(l,"updateDoc",n._key,e,t,r):UE(l,"updateDoc",n._key,e),Lh(a,[u.toMutation(n._key,Dt.exists(!0))])}function HL(n){return Lh(nt(n.firestore,Yt),[new du(n._key,Dt.none())])}function GL(n,e){const t=nt(n.firestore,Yt),r=om(n),a=zm(n.converter,e),l=Al(n.firestore);return Lh(t,[Pm(l,"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Dt.exists(!1))]).then((()=>r))}function iR(n,...e){var m,y,_;n=sn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||a_(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(a_(e[r])){const v=e[r];e[r]=(m=v.next)==null?void 0:m.bind(v),e[r+1]=(y=v.error)==null?void 0:y.bind(v),e[r+2]=(_=v.complete)==null?void 0:_.bind(v)}let l,u,h;if(n instanceof vt)u=nt(n.firestore,Yt),h=hu(n._key.path),l={next:v=>{e[r]&&e[r](YE(u,n,v))},error:e[r+1],complete:e[r+2]};else{const v=nt(n,Un);u=nt(v.firestore,Yt),h=v._query;const b=new Il(u);l={next:D=>{e[r]&&e[r](new Jr(u,b,v,D))},error:e[r+1],complete:e[r+2]},JN(n._query)}const f=Dn(u);return GP(f,h,a,l)}function YL(n,e){n=nt(n,Yt);const t=Dn(n),r=a_(e)?e:{next:e};return $P(t,r)}function Lh(n,e){const t=Dn(n);return QP(t,e)}function YE(n,e,t){const r=t.docs.get(e._key),a=new Il(n);return new Or(n,a,e._key,r,new ol(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){T4(j_),zo(new hl("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new Yt(new N4(r.getProvider("auth-internal")),new D4(u,r.getProvider("app-check-internal")),pV(u,a),u);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),rs(Sw,Iw,e),rs(Sw,Iw,"esm2020")})();const KL="@firebase/firestore-compat",QL="0.4.5";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){if(typeof Uint8Array>"u")throw new oe("unimplemented","Uint8Arrays are not available in this environment.")}function kw(){if(!fV())throw new oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}let sR=class l_{constructor(e){this._delegate=e}static fromBase64String(e){return kw(),new l_(Rn.fromBase64String(e))}static fromUint8Array(e){return Ow(),new l_(Rn.fromUint8Array(e))}toBase64(){return kw(),this._delegate.toBase64()}toUint8Array(){return Ow(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n){return $L(n,["next","error","complete"])}function $L(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{enableIndexedDbPersistence(e,t){return sL(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return aL(e._delegate)}clearIndexedDbPersistence(e){return lL(e._delegate)}}class aR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof oa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){tL(this._delegate,e,t,r)}enableNetwork(){return uL(this._delegate)}disableNetwork(){return cL(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,N1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return oL(this._delegate)}onSnapshotsInSync(e){return YL(this._delegate,e)}get app(){if(!this._appCompat)throw new oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new lu(this,UN(this._delegate,e))}catch(t){throw Ln(t,"collection()","Firestore.collection()")}}doc(e){try{return new Dr(this,om(this._delegate,e))}catch(t){throw Ln(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Pn(this,nL(this._delegate,e))}catch(t){throw Ln(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return LL(this._delegate,t=>e(new lR(this,t)))}batch(){return Dn(this._delegate),new oR(new VL(this._delegate,e=>Lh(this._delegate,e)))}loadBundle(e){return hL(this._delegate,e)}namedQuery(e){return fL(this._delegate,e).then(t=>t?new Pn(this,t):null)}}class Fm extends FE{constructor(e){super(),this.firestore=e}convertBytes(e){return new sR(new Rn(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Dr.forKey(t,this.firestore,null)}}function WL(n){w4(n)}class lR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Fm(e)}get(e){const t=ul(e);return this._delegate.get(t).then(r=>new yh(this._firestore,new Or(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=ul(e);return r?(KE("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=ul(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=ul(e);return this._delegate.delete(t),this}}class oR{constructor(e){this._delegate=e}set(e,t,r){const a=ul(e);return r?(KE("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=ul(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=ul(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class bl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new $c(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _h(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=bl.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let l=a.get(t);return l||(l=new bl(e,new Fm(e),t),a.set(t,l)),l}}bl.INSTANCES=new WeakMap;class Dr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Fm(e)}static forPath(e,t,r){if(e.length%2!==0)throw new oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Dr(t,new vt(t._delegate,r,new ye(e)))}static forKey(e,t,r){return new Dr(t,new vt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new lu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new lu(this.firestore,UN(this._delegate,e))}catch(t){throw Ln(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=sn(e),e instanceof vt?BN(this._delegate,e):!1}set(e,t){t=KE("DocumentReference.set",t);try{return t?Cw(this._delegate,e,t):Cw(this._delegate,e)}catch(r){throw Ln(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?Dw(this._delegate,e):Dw(this._delegate,e,t,...r)}catch(a){throw Ln(a,"updateDoc()","DocumentReference.update()")}}delete(){return HL(this._delegate)}onSnapshot(...e){const t=uR(e),r=cR(e,a=>new yh(this.firestore,new Or(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return iR(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=UL(this._delegate):(e==null?void 0:e.source)==="server"?t=BL(this._delegate):t=jL(this._delegate),t.then(r=>new yh(this.firestore,new Or(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Dr(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ln(n,e,t){return n.message=n.message.replace(e,t),n}function uR(n){for(const e of n)if(typeof e=="object"&&!o_(e))return e;return{}}function cR(n,e){var r,a;let t;return o_(n[0])?t=n[0]:o_(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:l=>{t.next&&t.next(e(l))},error:(r=t.error)==null?void 0:r.bind(t),complete:(a=t.complete)==null?void 0:a.bind(t)}}class yh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Dr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return rR(this._delegate,e._delegate)}}class _h extends yh{data(e){const t=this._delegate.data(e);return this._delegate._converter||A4(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Pn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Fm(e)}where(e,t,r){try{return new Pn(this.firestore,Xs(this._delegate,TL(e,t,r)))}catch(a){throw Ln(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Pn(this.firestore,Xs(this._delegate,wL(e,t)))}catch(r){throw Ln(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Pn(this.firestore,Xs(this._delegate,AL(e)))}catch(t){throw Ln(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Pn(this.firestore,Xs(this._delegate,SL(e)))}catch(t){throw Ln(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Pn(this.firestore,Xs(this._delegate,IL(...e)))}catch(t){throw Ln(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Pn(this.firestore,Xs(this._delegate,NL(...e)))}catch(t){throw Ln(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Pn(this.firestore,Xs(this._delegate,RL(...e)))}catch(t){throw Ln(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Pn(this.firestore,Xs(this._delegate,CL(...e)))}catch(t){throw Ln(t,"endAt()","Query.endAt()")}}isEqual(e){return zN(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=FL(this._delegate):(e==null?void 0:e.source)==="server"?t=qL(this._delegate):t=zL(this._delegate),t.then(r=>new u_(this.firestore,new Jr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=uR(e),r=cR(e,a=>new u_(this.firestore,new Jr(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return iR(this._delegate,t,r)}withConverter(e){return new Pn(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class JL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new _h(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class u_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Pn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new _h(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new JL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new _h(this._firestore,r))})}isEqual(e){return rR(this._delegate,e._delegate)}}class lu extends Pn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Dr(this.firestore,e):null}doc(e){try{return e===void 0?new Dr(this.firestore,om(this._delegate)):new Dr(this.firestore,om(this._delegate,e))}catch(t){throw Ln(t,"doc()","CollectionReference.doc()")}}add(e){return GL(this._delegate,e).then(t=>new Dr(this.firestore,t))}isEqual(e){return BN(this._delegate,e._delegate)}withConverter(e){return new lu(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ul(n){return nt(n,vt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(...e){this._delegate=new xl(...e)}static documentId(){return new QE(Ct.keyField().canonicalString())}isEqual(e){return e=sn(e),e instanceof xl?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static serverTimestamp(){const e=_L();return e._methodName="FieldValue.serverTimestamp",new sl(e)}static delete(){const e=yL();return e._methodName="FieldValue.delete",new sl(e)}static arrayUnion(...e){const t=EL(...e);return t._methodName="FieldValue.arrayUnion",new sl(t)}static arrayRemove(...e){const t=xL(...e);return t._methodName="FieldValue.arrayRemove",new sl(t)}static increment(e){const t=vL(e);return t._methodName="FieldValue.increment",new sl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL={Firestore:aR,GeoPoint:Xr,Timestamp:lt,Blob:sR,Transaction:lR,WriteBatch:oR,DocumentReference:Dr,DocumentSnapshot:yh,Query:Pn,QueryDocumentSnapshot:_h,QuerySnapshot:u_,CollectionReference:lu,FieldPath:QE,FieldValue:sl,setLogLevel:WL,CACHE_SIZE_UNLIMITED:iL};function ej(n,e){n.INTERNAL.registerComponent(new hl("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(r,a)},"PUBLIC").setServiceProps({...ZL}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(n){ej(n,(e,t)=>new aR(e,t,new XL)),n.registerVersion(KL,QL)}tj(Fo);const nj={apiKey:"AIzaSyBQlXE3ZTGzEDp3U1YucSfbCUOz4oRRUEw",authDomain:"aasra-messaging-system.firebaseapp.com",projectId:"aasra-messaging-system",storageBucket:"aasra-messaging-system.appspot.com",messagingSenderId:"724660037659",appId:"1:724660037659:web:491959639bc5c298d0b0be",measurementId:"G-R1EPPS4QXT"};Fo.apps.length||Fo.initializeApp(nj);const al=Fo.firestore(),hR=Fo.firestore.FieldValue.serverTimestamp;var rj={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vw;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Vw||(Vw={}));var Mw;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Mw||(Mw={}));var Pw;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Pw||(Pw={}));var Lw;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Lw||(Lw={}));var jw;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(jw||(jw={}));var Uw;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Uw||(Uw={}));var Bw;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Bw||(Bw={}));var zw;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(zw||(zw={}));var Fw;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Fw||(Fw={}));var qw;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(qw||(qw={}));var Hw;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Hw||(Hw={}));var Gw;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Gw||(Gw={}));var Yw;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Yw||(Yw={}));var Kw;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Kw||(Kw={}));var Qw;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Qw||(Qw={}));var $w;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})($w||($w={}));var Xw;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Xw||(Xw={}));var Ww;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ww||(Ww={}));var Jw;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Jw||(Jw={}));var Zw;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Zw||(Zw={}));var eA;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(eA||(eA={}));var tA;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(tA||(tA={}));var nA;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nA||(nA={}));var rA;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rA||(rA={}));var iA;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(iA||(iA={}));var sA;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(sA||(sA={}));var aA;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(aA||(aA={}));var lA;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(lA||(lA={}));var oA;(function(n){n.COLLECTION="COLLECTION"})(oA||(oA={}));var uA;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(uA||(uA={}));var cA;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(cA||(cA={}));var hA;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(hA||(hA={}));var fA;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(fA||(fA={}));var dA;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(dA||(dA={}));var mA;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(mA||(mA={}));var pA;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pA||(pA={}));var gA;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gA||(gA={}));var yA;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yA||(yA={}));var _A;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(_A||(_A={}));var EA;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(EA||(EA={}));var xA;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(xA||(xA={}));var vA;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(vA||(vA={}));var bA;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING",n.DISTILLATION="DISTILLATION"})(bA||(bA={}));var TA;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(TA||(TA={}));var wA;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(wA||(wA={}));var AA;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(AA||(AA={}));var SA;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(SA||(SA={}));var IA;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(IA||(IA={}));var NA;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(NA||(NA={}));var RA;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(RA||(RA={}));var CA;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(CA||(CA={}));var DA;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(DA||(DA={}));var OA;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(OA||(OA={}));var kA;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kA||(kA={}));var VA;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(VA||(VA={}));var MA;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(MA||(MA={}));var PA;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(PA||(PA={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var LA;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(LA||(LA={}));function cm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function jA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vt(n){return this instanceof Vt?(this.v=n,this):new Vt(n)}function Xc(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(b){return function(D){return Promise.resolve(D).then(b,_)}}function h(b,D){r[b]&&(a[b]=function(M){return new Promise(function(O,B){l.push([b,M,O,B])>1||f(b,M)})},D&&(a[b]=D(a[b])))}function f(b,D){try{m(r[b](D))}catch(M){v(l[0][3],M)}}function m(b){b.value instanceof Vt?Promise.resolve(b.value.v).then(y,_):v(l[0][2],b)}function y(b){f("next",b)}function _(b){f("throw",b)}function v(b,D){b(D),l.shift(),l.length&&f(l[0][0],l[0][1])}}function Mo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof jA=="function"?jA(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(l){t[l]=n[l]&&function(u){return new Promise(function(h,f){u=n[l](u),a(h,f,u.done,u.value)})}}function a(l,u,h,f){Promise.resolve(f).then(function(m){l({value:m,done:h})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let fR=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return fR=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^t()&15>>+r/4).toString(16))};const ij=()=>fR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c_(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const h_=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kr extends Error{}class Bn extends kr{constructor(e,t,r,a){super(`${Bn.makeMessage(e,t,r)}`),this.status=e,this.headers=a,this.error=t}static makeMessage(e,t,r){const a=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,t,r,a){if(!e||!a)return new qm({message:r,cause:h_(t)});const l=t;return e===400?new mR(e,l,r,a):e===401?new pR(e,l,r,a):e===403?new gR(e,l,r,a):e===404?new yR(e,l,r,a):e===409?new _R(e,l,r,a):e===422?new ER(e,l,r,a):e===429?new xR(e,l,r,a):e>=500?new vR(e,l,r,a):new Bn(e,l,r,a)}}class f_ extends Bn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class qm extends Bn{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class dR extends qm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class mR extends Bn{}class pR extends Bn{}class gR extends Bn{}class yR extends Bn{}class _R extends Bn{}class ER extends Bn{}class xR extends Bn{}class vR extends Bn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sj=/^[a-z][a-z0-9+.-]*:/i,aj=n=>sj.test(n);let d_=n=>(d_=Array.isArray,d_(n));const lj=d_;let oj=lj;const UA=oj;function uj(n){if(!n)return!0;for(const e in n)return!1;return!0}function cj(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const hj=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new kr(`${n} must be an integer`);if(e<0)throw new kr(`${n} must be a positive integer`);return e},fj=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dj=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Co="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mj(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const pj=()=>{var n,e,t,r,a;const l=mj();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":zA(Deno.build.os),"X-Stainless-Arch":BA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":zA((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":BA((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const u=gj();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function gj(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const a=r[1]||0,l=r[2]||0,u=r[3]||0;return{browser:e,version:`${a}.${l}.${u}`}}}return null}const BA=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",zA=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Ed;const yj=()=>Ed??(Ed=pj());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _j(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function bR(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function Ej(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return bR({start(){},async pull(t){const{done:r,value:a}=await e.next();r?t.close():t.enqueue(a)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function TR(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function xj(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const r=n.getReader(),a=r.cancel();r.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vj=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wR=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function my(n,e,t){return wR(),new File(n,e??"unknown_file",t)}function bj(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const Tj=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",wj=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&AR(n),Aj=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function Sj(n,e,t){if(wR(),n=await n,wj(n))return n instanceof File?n:my([await n.arrayBuffer()],n.name);if(Aj(n)){const a=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),my(await m_(a),e,t)}const r=await m_(n);if(e||(e=bj(n)),!(t!=null&&t.type)){const a=r.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof a=="string"&&(t=Object.assign(Object.assign({},t),{type:a}))}return my(r,e,t)}async function m_(n){var e,t,r,a,l;let u=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)u.push(n);else if(AR(n))u.push(n instanceof Blob?n:await n.arrayBuffer());else if(Tj(n))try{for(var h=!0,f=Mo(n),m;m=await f.next(),e=m.done,!e;h=!0){a=m.value,h=!1;const y=a;u.push(...await m_(y))}}catch(y){t={error:y}}finally{try{!h&&!e&&(r=f.return)&&await r.call(f)}finally{if(t)throw t.error}}else{const y=(l=n==null?void 0:n.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof n}${y?`; constructor: ${y}`:""}${Ij(n)}`)}return u}function Ij(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SR{constructor(e){this._client=e}}SR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IR(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const FA=Object.freeze(Object.create(null)),Nj=(n=IR)=>(function(t,...r){if(t.length===1)return t[0];let a=!1;const l=[],u=t.reduce((y,_,v)=>{var b,D,M;/[?#]/.test(_)&&(a=!0);const O=r[v];let B=(a?encodeURIComponent:n)(""+O);return v!==r.length&&(O==null||typeof O=="object"&&O.toString===((M=Object.getPrototypeOf((D=Object.getPrototypeOf((b=O.hasOwnProperty)!==null&&b!==void 0?b:FA))!==null&&D!==void 0?D:FA))===null||M===void 0?void 0:M.toString))&&(B=O+"",l.push({start:y.length+_.length,length:B.length,error:`Value of type ${Object.prototype.toString.call(O).slice(8,-1)} is not a valid path parameter`})),y+_+(v===r.length?"":B)},""),h=u.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=f.exec(h))!==null;)l.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(l.sort((y,_)=>y.start-_.start),l.length>0){let y=0;const _=l.reduce((v,b)=>{const D=" ".repeat(b.start-y),M="^".repeat(b.length);return y=b.start+b.length,v+D+M},"");throw new kr(`Path parameters result in path with invalid segments:
${l.map(v=>v.error).join(`
`)}
${u}
${_}`)}return u}),xd=Nj(IR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NR extends SR{create(e,t){var r;const{api_version:a=this._client.apiVersion}=e,l=cm(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new kr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new kr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xd`/${a}/interactions`,Object.assign(Object.assign({body:l},t),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,t={},r){const{api_version:a=this._client.apiVersion}=t??{};return this._client.delete(xd`/${a}/interactions/${e}`,r)}cancel(e,t={},r){const{api_version:a=this._client.apiVersion}=t??{};return this._client.post(xd`/${a}/interactions/${e}/cancel`,r)}get(e,t={},r){var a;const l=t??{},{api_version:u=this._client.apiVersion}=l,h=cm(l,["api_version"]);return this._client.get(xd`/${u}/interactions/${e}`,Object.assign(Object.assign({query:h},r),{stream:(a=t==null?void 0:t.stream)!==null&&a!==void 0?a:!1}))}}NR._key=Object.freeze(["interactions"]);class RR extends NR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rj(n){let e=0;for(const a of n)e+=a.length;const t=new Uint8Array(e);let r=0;for(const a of n)t.set(a,r),r+=a.length;return t}let vd;function $E(n){let e;return(vd??(e=new globalThis.TextEncoder,vd=e.encode.bind(e)))(n)}let bd;function qA(n){let e;return(bd??(e=new globalThis.TextDecoder,bd=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hm{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?$E(e):e;this.buffer=Rj([this.buffer,t]);const r=[];let a;for(;(a=Cj(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){r.push(qA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,u=qA(this.buffer.subarray(0,l));r.push(u),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Hm.NEWLINE_CHARS=new Set([`
`,"\r"]);Hm.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Cj(n,e){for(let a=e??0;a<n.length;a++){if(n[a]===10)return{preceding:a,index:a+1,carriage:!1};if(n[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function Dj(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hm={off:0,error:200,warn:300,info:400,debug:500},HA=(n,e,t)=>{if(n){if(cj(hm,n))return n;Mn(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(hm))}`)}};function Uc(){}function Td(n,e,t){return!e||hm[n]>hm[t]?Uc:e[n].bind(e)}const Oj={error:Uc,warn:Uc,info:Uc,debug:Uc};let GA=new WeakMap;function Mn(n){var e;const t=n.logger,r=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return Oj;const a=GA.get(t);if(a&&a[0]===r)return a[1];const l={error:Td("error",t,r),warn:Td("warn",t,r),info:Td("info",t,r),debug:Td("debug",t,r)};return GA.set(t,[r,l]),l}const el=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Do{constructor(e,t,r){this.iterator=e,this.controller=t,this.client=r}static fromSSEResponse(e,t,r){let a=!1;const l=r?Mn(r):console;function u(){return Xc(this,arguments,function*(){var f,m,y,_;if(a)throw new kr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let v=!1;try{try{for(var b=!0,D=Mo(kj(e,t)),M;M=yield Vt(D.next()),f=M.done,!f;b=!0){_=M.value,b=!1;const O=_;if(!v)if(O.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield Vt(JSON.parse(O.data))}catch(B){throw l.error("Could not parse message into JSON:",O.data),l.error("From chunk:",O.raw),B}}}catch(O){m={error:O}}finally{try{!b&&!f&&(y=D.return)&&(yield Vt(y.call(D)))}finally{if(m)throw m.error}}v=!0}catch(O){if(c_(O))return yield Vt(void 0);throw O}finally{v||t.abort()}})}return new Do(u,t,r)}static fromReadableStream(e,t,r){let a=!1;function l(){return Xc(this,arguments,function*(){var f,m,y,_;const v=new Hm,b=TR(e);try{for(var D=!0,M=Mo(b),O;O=yield Vt(M.next()),f=O.done,!f;D=!0){_=O.value,D=!1;const B=_;for(const J of v.decode(B))yield yield Vt(J)}}catch(B){m={error:B}}finally{try{!D&&!f&&(y=M.return)&&(yield Vt(y.call(M)))}finally{if(m)throw m.error}}for(const B of v.flush())yield yield Vt(B)})}function u(){return Xc(this,arguments,function*(){var f,m,y,_;if(a)throw new kr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let v=!1;try{try{for(var b=!0,D=Mo(l()),M;M=yield Vt(D.next()),f=M.done,!f;b=!0){_=M.value,b=!1;const O=_;v||O&&(yield yield Vt(JSON.parse(O)))}}catch(O){m={error:O}}finally{try{!b&&!f&&(y=D.return)&&(yield Vt(y.call(D)))}finally{if(m)throw m.error}}v=!0}catch(O){if(c_(O))return yield Vt(void 0);throw O}finally{v||t.abort()}})}return new Do(u,t,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),a=l=>({next:()=>{if(l.length===0){const u=r.next();e.push(u),t.push(u)}return l.shift()}});return[new Do(()=>a(e),this.controller,this.client),new Do(()=>a(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return bR({async start(){t=e[Symbol.asyncIterator]()},async pull(r){try{const{value:a,done:l}=await t.next();if(l)return r.close();const u=$E(JSON.stringify(a)+`
`);r.enqueue(u)}catch(a){r.error(a)}},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}}function kj(n,e){return Xc(this,arguments,function*(){var r,a,l,u;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new kr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new kr("Attempted to iterate over a response with no body");const h=new Mj,f=new Hm,m=TR(n.body);try{for(var y=!0,_=Mo(Vj(m)),v;v=yield Vt(_.next()),r=v.done,!r;y=!0){u=v.value,y=!1;const b=u;for(const D of f.decode(b)){const M=h.decode(D);M&&(yield yield Vt(M))}}}catch(b){a={error:b}}finally{try{!y&&!r&&(l=_.return)&&(yield Vt(l.call(_)))}finally{if(a)throw a.error}}for(const b of f.flush()){const D=h.decode(b);D&&(yield yield Vt(D))}})}function Vj(n){return Xc(this,arguments,function*(){var t,r,a,l;let u=new Uint8Array;try{for(var h=!0,f=Mo(n),m;m=yield Vt(f.next()),t=m.done,!t;h=!0){l=m.value,h=!1;const y=l;if(y==null)continue;const _=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?$E(y):y;let v=new Uint8Array(u.length+_.length);v.set(u),v.set(_,u.length),u=v;let b;for(;(b=Dj(u))!==-1;)yield yield Vt(u.slice(0,b)),u=u.slice(b)}}catch(y){r={error:y}}finally{try{!h&&!t&&(a=f.return)&&(yield Vt(a.call(f)))}finally{if(r)throw r.error}}u.length>0&&(yield yield Vt(u))})}class Mj{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,a]=Pj(e,":");return a.startsWith(" ")&&(a=a.substring(1)),t==="event"?this.event=a:t==="data"&&this.data.push(a),null}}function Pj(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Lj(n,e){const{response:t,requestLogID:r,retryOfRequestLogID:a,startTime:l}=e,u=await(async()=>{var h;if(e.options.stream)return Mn(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Do.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const f=t.headers.get("content-type"),m=(h=f==null?void 0:f.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?t.headers.get("content-length")==="0"?void 0:await t.json():await t.text()})();return Mn(n).debug(`[${r}] response parsed`,el({retryOfRequestLogID:a,url:t.url,status:t.status,body:u,durationMs:Date.now()-l})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XE extends Promise{constructor(e,t,r=Lj){super(a=>{a(null)}),this.responsePromise=t,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new XE(this.client,this.responsePromise,async(t,r)=>e(await this.parseResponse(t,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CR=Symbol("brand.privateNullableHeaders");function*jj(n){if(!n)return;if(CR in n){const{values:r,nulls:a}=n;yield*r.entries();for(const l of a)yield[l,null];return}let e=!1,t;n instanceof Headers?t=n.entries():UA(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let r of t){const a=r[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const l=UA(r[1])?r[1]:[r[1]];let u=!1;for(const h of l)h!==void 0&&(e&&!u&&(u=!0,yield[a,null]),yield[a,h])}}const Rc=n=>{const e=new Headers,t=new Set;for(const r of n){const a=new Set;for(const[l,u]of jj(r)){const h=l.toLowerCase();a.has(h)||(e.delete(l),a.add(h)),u===null?(e.delete(l),t.add(h)):(e.append(l,u),t.delete(h))}}return{[CR]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const py=n=>{var e,t,r,a,l,u;if(typeof globalThis.process<"u")return(r=(t=(e=rj)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(u=(l=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||l===void 0?void 0:l.call(a,n))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var DR;class Gm{constructor(e){var t,r,a,l,u,h,f,{baseURL:m=py("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(t=py("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:_="v1beta"}=e,v=cm(e,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:y,apiVersion:_},v),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(r=b.timeout)!==null&&r!==void 0?r:Gm.DEFAULT_TIMEOUT,this.logger=(a=b.logger)!==null&&a!==void 0?a:console;const D="warn";this.logLevel=D,this.logLevel=(u=(l=HA(b.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:HA(py("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:D,this.fetchOptions=b.fetchOptions,this.maxRetries=(h=b.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(f=b.fetch)!==null&&f!==void 0?f:_j(),this.encoder=vj,this._options=b,this.apiKey=y,this.apiVersion=_,this.clientAdapter=b.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=Rc([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return Rc([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Rc([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,r])=>typeof r<"u").map(([t,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(t)}=`;throw new kr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Co}`}defaultIdempotencyKey(){return`stainless-node-retry-${ij()}`}makeStatusError(e,t,r,a){return Bn.generate(e,t,r,a)}buildURL(e,t,r){const a=!this.baseURLOverridden()&&r||this.baseURL,l=aj(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return uj(u)||(t=Object.assign(Object.assign({},u),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(l.search=this.stringifyQuery(t)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(a=>Object.assign({method:e,path:t},a)))}request(e,t=null){return new XE(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){var a,l,u;const h=await e,f=(a=h.maxRetries)!==null&&a!==void 0?a:this.maxRetries;t==null&&(t=f),await this.prepareOptions(h);const{req:m,url:y,timeout:_}=await this.buildRequest(h,{retryCount:f-t});await this.prepareRequest(m,{url:y,options:h});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=r===void 0?"":`, retryOf: ${r}`,D=Date.now();if(Mn(this).debug(`[${v}] sending request`,el({retryOfRequestLogID:r,method:h.method,url:y,options:h,headers:m.headers})),!((l=h.signal)===null||l===void 0)&&l.aborted)throw new f_;const M=new AbortController,O=await this.fetchWithTimeout(y,m,_,M).catch(h_),B=Date.now();if(O instanceof globalThis.Error){const q=`retrying, ${t} attempts remaining`;if(!((u=h.signal)===null||u===void 0)&&u.aborted)throw new f_;const he=c_(O)||/timed? ?out/i.test(String(O)+("cause"in O?String(O.cause):""));if(t)return Mn(this).info(`[${v}] connection ${he?"timed out":"failed"} - ${q}`),Mn(this).debug(`[${v}] connection ${he?"timed out":"failed"} (${q})`,el({retryOfRequestLogID:r,url:y,durationMs:B-D,message:O.message})),this.retryRequest(h,t,r??v);throw Mn(this).info(`[${v}] connection ${he?"timed out":"failed"} - error; no more retries left`),Mn(this).debug(`[${v}] connection ${he?"timed out":"failed"} (error; no more retries left)`,el({retryOfRequestLogID:r,url:y,durationMs:B-D,message:O.message})),he?new dR:new qm({cause:O})}const J=`[${v}${b}] ${m.method} ${y} ${O.ok?"succeeded":"failed"} with status ${O.status} in ${B-D}ms`;if(!O.ok){const q=await this.shouldRetry(O);if(t&&q){const C=`retrying, ${t} attempts remaining`;return await xj(O.body),Mn(this).info(`${J} - ${C}`),Mn(this).debug(`[${v}] response error (${C})`,el({retryOfRequestLogID:r,url:O.url,status:O.status,headers:O.headers,durationMs:B-D})),this.retryRequest(h,t,r??v,O.headers)}const he=q?"error; no more retries left":"error; not retryable";Mn(this).info(`${J} - ${he}`);const fe=await O.text().catch(C=>h_(C).message),K=fj(fe),S=K?void 0:fe;throw Mn(this).debug(`[${v}] response error (${he})`,el({retryOfRequestLogID:r,url:O.url,status:O.status,headers:O.headers,message:S,durationMs:Date.now()-D})),this.makeStatusError(O.status,K,S,O.headers)}return Mn(this).info(J),Mn(this).debug(`[${v}] response start`,el({retryOfRequestLogID:r,url:O.url,status:O.status,headers:O.headers,durationMs:B-D})),{response:O,options:h,controller:M,requestLogID:v,retryOfRequestLogID:r,startTime:D}}async fetchWithTimeout(e,t,r,a){const l=t||{},{signal:u,method:h}=l,f=cm(l,["signal","method"]),m=this._makeAbort(a);u&&u.addEventListener("abort",m,{once:!0});const y=setTimeout(m,r),_=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,v=Object.assign(Object.assign(Object.assign({signal:a.signal},_?{duplex:"half"}:{}),{method:"GET"}),f);h&&(v.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(y)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r,a){var l;let u;const h=a==null?void 0:a.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(u=m)}const f=a==null?void 0:a.get("retry-after");if(f&&!u){const m=parseFloat(f);Number.isNaN(m)?u=Date.parse(f)-Date.now():u=m*1e3}if(!(u&&0<=u&&u<60*1e3)){const m=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(t,m)}return await dj(u),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){const l=t-e,u=Math.min(.5*Math.pow(2,l),8),h=1-Math.random()*.25;return u*h*1e3}async buildRequest(e,{retryCount:t=0}={}){var r,a,l;const u=Object.assign({},e),{method:h,path:f,query:m,defaultBaseURL:y}=u,_=this.buildURL(f,m,y);"timeout"in u&&hj("timeout",u.timeout),u.timeout=(r=u.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:b}=this.buildBody({options:u}),D=await this.buildHeaders({options:e,method:h,bodyHeaders:v,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:D},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(l=u.fetchOptions)!==null&&l!==void 0?l:{}),url:_,timeout:u.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:a}){let l={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let h=Rc([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),yj()),this._options.defaultHeaders,r,e.headers,u]);return this.validateHeaders(h),h.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Rc([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Ej(e)}:this.encoder({body:e,headers:r})}}Gm.DEFAULT_TIMEOUT=6e4;class Tn extends Gm{constructor(){super(...arguments),this.interactions=new RR(this)}}DR=Tn;Tn.GeminiNextGenAPIClient=DR;Tn.GeminiNextGenAPIClientError=kr;Tn.APIError=Bn;Tn.APIConnectionError=qm;Tn.APIConnectionTimeoutError=dR;Tn.APIUserAbortError=f_;Tn.NotFoundError=yR;Tn.ConflictError=_R;Tn.RateLimitError=xR;Tn.BadRequestError=mR;Tn.AuthenticationError=pR;Tn.InternalServerError=vR;Tn.PermissionDeniedError=gR;Tn.UnprocessableEntityError=ER;Tn.toFile=Sj;Tn.Interactions=RR;const Uj=({end:n,duration:e=2e3})=>{const[t,r]=te.useState(0),a=te.useRef(null),[l,u]=te.useState(!1);return te.useEffect(()=>{const h=new IntersectionObserver(f=>{if(f[0].isIntersecting&&!l){let m=0;const y=n/(e/16),_=setInterval(()=>{m+=y,m>=n?(r(n),clearInterval(_)):r(Math.floor(m))},16);u(!0)}},{threshold:.1});return a.current&&h.observe(a.current),()=>h.disconnect()},[n,e,l]),E.jsx("span",{ref:a,children:t.toLocaleString()})},Bj=({data:n})=>{const[e,t]=te.useState(0);return te.useEffect(()=>{const r=setInterval(()=>{t(a=>(a+1)%n.sliders.length)},6e3);return()=>clearInterval(r)},[n.sliders.length]),E.jsxs("div",{className:"overflow-hidden",children:[E.jsxs("section",{className:"relative h-[80vh] md:h-[90vh] overflow-hidden",children:[n.sliders.map((r,a)=>E.jsxs("div",{className:`absolute inset-0 transition-all duration-1000 transform ${a===e?"opacity-100 scale-100 z-10":"opacity-0 scale-105 z-0"}`,children:[E.jsx("img",{src:r.url,alt:r.title,className:"w-full h-full object-cover"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent flex items-center",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 w-full",children:E.jsxs("div",{className:`max-w-4xl transition-all duration-1000 delay-300 transform ${a===e?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,children:[E.jsx("span",{className:"inline-block bg-[#07847F] text-white text-[10px] font-black uppercase tracking-[0.5em] px-6 py-2.5 rounded-full mb-8 shadow-2xl",children:"SERVING WITH IHSAN"}),E.jsx("h2",{className:"text-white text-5xl md:text-8xl font-black mb-8 leading-[1.0] md:leading-[0.9] drop-shadow-2xl tracking-tighter text-balance uppercase",children:r.title}),E.jsx("p",{className:"text-slate-200 text-base md:text-2xl mb-10 opacity-95 font-medium max-w-2xl border-l-8 border-[#07847F] pl-8 leading-relaxed font-serif italic",children:r.subtitle}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[E.jsxs(At,{to:"/donate",className:"bg-orange-600 hover:bg-orange-700 text-white px-12 py-5 rounded-2xl font-black text-xs shadow-2xl transition-all flex items-center justify-center gap-4 group uppercase tracking-widest",children:[E.jsx("i",{className:"fa-solid fa-heart group-hover:scale-125 transition-transform"}),"Donate Now"]}),E.jsx(At,{to:"/about",className:"bg-white/10 backdrop-blur-3xl text-white border-2 border-white/20 hover:bg-white hover:text-[#07847F] px-12 py-5 rounded-2xl font-black text-xs transition-all flex items-center justify-center shadow-2xl uppercase tracking-widest",children:"Learn More"})]})]})})})]},r.id)),E.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 z-20 flex space-x-4",children:n.sliders.map((r,a)=>E.jsx("button",{onClick:()=>t(a),className:`h-2 transition-all duration-700 rounded-full ${a===e?"bg-orange-500 w-20 shadow-xl shadow-orange-500/50":"bg-white/30 w-8 hover:bg-white/60"}`},a))})]}),E.jsxs("section",{className:"bg-white py-24 border-b border-slate-100 relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 pointer-events-none",children:E.jsx("i",{className:"fa-solid fa-hands-praying text-[20rem]"})}),E.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center reveal",children:E.jsxs("p",{className:"text-sky-950 text-xl md:text-4xl font-medium tracking-tight italic opacity-95 font-serif max-w-5xl mx-auto leading-tight drop-shadow-sm",children:['"The example of those who spend their wealth in the way of Allah is like a seed of grain which grows seven ears; in each ear is a hundred grains."',E.jsx("span",{className:"block mt-8 text-[#07847F] not-italic font-black text-[10px] md:text-xs uppercase tracking-[0.5em]",children:" Surah Al-Baqarah 2:261"})]})})]}),E.jsx("section",{className:"py-24 bg-slate-50 relative",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-16 md:gap-24",children:[E.jsx("div",{className:"lg:w-1/2 reveal-left",children:E.jsxs("div",{className:"relative",children:[E.jsx("img",{src:"https://i.postimg.cc/ZYcbpqJd/about.png",alt:"About AASRA",className:"w-full h-[400px] md:h-[650px] object-cover rounded-[3rem] shadow-2xl relative z-10 "}),E.jsxs("div",{className:"absolute -bottom-10 -right-10 bg-orange-600 p-8 rounded-[2rem] shadow-2xl z-20 text-white animate-float hidden md:block",children:[E.jsx("p",{className:"text-4xl font-black tracking-tighter",children:"5+"}),E.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:"Years of Service"})]})]})}),E.jsxs("div",{className:"lg:w-1/2 reveal-right",children:[E.jsx("span",{className:"text-[#07847F] font-black uppercase tracking-[0.4em] text-[9px] mb-6 block",children:"WHO WE ARE"}),E.jsxs("h2",{className:"text-4xl md:text-6xl font-black text-sky-950 tracking-tighter leading-none mb-10",children:["Healing Hearts, ",E.jsx("br",{}),E.jsx("span",{className:"text-[#07847F] italic font-serif",children:"Restoring Hope."})]}),E.jsx("p",{className:"text-slate-500 text-lg md:text-xl font-medium mb-10 leading-relaxed font-serif italic border-l-4 border-slate-100 pl-8",children:"AASRA Welfare Society is more than an organization; it is a movement of compassion dedicated to uplifting the most vulnerable members of our society."}),E.jsx("div",{className:"space-y-6 mb-12",children:E.jsx("p",{className:"text-slate-600 leading-relaxed text-base",children:"Founded in 20, we began with a simple mission: to ensure no child is left behind. Today, we manage holistic programs spanning across orphan care, clean water, and food security."})}),E.jsxs(At,{to:"/about",className:"bg-[#07847F] text-white px-12 py-5 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:opacity-90 transition-all flex items-center justify-center lg:inline-flex gap-3 group",children:["Read Full Story ",E.jsx("i",{className:"fa-solid fa-arrow-right group-hover:translate-x-2 transition-transform"})]})]})]})})}),E.jsx("section",{className:"py-24 bg-[#07847F] reveal-zoom",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[{label:"Orphans Supported",value:32,icon:"fa-child-reaching"},{label:"Water Projects",value:170,icon:"fa-faucet-drip"},{label:"Food Served",value:5e3,icon:"fa-bowl-food"},{label:"Beneficiaries",value:12e3,icon:"fa-people-group"}].map((r,a)=>E.jsxs("div",{className:"bg-white p-10 rounded-[2.5rem] shadow-2xl flex flex-col items-center text-center gap-6 group hover:-translate-y-2 transition-all duration-500 border border-white/10",children:[E.jsx("div",{className:"w-16 h-16 bg-[#07847F] text-white rounded-2xl flex items-center justify-center text-2xl shadow-lg group-hover:scale-110 transition-all border border-white/20",children:E.jsx("i",{className:`fa-solid ${r.icon} text-white`})}),E.jsxs("div",{children:[E.jsxs("p",{className:"text-3xl md:text-4xl font-black text-sky-950 tracking-tighter mb-2",children:[E.jsx(Uj,{end:r.value}),"+"]}),E.jsx("p",{className:"text-[9px] font-semibold text-sky-950 uppercase tracking-[0.3em]",children:r.label})]})]},a))})})}),E.jsx("section",{className:"py-24 bg-white relative overflow-hidden",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[E.jsxs("div",{className:"text-center mb-16 reveal",children:[E.jsx("span",{className:"text-[#07847F] font-black uppercase tracking-[0.4em] text-[9px] mb-4 block",children:"OUR JOURNEY"}),E.jsx("h2",{className:"text-4xl md:text-6xl font-black text-sky-950 tracking-tighter leading-none mb-6 uppercase",children:"Major Achievements"}),E.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto text-lg",children:"Milestones that define our commitment to excellence and service."})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:n.achievements.map(r=>E.jsxs("div",{className:"group bg-white rounded-[2.5rem] overflow-hidden border border-slate-100 shadow-xl hover:-translate-y-2 transition-all duration-500 flex flex-col reveal-zoom",children:[E.jsx("div",{className:"h-64 overflow-hidden relative",children:E.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-[2000ms]"})}),E.jsxs("div",{className:"p-10 flex flex-col flex-grow",children:[E.jsx("h3",{className:"text-xl font-black text-sky-950 mb-2 tracking-tight uppercase leading-tight group-hover:text-[#07847F] transition-colors",children:r.title}),E.jsx("span",{className:"text-[#07847F] font-semibold text-[10px] uppercase tracking-widest mb-4",children:r.date}),E.jsx("p",{className:"text-slate-500 text-sm leading-relaxed opacity-90",children:r.text}),E.jsx("div",{className:"mt-8 pt-8 border-t border-slate-50",children:E.jsxs("span",{className:"text-[#07847F] font-black text-[9px] uppercase tracking-[0.3em] flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-award"})," AASRA Milestone"]})})]})]},r.id))})]})}),E.jsx("section",{className:"py-24 bg-sky-950 overflow-hidden",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-12 gap-8 reveal",children:[E.jsxs("div",{className:"max-w-2xl",children:[E.jsx("span",{className:"text-teal-400 font-black uppercase tracking-[0.4em] text-[10px] mb-4 block",children:"ACTIVE APPEALS"}),E.jsxs("h2",{className:"text-3xl md:text-5xl font-black text-white tracking-tighter leading-none uppercase",children:["Our Current ",E.jsx("span",{className:"text-teal-400 italic font-serif",children:"Appeals"})]})]}),E.jsxs("div",{className:"hidden md:flex flex-col items-end gap-2 pb-2",children:[E.jsxs("div",{className:"flex gap-1.5",children:[E.jsx("div",{className:"w-8 h-1 rounded-full bg-teal-400"}),E.jsx("div",{className:"w-2 h-1 rounded-full bg-white/20"}),E.jsx("div",{className:"w-2 h-1 rounded-full bg-white/20"})]}),E.jsx("p",{className:"text-slate-400 text-[9px] font-black uppercase tracking-[0.2em] mr-1",children:"Swipe for more"})]})]}),E.jsxs("div",{className:"flex gap-5 md:gap-8 overflow-x-auto pb-10 no-scrollbar snap-x snap-mandatory",children:[n.campaigns.map((r,a)=>E.jsxs("div",{className:`
                    w-[75%] md:w-[calc(33.333%-1.35rem)] 
                    bg-white rounded-[2.5rem] 
                    overflow-hidden shadow-2xl
                    border border-white/5 flex-shrink-0 snap-center group flex flex-col
                 `,children:[E.jsx("div",{className:"w-full aspect-[4/3] overflow-hidden",children:E.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"})}),E.jsxs("div",{className:"p-6 md:p-8 flex flex-col flex-grow bg-white",children:[E.jsx("span",{className:"inline-block text-[#07847F] text-[7px] md:text-[8px] font-black mb-3 uppercase tracking-widest",children:"Urgent Need"}),E.jsx("h3",{className:"text-sky-950 text-base md:text-xl font-black mb-6 leading-tight tracking-tight uppercase line-clamp-2 h-12 md:h-14",children:r.title}),E.jsxs(At,{to:r.link,className:"inline-flex items-center gap-2 bg-[#07847F] text-white px-6 py-4 rounded-xl font-black text-[8px] md:text-[9px] uppercase tracking-widest text-center shadow-md hover:bg-orange-600 transition-all w-full justify-center",children:["Donate Now ",E.jsx("i",{className:"fa-solid fa-arrow-right text-[8px]"})]})]})]},r.id)),E.jsx("div",{className:"min-w-[5%] md:hidden flex-shrink-0"})]})]})}),E.jsx("section",{className:"py-24 bg-white",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[E.jsxs("div",{className:"text-center mb-16 reveal",children:[E.jsx("span",{className:"text-[#07847F] font-black uppercase tracking-[0.4em] text-[9px] mb-4 block",children:"TRANSFORMATIVE ACTION"}),E.jsx("h2",{className:"text-4xl md:text-6xl font-black text-sky-950 tracking-tighter leading-none mb-6 uppercase",children:"Our Impact Programs"}),E.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto text-lg",children:"Holistic solutions tackling poverty at its roots."})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.programs.map(r=>E.jsxs("div",{className:"group bg-white rounded-[2.5rem] overflow-hidden border border-slate-100 hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 flex flex-col reveal-zoom",children:[E.jsx("div",{className:"h-56 overflow-hidden relative",children:E.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-[2000ms]"})}),E.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[E.jsx("h3",{className:"text-xl font-black text-sky-950 mb-4 tracking-tight uppercase leading-tight",children:r.title}),E.jsx("p",{className:"text-slate-500 text-sm leading-relaxed mb-8 flex-grow",children:r.description}),E.jsxs(At,{to:`/programs/${r.id}`,className:"text-[#07847F] font-black text-[10px] uppercase tracking-widest flex items-center gap-2 group-hover:gap-4 transition-all",children:["View Impact ",E.jsx("i",{className:"fa-solid fa-arrow-right"})]})]})]},r.id))})]})}),E.jsx("section",{className:"py-12 bg-slate-50",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsxs("div",{className:"bg-[#07847F] rounded-[3rem] p-10 md:p-16 text-white relative overflow-hidden flex flex-col lg:flex-row items-center gap-12 reveal-zoom border border-[#05635f] shadow-2xl",children:[E.jsxs("div",{className:"lg:w-1/2 relative z-10 text-center lg:text-left",children:[E.jsx("span",{className:"text-orange-400 font-black uppercase tracking-[0.4em] text-[10px] mb-6 block",children:"ZAKAT OBLIGATION"}),E.jsxs("h2",{className:"text-4xl md:text-5xl font-black tracking-tighter mb-8 uppercase leading-[1.1]",children:["Purify Your Wealth with ",E.jsx("span",{className:"text-orange-400 italic font-serif",children:"AASRA Zakat Fund."})]}),E.jsx("p",{className:"text-slate-300 text-base md:text-lg font-medium mb-10 leading-relaxed",children:"Your Zakat is distributed according to Sharia principles to orphans, widows, and those in extreme poverty."}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[E.jsx(At,{to:"/zakat",className:"bg-orange-600 text-white px-10 py-5 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:bg-orange-700 transition-all text-center",children:"Calculate Zakat"}),E.jsx(At,{to:"/donate",className:"bg-white/10 text-white border border-white/20 px-10 py-5 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-white hover:text-sky-950 transition-all text-center",children:"Donate Zakat"})]})]}),E.jsxs("div",{className:"lg:w-1/2 relative flex justify-center",children:[E.jsx("div",{className:"w-full max-w-sm aspect-square bg-white/5 rounded-full blur-[100px] absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"}),E.jsx("img",{src:"https://i.postimg.cc/ZKqWqM1z/IMG-4188.webp",alt:"Background",className:"w-100 md:w-100 rounded-3xl object-cover relative z-10"})]})]})})}),E.jsxs("section",{className:"bg-[#07847F] py-24 text-white relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 opacity-10 flex items-center justify-center scale-150 pointer-events-none",children:E.jsx("i",{className:"fa-solid fa-kaaba text-[30rem]"})}),E.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center relative z-10 reveal",children:E.jsxs("p",{className:"text-2xl md:text-5xl font-medium tracking-tight italic font-serif max-w-4xl mx-auto leading-tight",children:['"Protect yourself from hell-fire even by giving a piece of a date in charity."',E.jsx("span",{className:"block mt-8 text-orange-400 not-italic font-black text-[10px] md:text-xs uppercase tracking-[0.5em]",children:" Al-Bukhari & Muslim"})]})})]}),E.jsx("section",{className:"py-24 bg-white relative overflow-hidden",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[E.jsxs("div",{className:"text-center mb-16 reveal",children:[E.jsx("span",{className:"text-[#07847F] font-black uppercase tracking-[0.4em] text-[9px] mb-4 block",children:"EXECUTIVE LEADERSHIP"}),E.jsx("h2",{className:"text-4xl md:text-6xl font-black text-sky-950 tracking-tighter leading-none mb-6 uppercase",children:"The Hearts of AASRA"})]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 md:gap-8",children:n.team.map(r=>E.jsxs("div",{className:"group flex flex-col items-center reveal-zoom",children:[E.jsx("div",{className:"w-full aspect-[4/5] overflow-hidden rounded-[2rem] shadow-lg border border-slate-100 mb-6 bg-slate-50",children:E.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 grayscale hover:grayscale-0"})}),E.jsxs("div",{className:"text-center",children:[E.jsx("h3",{className:"text-sm md:text-base font-black text-sky-950 tracking-tight uppercase leading-tight mb-1",children:r.name}),E.jsx("p",{className:"text-[#07847F] font-black text-[8px] md:text-[9px] uppercase tracking-[0.2em]",children:r.role})]})]},r.id))})]})}),E.jsx("section",{className:"py-24 bg-slate-50",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-8 reveal",children:[E.jsxs("div",{className:"max-w-2xl",children:[E.jsx("span",{className:"text-orange-600 font-black uppercase tracking-[0.4em] text-[9px] mb-6 block",children:"VOICES OF CHANGE"}),E.jsx("h2",{className:"text-4xl md:text-6xl font-black text-sky-950 tracking-tighter leading-none uppercase",children:"Recent Stories"})]}),E.jsxs(At,{to:"/gallery",className:"text-[#07847F] font-black text-[10px] uppercase tracking-widest hover:underline flex items-center gap-2 mb-2",children:["View All ",E.jsx("i",{className:"fa-solid fa-arrow-right"})]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.posts.map(r=>E.jsxs("div",{className:"bg-white rounded-[2rem] overflow-hidden shadow-lg border border-slate-100 flex flex-col group reveal-zoom",children:[E.jsx("div",{className:"h-56 overflow-hidden",children:E.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000"})}),E.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("span",{className:"text-[#07847F] font-black text-[9px] uppercase tracking-widest",children:r.category}),E.jsx("span",{className:"text-slate-400 text-[9px] font-bold",children:r.date})]}),E.jsx("h3",{className:"text-lg font-black text-sky-950 mb-4 tracking-tight leading-tight group-hover:text-[#07847F] transition-colors uppercase h-12 overflow-hidden",children:r.title}),E.jsx("p",{className:"text-slate-500 text-xs line-clamp-2 mb-8 leading-relaxed opacity-80",children:r.excerpt}),E.jsxs(At,{to:`/posts/${r.id}`,className:"text-[#07847F] font-black text-[10px] uppercase tracking-[0.2em] flex items-center gap-3 mt-auto",children:["Read More ",E.jsx("i",{className:"fa-solid fa-arrow-right text-[#07847F]"})]})]})]},r.id))})]})}),E.jsx("section",{className:"py-24 bg-white",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsxs("div",{className:"bg-sky-950 rounded-[3rem] p-10 md:p-20 text-white relative overflow-hidden flex flex-col lg:flex-row items-center gap-12 reveal-zoom",children:[E.jsxs("div",{className:"lg:w-1/2 relative z-10 text-center lg:text-left",children:[E.jsx("span",{className:"text-[#07847F] font-black uppercase tracking-[0.5em] text-[9px] mb-8 block",children:"BECOME AN AMBASSADOR"}),E.jsxs("h2",{className:"text-4xl md:text-6xl font-black tracking-tighter mb-10 uppercase",children:["Lend Your ",E.jsx("br",{}),E.jsx("span",{className:"text-[#07847F] italic font-serif",children:"Hands & Heart."})]}),E.jsx("p",{className:"text-slate-300 text-lg md:text-xl font-medium mb-12 leading-relaxed max-w-xl mx-auto lg:mx-0",children:"AASRA is built on the passion of selfless volunteers. Join our local and international network of change-makers today."}),E.jsx("button",{className:"bg-orange-600 text-white px-12 py-5 rounded-2xl font-black text-xs uppercase tracking-widest shadow-2xl hover:bg-orange-700 transition-all",children:"Register to Volunteer"})]}),E.jsx("div",{className:"lg:w-1/2 relative",children:E.jsx("img",{src:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=1200&fit=crop",alt:"Volunteer",className:"w-full h-[400px] md:h-[550px] object-cover rounded-[3rem] shadow-2xl relative z-10 grayscale hover:grayscale-0 transition-all duration-700"})})]})})})]})},zj=({data:n})=>E.jsxs("div",{className:"bg-white",children:[E.jsx("section",{className:"bg-sky-950 text-white py-24 text-center",children:E.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[E.jsx("h1",{className:"text-5xl font-extrabold mb-6",children:"Our Mission & Values"}),E.jsx("p",{className:"text-slate-300 text-xl font-light italic",children:'"Restoring dignity to every soul we touch."'})]})}),E.jsx("section",{className:"py-24 max-w-7xl mx-auto px-4",children:E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsx("h2",{className:"text-4xl font-extrabold text-sky-950",children:"A Journey of Hope Since 2021"}),E.jsx("p",{className:"text-slate-600 leading-relaxed",children:"AASRA Welfare Society started in a small room in Lahore with a handful of volunteers who noticed that many orphans were lacking basic schooling despite having shelter. We realized that true welfare is not just about survival, but about thriving with dignity."}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex gap-4",children:[E.jsx("div",{className:"w-1 bg-teal-500 rounded-full"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-sky-900",children:"2021: The Beginning"}),E.jsx("p",{className:"text-sm text-slate-500",children:"Founded with focus on 5 orphans in a small rented house."})]})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("div",{className:"w-1 bg-teal-500 rounded-full"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-sky-900",children:"202: Water Expansion"}),E.jsx("p",{className:"text-sm text-slate-500",children:"Launched our first deep well project in Tharparkar."})]})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("div",{className:"w-1 bg-teal-500 rounded-full"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-sky-900",children:"2023: Empowerment Centers"}),E.jsx("p",{className:"text-sm text-slate-500",children:"Established 3 vocational training centers for women."})]})]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("img",{src:"https://picsum.photos/seed/about1/400/500",className:"rounded-2xl shadow-xl mt-8"}),E.jsx("img",{src:"https://picsum.photos/seed/about2/400/500",className:"rounded-2xl shadow-xl"})]})]})}),E.jsx("section",{className:"py-24 bg-slate-50",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("h2",{className:"text-4xl font-extrabold text-sky-950",children:"The Hearts Behind AASRA"}),E.jsx("p",{className:"text-slate-500 mt-2",children:"Dedicated professionals and passionate volunteers."})]}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8",children:n.team.map(e=>E.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden shadow-sm hover:shadow-xl transition-all group",children:[E.jsxs("div",{className:"h-50 overflow-hidden relative",children:["  ",E.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-fit group-hover:scale-100 transition-transform duration-500 rounded-t-2xl"}),E.jsx("div",{className:"absolute inset-0 bg-sky-900/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-t-2xl"})]}),E.jsxs("div",{className:"p-4 text-center",children:["  ",E.jsx("h3",{className:"text-lg font-bold text-sky-950",children:e.name}),"  ",E.jsx("p",{className:"text-teal-600 font-semibold text-xs uppercase mb-2 tracking-widest",children:e.role})]})]},e.id))})]})}),E.jsx("section",{className:"py-20 border-t border-slate-100",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[E.jsx("p",{className:"text-center text-xs font-bold text-slate-400 uppercase tracking-[0.2em] mb-12",children:"Our Official Partners & Affiliations"}),E.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-12 opacity-50 grayscale hover:grayscale-0 transition-all",children:[E.jsx("div",{className:"text-xl font-black text-sky-900",children:"GOVT OF PUNJAB"}),E.jsx("div",{className:"text-xl font-black text-sky-900",children:"CHARITY COMMISSION"}),E.jsx("div",{className:"text-xl font-black text-sky-900",children:"FBR PAKISTAN"}),E.jsx("div",{className:"text-xl font-black text-sky-900",children:"TAX-EXEMPTED NGO"})]})]})})]}),Fj=({data:n})=>E.jsx("div",{className:"py-20 bg-slate-50",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[E.jsxs("div",{className:"text-center mb-16 space-y-4",children:[E.jsx("h1",{className:"text-5xl font-extrabold text-sky-950",children:"Our Impact Areas"}),E.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto",children:"Focused on sustainable development and dignity for all."})]}),E.jsx("div",{className:"grid grid-cols-1 gap-12",children:n.programs.map((e,t)=>E.jsxs("div",{className:`bg-white rounded-3xl overflow-hidden shadow-xl flex flex-col ${t%2===0?"lg:flex-row":"lg:flex-row-reverse"}`,children:[E.jsx("div",{className:"lg:w-1/2 h-96 lg:h-auto overflow-hidden",children:E.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-700"})}),E.jsxs("div",{className:"lg:w-1/2 p-12 lg:p-16 flex flex-col justify-center space-y-6",children:[E.jsx("div",{className:"w-16 h-16 bg-teal-100 text-teal-600 rounded-2xl flex items-center justify-center text-3xl",children:E.jsx("i",{className:`fa-solid ${e.icon}`})}),E.jsx("h2",{className:"text-4xl font-extrabold text-sky-950",children:e.title}),E.jsx("p",{className:"text-slate-600 text-lg leading-relaxed",children:e.description}),E.jsxs("div",{className:"pt-4 flex items-center gap-6",children:[E.jsx(At,{to:`/programs/${e.id}`,className:"bg-sky-900 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:bg-sky-800 transition-colors",children:"View Details"}),E.jsx(At,{to:"/donate",className:"text-orange-500 font-bold hover:underline",children:"Sponsor This Project"})]})]})]},e.id))})]})});function qj(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Hj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Gj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Yj={};function YA(n,e){return(Yj.jsx?Gj:Hj).test(n)}const Kj=/[ \t\n\f\r]/g;function Qj(n){return typeof n=="object"?n.type==="text"?KA(n.value):!1:KA(n)}function KA(n){return n.replace(Kj,"")===""}class jh{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}jh.prototype.normal={};jh.prototype.property={};jh.prototype.space=void 0;function OR(n,e){const t={},r={};for(const a of n)Object.assign(t,a.property),Object.assign(r,a.normal);return new jh(t,r,e)}function p_(n){return n.toLowerCase()}class tr{constructor(e,t){this.attribute=t,this.property=e}}tr.prototype.attribute="";tr.prototype.booleanish=!1;tr.prototype.boolean=!1;tr.prototype.commaOrSpaceSeparated=!1;tr.prototype.commaSeparated=!1;tr.prototype.defined=!1;tr.prototype.mustUseProperty=!1;tr.prototype.number=!1;tr.prototype.overloadedBoolean=!1;tr.prototype.property="";tr.prototype.spaceSeparated=!1;tr.prototype.space=void 0;let $j=0;const Be=Nl(),nn=Nl(),g_=Nl(),de=Nl(),Et=Nl(),Po=Nl(),hr=Nl();function Nl(){return 2**++$j}const y_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Be,booleanish:nn,commaOrSpaceSeparated:hr,commaSeparated:Po,number:de,overloadedBoolean:g_,spaceSeparated:Et},Symbol.toStringTag,{value:"Module"})),gy=Object.keys(y_);class WE extends tr{constructor(e,t,r,a){let l=-1;if(super(e,t),QA(this,"space",a),typeof r=="number")for(;++l<gy.length;){const u=gy[l];QA(this,gy[l],(r&y_[u])===y_[u])}}}WE.prototype.defined=!0;function QA(n,e,t){t&&(n[e]=t)}function _u(n){const e={},t={};for(const[r,a]of Object.entries(n.properties)){const l=new WE(r,n.transform(n.attributes||{},r),a,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),e[r]=l,t[p_(r)]=r,t[p_(l.attribute)]=r}return new jh(e,t,n.space)}const kR=_u({properties:{ariaActiveDescendant:null,ariaAtomic:nn,ariaAutoComplete:null,ariaBusy:nn,ariaChecked:nn,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:Et,ariaCurrent:null,ariaDescribedBy:Et,ariaDetails:null,ariaDisabled:nn,ariaDropEffect:Et,ariaErrorMessage:null,ariaExpanded:nn,ariaFlowTo:Et,ariaGrabbed:nn,ariaHasPopup:null,ariaHidden:nn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Et,ariaLevel:de,ariaLive:null,ariaModal:nn,ariaMultiLine:nn,ariaMultiSelectable:nn,ariaOrientation:null,ariaOwns:Et,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:nn,ariaReadOnly:nn,ariaRelevant:null,ariaRequired:nn,ariaRoleDescription:Et,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:nn,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function VR(n,e){return e in n?n[e]:e}function MR(n,e){return VR(n,e.toLowerCase())}const Xj=_u({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Po,acceptCharset:Et,accessKey:Et,action:null,allow:null,allowFullScreen:Be,allowPaymentRequest:Be,allowUserMedia:Be,alt:null,as:null,async:Be,autoCapitalize:null,autoComplete:Et,autoFocus:Be,autoPlay:Be,blocking:Et,capture:null,charSet:null,checked:Be,cite:null,className:Et,cols:de,colSpan:null,content:null,contentEditable:nn,controls:Be,controlsList:Et,coords:de|Po,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Be,defer:Be,dir:null,dirName:null,disabled:Be,download:g_,draggable:nn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Be,formTarget:null,headers:Et,height:de,hidden:g_,high:de,href:null,hrefLang:null,htmlFor:Et,httpEquiv:Et,id:null,imageSizes:null,imageSrcSet:null,inert:Be,inputMode:null,integrity:null,is:null,isMap:Be,itemId:null,itemProp:Et,itemRef:Et,itemScope:Be,itemType:Et,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Be,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:Be,muted:Be,name:null,nonce:null,noModule:Be,noValidate:Be,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Be,optimum:de,pattern:null,ping:Et,placeholder:null,playsInline:Be,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Be,referrerPolicy:null,rel:Et,required:Be,reversed:Be,rows:de,rowSpan:de,sandbox:Et,scope:null,scoped:Be,seamless:Be,selected:Be,shadowRootClonable:Be,shadowRootDelegatesFocus:Be,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:nn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:Be,useMap:null,value:nn,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Et,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Be,declare:Be,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:Be,noHref:Be,noShade:Be,noWrap:Be,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:nn,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Be,disableRemotePlayback:Be,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:MR}),Wj=_u({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:hr,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:Et,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:Be,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Po,g2:Po,glyphName:Po,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:hr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Et,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:hr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:hr,rev:hr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:hr,requiredFeatures:hr,requiredFonts:hr,requiredFormats:hr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:hr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:hr,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:hr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:VR}),PR=_u({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),LR=_u({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:MR}),jR=_u({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),Jj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Zj=/[A-Z]/g,$A=/-[a-z]/g,e6=/^data[-\w.:]+$/i;function t6(n,e){const t=p_(e);let r=e,a=tr;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&e6.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace($A,r6);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!$A.test(l)){let u=l.replace(Zj,n6);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=WE}return new a(r,e)}function n6(n){return"-"+n.toLowerCase()}function r6(n){return n.charAt(1).toUpperCase()}const i6=OR([kR,Xj,PR,LR,jR],"html"),JE=OR([kR,Wj,PR,LR,jR],"svg");function s6(n){return n.join(" ").trim()}var To={},yy,XA;function a6(){if(XA)return yy;XA=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,f=`
`,m="/",y="*",_="",v="comment",b="declaration";function D(O,B){if(typeof O!="string")throw new TypeError("First argument must be a string");if(!O)return[];B=B||{};var J=1,q=1;function he(xe){var me=xe.match(e);me&&(J+=me.length);var X=xe.lastIndexOf(f);q=~X?xe.length-X:q+xe.length}function fe(){var xe={line:J,column:q};return function(me){return me.position=new K(xe),C(),me}}function K(xe){this.start=xe,this.end={line:J,column:q},this.source=B.source}K.prototype.content=O;function S(xe){var me=new Error(B.source+":"+J+":"+q+": "+xe);if(me.reason=xe,me.filename=B.source,me.line=J,me.column=q,me.source=O,!B.silent)throw me}function N(xe){var me=xe.exec(O);if(me){var X=me[0];return he(X),O=O.slice(X.length),me}}function C(){N(t)}function U(xe){var me;for(xe=xe||[];me=V();)me!==!1&&xe.push(me);return xe}function V(){var xe=fe();if(!(m!=O.charAt(0)||y!=O.charAt(1))){for(var me=2;_!=O.charAt(me)&&(y!=O.charAt(me)||m!=O.charAt(me+1));)++me;if(me+=2,_===O.charAt(me-1))return S("End of comment missing");var X=O.slice(2,me-2);return q+=2,he(X),O=O.slice(me),q+=2,xe({type:v,comment:X})}}function L(){var xe=fe(),me=N(r);if(me){if(V(),!N(a))return S("property missing ':'");var X=N(l),ce=xe({type:b,property:M(me[0].replace(n,_)),value:X?M(X[0].replace(n,_)):_});return N(u),ce}}function k(){var xe=[];U(xe);for(var me;me=L();)me!==!1&&(xe.push(me),U(xe));return xe}return C(),k()}function M(O){return O?O.replace(h,_):_}return yy=D,yy}var WA;function l6(){if(WA)return To;WA=1;var n=To&&To.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(To,"__esModule",{value:!0}),To.default=t;const e=n(a6());function t(r,a){let l=null;if(!r||typeof r!="string")return l;const u=(0,e.default)(r),h=typeof a=="function";return u.forEach(f=>{if(f.type!=="declaration")return;const{property:m,value:y}=f;h?a(m,y,f):y&&(l=l||{},l[m]=y)}),l}return To}var Cc={},JA;function o6(){if(JA)return Cc;JA=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,l=function(m){return!m||t.test(m)||n.test(m)},u=function(m,y){return y.toUpperCase()},h=function(m,y){return"".concat(y,"-")},f=function(m,y){return y===void 0&&(y={}),l(m)?m:(m=m.toLowerCase(),y.reactCompat?m=m.replace(a,h):m=m.replace(r,h),m.replace(e,u))};return Cc.camelCase=f,Cc}var Dc,ZA;function u6(){if(ZA)return Dc;ZA=1;var n=Dc&&Dc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=n(l6()),t=o6();function r(a,l){var u={};return!a||typeof a!="string"||(0,e.default)(a,function(h,f){h&&f&&(u[(0,t.camelCase)(h,l)]=f)}),u}return r.default=r,Dc=r,Dc}var c6=u6();const h6=mm(c6),UR=BR("end"),ZE=BR("start");function BR(n){return e;function e(t){const r=t&&t.position&&t.position[n]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function f6(n){const e=ZE(n),t=UR(n);if(e&&t)return{start:e,end:t}}function Wc(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?eS(n.position):"start"in n||"end"in n?eS(n):"line"in n||"column"in n?__(n):""}function __(n){return tS(n&&n.line)+":"+tS(n&&n.column)}function eS(n){return __(n&&n.start)+"-"+__(n&&n.end)}function tS(n){return n&&typeof n=="number"?n:1}class On extends Error{constructor(e,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let a="",l={},u=!1;if(t&&("line"in t&&"column"in t?l={place:t}:"start"in t&&"end"in t?l={place:t}:"type"in t?l={ancestors:[t],place:t.position}:l={...t}),typeof e=="string"?a=e:!l.cause&&e&&(u=!0,a=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?l.ruleId=r:(l.source=r.slice(0,f),l.ruleId=r.slice(f+1))}if(!l.place&&l.ancestors&&l.ancestors){const f=l.ancestors[l.ancestors.length-1];f&&(l.place=f.position)}const h=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=h?h.line:void 0,this.name=Wc(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}On.prototype.file="";On.prototype.name="";On.prototype.reason="";On.prototype.message="";On.prototype.stack="";On.prototype.column=void 0;On.prototype.line=void 0;On.prototype.ancestors=void 0;On.prototype.cause=void 0;On.prototype.fatal=void 0;On.prototype.place=void 0;On.prototype.ruleId=void 0;On.prototype.source=void 0;const ex={}.hasOwnProperty,d6=new Map,m6=/[A-Z]/g,p6=new Set(["table","tbody","thead","tfoot","tr"]),g6=new Set(["td","th"]),zR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function y6(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=A6(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=w6(t,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?JE:i6,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=FR(a,n,void 0);return l&&typeof l!="string"?l:a.create(n,a.Fragment,{children:l||void 0},void 0)}function FR(n,e,t){if(e.type==="element")return _6(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return E6(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return v6(n,e,t);if(e.type==="mdxjsEsm")return x6(n,e);if(e.type==="root")return b6(n,e,t);if(e.type==="text")return T6(n,e)}function _6(n,e,t){const r=n.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=JE,n.schema=a),n.ancestors.push(e);const l=HR(n,e.tagName,!1),u=S6(n,e);let h=nx(n,e);return p6.has(e.tagName)&&(h=h.filter(function(f){return typeof f=="string"?!Qj(f):!0})),qR(n,u,l,e),tx(u,h),n.ancestors.pop(),n.schema=r,n.create(e,l,u,t)}function E6(n,e){if(e.data&&e.data.estree&&n.evaluater){const r=e.data.estree.body[0];return r.type,n.evaluater.evaluateExpression(r.expression)}Eh(n,e.position)}function x6(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);Eh(n,e.position)}function v6(n,e,t){const r=n.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=JE,n.schema=a),n.ancestors.push(e);const l=e.name===null?n.Fragment:HR(n,e.name,!0),u=I6(n,e),h=nx(n,e);return qR(n,u,l,e),tx(u,h),n.ancestors.pop(),n.schema=r,n.create(e,l,u,t)}function b6(n,e,t){const r={};return tx(r,nx(n,e)),n.create(e,n.Fragment,r,t)}function T6(n,e){return e.value}function qR(n,e,t,r){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=r)}function tx(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function w6(n,e,t){return r;function r(a,l,u,h){const m=Array.isArray(u.children)?t:e;return h?m(l,u,h):m(l,u)}}function A6(n,e){return t;function t(r,a,l,u){const h=Array.isArray(l.children),f=ZE(r);return e(a,l,u,h,{columnNumber:f?f.column-1:void 0,fileName:n,lineNumber:f?f.line:void 0},void 0)}}function S6(n,e){const t={};let r,a;for(a in e.properties)if(a!=="children"&&ex.call(e.properties,a)){const l=N6(n,a,e.properties[a]);if(l){const[u,h]=l;n.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&g6.has(e.tagName)?r=h:t[u]=h}}if(r){const l=t.style||(t.style={});l[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return t}function I6(n,e){const t={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&n.evaluater){const l=r.data.estree.body[0];l.type;const u=l.expression;u.type;const h=u.properties[0];h.type,Object.assign(t,n.evaluater.evaluateExpression(h.argument))}else Eh(n,e.position);else{const a=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&n.evaluater){const h=r.value.data.estree.body[0];h.type,l=n.evaluater.evaluateExpression(h.expression)}else Eh(n,e.position);else l=r.value===null?!0:r.value;t[a]=l}return t}function nx(n,e){const t=[];let r=-1;const a=n.passKeys?new Map:d6;for(;++r<e.children.length;){const l=e.children[r];let u;if(n.passKeys){const f=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(f){const m=a.get(f)||0;u=f+"-"+m,a.set(f,m+1)}}const h=FR(n,l,u);h!==void 0&&t.push(h)}return t}function N6(n,e,t){const r=t6(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=r.commaSeparated?qj(t):s6(t)),r.property==="style"){let a=typeof t=="object"?t:R6(n,String(t));return n.stylePropertyNameCase==="css"&&(a=C6(a)),["style",a]}return[n.elementAttributeNameCase==="react"&&r.space?Jj[r.property]||r.property:r.attribute,t]}}function R6(n,e){try{return h6(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const r=t,a=new On("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=n.filePath||void 0,a.url=zR+"#cannot-parse-style-attribute",a}}function HR(n,e,t){let r;if(!t)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let l=-1,u;for(;++l<a.length;){const h=YA(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(l&&h.type==="Literal"),optional:!1}:h}r=u}else r=YA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return ex.call(n.components,a)?n.components[a]:a}if(n.evaluater)return n.evaluater.evaluateExpression(r);Eh(n)}function Eh(n,e){const t=new On("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=zR+"#cannot-handle-mdx-estrees-without-createevaluater",t}function C6(n){const e={};let t;for(t in n)ex.call(n,t)&&(e[D6(t)]=n[t]);return e}function D6(n){let e=n.replace(m6,O6);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function O6(n){return"-"+n.toLowerCase()}const _y={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},k6={};function V6(n,e){const t=k6,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,a=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return GR(n,r,a)}function GR(n,e,t){if(M6(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return nS(n.children,e,t)}return Array.isArray(n)?nS(n,e,t):""}function nS(n,e,t){const r=[];let a=-1;for(;++a<n.length;)r[a]=GR(n[a],e,t);return r.join("")}function M6(n){return!!(n&&typeof n=="object")}const rS=document.createElement("i");function rx(n){const e="&"+n+";";rS.innerHTML=e;const t=rS.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function ki(n,e,t,r){const a=n.length;let l=0,u;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,t=t>0?t:0,r.length<1e4)u=Array.from(r),u.unshift(e,t),n.splice(...u);else for(t&&n.splice(e,t);l<r.length;)u=r.slice(l,l+1e4),u.unshift(e,0),n.splice(...u),l+=1e4,e+=1e4}function Cr(n,e){return n.length>0?(ki(n,n.length,0,e),n):e}const iS={}.hasOwnProperty;function P6(n){const e={};let t=-1;for(;++t<n.length;)L6(e,n[t]);return e}function L6(n,e){let t;for(t in e){const a=(iS.call(n,t)?n[t]:void 0)||(n[t]={}),l=e[t];let u;if(l)for(u in l){iS.call(a,u)||(a[u]=[]);const h=l[u];j6(a[u],Array.isArray(h)?h:h?[h]:[])}}}function j6(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);ki(n,0,0,r)}function YR(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Lo(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Si=xa(/[A-Za-z]/),dr=xa(/[\dA-Za-z]/),U6=xa(/[#-'*+\--9=?A-Z^-~]/);function E_(n){return n!==null&&(n<32||n===127)}const x_=xa(/\d/),B6=xa(/[\dA-Fa-f]/),z6=xa(/[!-/:-@[-`{-~]/);function Oe(n){return n!==null&&n<-2}function er(n){return n!==null&&(n<0||n===32)}function at(n){return n===-2||n===-1||n===32}const F6=xa(new RegExp("\\p{P}|\\p{S}","u")),q6=xa(/\s/);function xa(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function Eu(n){const e=[];let t=-1,r=0,a=0;for(;++t<n.length;){const l=n.charCodeAt(t);let u="";if(l===37&&dr(n.charCodeAt(t+1))&&dr(n.charCodeAt(t+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const h=n.charCodeAt(t+1);l<56320&&h>56319&&h<57344?(u=String.fromCharCode(l,h),a=1):u=""}else u=String.fromCharCode(l);u&&(e.push(n.slice(r,t),encodeURIComponent(u)),r=t+a+1,u=""),a&&(t+=a,a=0)}return e.join("")+n.slice(r)}function xt(n,e,t,r){const a=r?r-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(f){return at(f)?(n.enter(t),h(f)):e(f)}function h(f){return at(f)&&l++<a?(n.consume(f),h):(n.exit(t),e(f))}}const H6={tokenize:G6};function G6(n){const e=n.attempt(this.parser.constructs.contentInitial,r,a);let t;return e;function r(h){if(h===null){n.consume(h);return}return n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),xt(n,e,"linePrefix")}function a(h){return n.enter("paragraph"),l(h)}function l(h){const f=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=f),t=f,u(h)}function u(h){if(h===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(h);return}return Oe(h)?(n.consume(h),n.exit("chunkText"),l):(n.consume(h),u)}}const Y6={tokenize:K6},sS={tokenize:Q6};function K6(n){const e=this,t=[];let r=0,a,l,u;return h;function h(q){if(r<t.length){const he=t[r];return e.containerState=he[1],n.attempt(he[0].continuation,f,m)(q)}return m(q)}function f(q){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&J();const he=e.events.length;let fe=he,K;for(;fe--;)if(e.events[fe][0]==="exit"&&e.events[fe][1].type==="chunkFlow"){K=e.events[fe][1].end;break}B(r);let S=he;for(;S<e.events.length;)e.events[S][1].end={...K},S++;return ki(e.events,fe+1,0,e.events.slice(he)),e.events.length=S,m(q)}return h(q)}function m(q){if(r===t.length){if(!a)return v(q);if(a.currentConstruct&&a.currentConstruct.concrete)return D(q);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(sS,y,_)(q)}function y(q){return a&&J(),B(r),v(q)}function _(q){return e.parser.lazy[e.now().line]=r!==t.length,u=e.now().offset,D(q)}function v(q){return e.containerState={},n.attempt(sS,b,D)(q)}function b(q){return r++,t.push([e.currentConstruct,e.containerState]),v(q)}function D(q){if(q===null){a&&J(),B(0),n.consume(q);return}return a=a||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),M(q)}function M(q){if(q===null){O(n.exit("chunkFlow"),!0),B(0),n.consume(q);return}return Oe(q)?(n.consume(q),O(n.exit("chunkFlow")),r=0,e.interrupt=void 0,h):(n.consume(q),M)}function O(q,he){const fe=e.sliceStream(q);if(he&&fe.push(null),q.previous=l,l&&(l.next=q),l=q,a.defineSkip(q.start),a.write(fe),e.parser.lazy[q.start.line]){let K=a.events.length;for(;K--;)if(a.events[K][1].start.offset<u&&(!a.events[K][1].end||a.events[K][1].end.offset>u))return;const S=e.events.length;let N=S,C,U;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){if(C){U=e.events[N][1].end;break}C=!0}for(B(r),K=S;K<e.events.length;)e.events[K][1].end={...U},K++;ki(e.events,N+1,0,e.events.slice(S)),e.events.length=K}}function B(q){let he=t.length;for(;he-- >q;){const fe=t[he];e.containerState=fe[1],fe[0].exit.call(e,n)}t.length=q}function J(){a.write([null]),l=void 0,a=void 0,e.containerState._closeFlow=void 0}}function Q6(n,e,t){return xt(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function aS(n){if(n===null||er(n)||q6(n))return 1;if(F6(n))return 2}function ix(n,e,t){const r=[];let a=-1;for(;++a<n.length;){const l=n[a].resolveAll;l&&!r.includes(l)&&(e=l(e,t),r.push(l))}return e}const v_={name:"attention",resolveAll:$6,tokenize:X6};function $6(n,e){let t=-1,r,a,l,u,h,f,m,y;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;f=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const _={...n[r][1].end},v={...n[t][1].start};lS(_,-f),lS(v,f),u={type:f>1?"strongSequence":"emphasisSequence",start:_,end:{...n[r][1].end}},h={type:f>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:v},l={type:f>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[t][1].start}},a={type:f>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},n[r][1].end={...u.start},n[t][1].start={...h.end},m=[],n[r][1].end.offset-n[r][1].start.offset&&(m=Cr(m,[["enter",n[r][1],e],["exit",n[r][1],e]])),m=Cr(m,[["enter",a,e],["enter",u,e],["exit",u,e],["enter",l,e]]),m=Cr(m,ix(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),m=Cr(m,[["exit",l,e],["enter",h,e],["exit",h,e],["exit",a,e]]),n[t][1].end.offset-n[t][1].start.offset?(y=2,m=Cr(m,[["enter",n[t][1],e],["exit",n[t][1],e]])):y=0,ki(n,r-1,t-r+3,m),t=r+m.length-y-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function X6(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,a=aS(r);let l;return u;function u(f){return l=f,n.enter("attentionSequence"),h(f)}function h(f){if(f===l)return n.consume(f),h;const m=n.exit("attentionSequence"),y=aS(f),_=!y||y===2&&a||t.includes(f),v=!a||a===2&&y||t.includes(r);return m._open=!!(l===42?_:_&&(a||!v)),m._close=!!(l===42?v:v&&(y||!_)),e(f)}}function lS(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const W6={name:"autolink",tokenize:J6};function J6(n,e,t){let r=0;return a;function a(b){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),l}function l(b){return Si(b)?(n.consume(b),u):b===64?t(b):m(b)}function u(b){return b===43||b===45||b===46||dr(b)?(r=1,h(b)):m(b)}function h(b){return b===58?(n.consume(b),r=0,f):(b===43||b===45||b===46||dr(b))&&r++<32?(n.consume(b),h):(r=0,m(b))}function f(b){return b===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),e):b===null||b===32||b===60||E_(b)?t(b):(n.consume(b),f)}function m(b){return b===64?(n.consume(b),y):U6(b)?(n.consume(b),m):t(b)}function y(b){return dr(b)?_(b):t(b)}function _(b){return b===46?(n.consume(b),r=0,y):b===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),e):v(b)}function v(b){if((b===45||dr(b))&&r++<63){const D=b===45?v:_;return n.consume(b),D}return t(b)}}const Ym={partial:!0,tokenize:Z6};function Z6(n,e,t){return r;function r(l){return at(l)?xt(n,a,"linePrefix")(l):a(l)}function a(l){return l===null||Oe(l)?e(l):t(l)}}const KR={continuation:{tokenize:t3},exit:n3,name:"blockQuote",tokenize:e3};function e3(n,e,t){const r=this;return a;function a(u){if(u===62){const h=r.containerState;return h.open||(n.enter("blockQuote",{_container:!0}),h.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(u),n.exit("blockQuoteMarker"),l}return t(u)}function l(u){return at(u)?(n.enter("blockQuotePrefixWhitespace"),n.consume(u),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(u))}}function t3(n,e,t){const r=this;return a;function a(u){return at(u)?xt(n,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return n.attempt(KR,e,t)(u)}}function n3(n){n.exit("blockQuote")}const QR={name:"characterEscape",tokenize:r3};function r3(n,e,t){return r;function r(l){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(l),n.exit("escapeMarker"),a}function a(l){return z6(l)?(n.enter("characterEscapeValue"),n.consume(l),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(l)}}const $R={name:"characterReference",tokenize:i3};function i3(n,e,t){const r=this;let a=0,l,u;return h;function h(_){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(_),n.exit("characterReferenceMarker"),f}function f(_){return _===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(_),n.exit("characterReferenceMarkerNumeric"),m):(n.enter("characterReferenceValue"),l=31,u=dr,y(_))}function m(_){return _===88||_===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(_),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),l=6,u=B6,y):(n.enter("characterReferenceValue"),l=7,u=x_,y(_))}function y(_){if(_===59&&a){const v=n.exit("characterReferenceValue");return u===dr&&!rx(r.sliceSerialize(v))?t(_):(n.enter("characterReferenceMarker"),n.consume(_),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return u(_)&&a++<l?(n.consume(_),y):t(_)}}const oS={partial:!0,tokenize:a3},uS={concrete:!0,name:"codeFenced",tokenize:s3};function s3(n,e,t){const r=this,a={partial:!0,tokenize:fe};let l=0,u=0,h;return f;function f(K){return m(K)}function m(K){const S=r.events[r.events.length-1];return l=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,h=K,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),y(K)}function y(K){return K===h?(u++,n.consume(K),y):u<3?t(K):(n.exit("codeFencedFenceSequence"),at(K)?xt(n,_,"whitespace")(K):_(K))}function _(K){return K===null||Oe(K)?(n.exit("codeFencedFence"),r.interrupt?e(K):n.check(oS,M,he)(K)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),v(K))}function v(K){return K===null||Oe(K)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),_(K)):at(K)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),xt(n,b,"whitespace")(K)):K===96&&K===h?t(K):(n.consume(K),v)}function b(K){return K===null||Oe(K)?_(K):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),D(K))}function D(K){return K===null||Oe(K)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),_(K)):K===96&&K===h?t(K):(n.consume(K),D)}function M(K){return n.attempt(a,he,O)(K)}function O(K){return n.enter("lineEnding"),n.consume(K),n.exit("lineEnding"),B}function B(K){return l>0&&at(K)?xt(n,J,"linePrefix",l+1)(K):J(K)}function J(K){return K===null||Oe(K)?n.check(oS,M,he)(K):(n.enter("codeFlowValue"),q(K))}function q(K){return K===null||Oe(K)?(n.exit("codeFlowValue"),J(K)):(n.consume(K),q)}function he(K){return n.exit("codeFenced"),e(K)}function fe(K,S,N){let C=0;return U;function U(me){return K.enter("lineEnding"),K.consume(me),K.exit("lineEnding"),V}function V(me){return K.enter("codeFencedFence"),at(me)?xt(K,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):L(me)}function L(me){return me===h?(K.enter("codeFencedFenceSequence"),k(me)):N(me)}function k(me){return me===h?(C++,K.consume(me),k):C>=u?(K.exit("codeFencedFenceSequence"),at(me)?xt(K,xe,"whitespace")(me):xe(me)):N(me)}function xe(me){return me===null||Oe(me)?(K.exit("codeFencedFence"),S(me)):N(me)}}}function a3(n,e,t){const r=this;return a;function a(u){return u===null?t(u):(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),l)}function l(u){return r.parser.lazy[r.now().line]?t(u):e(u)}}const Ey={name:"codeIndented",tokenize:o3},l3={partial:!0,tokenize:u3};function o3(n,e,t){const r=this;return a;function a(m){return n.enter("codeIndented"),xt(n,l,"linePrefix",5)(m)}function l(m){const y=r.events[r.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?u(m):t(m)}function u(m){return m===null?f(m):Oe(m)?n.attempt(l3,u,f)(m):(n.enter("codeFlowValue"),h(m))}function h(m){return m===null||Oe(m)?(n.exit("codeFlowValue"),u(m)):(n.consume(m),h)}function f(m){return n.exit("codeIndented"),e(m)}}function u3(n,e,t){const r=this;return a;function a(u){return r.parser.lazy[r.now().line]?t(u):Oe(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),a):xt(n,l,"linePrefix",5)(u)}function l(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):Oe(u)?a(u):t(u)}}const c3={name:"codeText",previous:f3,resolve:h3,tokenize:d3};function h3(n){let e=n.length-4,t=3,r,a;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)a===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(a=r):(r===e||n[r][1].type==="lineEnding")&&(n[a][1].type="codeTextData",r!==a+2&&(n[a][1].end=n[r-1][1].end,n.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return n}function f3(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function d3(n,e,t){let r=0,a,l;return u;function u(_){return n.enter("codeText"),n.enter("codeTextSequence"),h(_)}function h(_){return _===96?(n.consume(_),r++,h):(n.exit("codeTextSequence"),f(_))}function f(_){return _===null?t(_):_===32?(n.enter("space"),n.consume(_),n.exit("space"),f):_===96?(l=n.enter("codeTextSequence"),a=0,y(_)):Oe(_)?(n.enter("lineEnding"),n.consume(_),n.exit("lineEnding"),f):(n.enter("codeTextData"),m(_))}function m(_){return _===null||_===32||_===96||Oe(_)?(n.exit("codeTextData"),f(_)):(n.consume(_),m)}function y(_){return _===96?(n.consume(_),a++,y):a===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(_)):(l.type="codeTextData",m(_))}}class m3{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const a=t||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Oc(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Oc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Oc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Oc(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Oc(this.left,t.reverse())}}}function Oc(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function XR(n){const e={};let t=-1,r,a,l,u,h,f,m;const y=new m3(n);for(;++t<y.length;){for(;t in e;)t=e[t];if(r=y.get(t),t&&r[1].type==="chunkFlow"&&y.get(t-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,l=0,l<f.length&&f[l][1].type==="lineEndingBlank"&&(l+=2),l<f.length&&f[l][1].type==="content"))for(;++l<f.length&&f[l][1].type!=="content";)f[l][1].type==="chunkText"&&(f[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,p3(y,t)),t=e[t],m=!0);else if(r[1]._container){for(l=t,a=void 0;l--;)if(u=y.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(y.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(r[1].end={...y.get(a)[1].start},h=y.slice(a,t),h.unshift(r),y.splice(a,t-a+1,h))}}return ki(n,0,Number.POSITIVE_INFINITY,y.slice(0)),!m}function p3(n,e){const t=n.get(e)[1],r=n.get(e)[2];let a=e-1;const l=[];let u=t._tokenizer;u||(u=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,f=[],m={};let y,_,v=-1,b=t,D=0,M=0;const O=[M];for(;b;){for(;n.get(++a)[1]!==b;);l.push(a),b._tokenizer||(y=r.sliceStream(b),b.next||y.push(null),_&&u.defineSkip(b.start),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(y),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),_=b,b=b.next}for(b=t;++v<h.length;)h[v][0]==="exit"&&h[v-1][0]==="enter"&&h[v][1].type===h[v-1][1].type&&h[v][1].start.line!==h[v][1].end.line&&(M=v+1,O.push(M),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(u.events=[],b?(b._tokenizer=void 0,b.previous=void 0):O.pop(),v=O.length;v--;){const B=h.slice(O[v],O[v+1]),J=l.pop();f.push([J,J+B.length-1]),n.splice(J,2,B)}for(f.reverse(),v=-1;++v<f.length;)m[D+f[v][0]]=D+f[v][1],D+=f[v][1]-f[v][0]-1;return m}const g3={resolve:_3,tokenize:E3},y3={partial:!0,tokenize:x3};function _3(n){return XR(n),n}function E3(n,e){let t;return r;function r(h){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?l(h):Oe(h)?n.check(y3,u,l)(h):(n.consume(h),a)}function l(h){return n.exit("chunkContent"),n.exit("content"),e(h)}function u(h){return n.consume(h),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,a}}function x3(n,e,t){const r=this;return a;function a(u){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),xt(n,l,"linePrefix")}function l(u){if(u===null||Oe(u))return t(u);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):n.interrupt(r.parser.constructs.flow,t,e)(u)}}function WR(n,e,t,r,a,l,u,h,f){const m=f||Number.POSITIVE_INFINITY;let y=0;return _;function _(B){return B===60?(n.enter(r),n.enter(a),n.enter(l),n.consume(B),n.exit(l),v):B===null||B===32||B===41||E_(B)?t(B):(n.enter(r),n.enter(u),n.enter(h),n.enter("chunkString",{contentType:"string"}),M(B))}function v(B){return B===62?(n.enter(l),n.consume(B),n.exit(l),n.exit(a),n.exit(r),e):(n.enter(h),n.enter("chunkString",{contentType:"string"}),b(B))}function b(B){return B===62?(n.exit("chunkString"),n.exit(h),v(B)):B===null||B===60||Oe(B)?t(B):(n.consume(B),B===92?D:b)}function D(B){return B===60||B===62||B===92?(n.consume(B),b):b(B)}function M(B){return!y&&(B===null||B===41||er(B))?(n.exit("chunkString"),n.exit(h),n.exit(u),n.exit(r),e(B)):y<m&&B===40?(n.consume(B),y++,M):B===41?(n.consume(B),y--,M):B===null||B===32||B===40||E_(B)?t(B):(n.consume(B),B===92?O:M)}function O(B){return B===40||B===41||B===92?(n.consume(B),M):M(B)}}function JR(n,e,t,r,a,l){const u=this;let h=0,f;return m;function m(b){return n.enter(r),n.enter(a),n.consume(b),n.exit(a),n.enter(l),y}function y(b){return h>999||b===null||b===91||b===93&&!f||b===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?t(b):b===93?(n.exit(l),n.enter(a),n.consume(b),n.exit(a),n.exit(r),e):Oe(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),y):(n.enter("chunkString",{contentType:"string"}),_(b))}function _(b){return b===null||b===91||b===93||Oe(b)||h++>999?(n.exit("chunkString"),y(b)):(n.consume(b),f||(f=!at(b)),b===92?v:_)}function v(b){return b===91||b===92||b===93?(n.consume(b),h++,_):_(b)}}function ZR(n,e,t,r,a,l){let u;return h;function h(v){return v===34||v===39||v===40?(n.enter(r),n.enter(a),n.consume(v),n.exit(a),u=v===40?41:v,f):t(v)}function f(v){return v===u?(n.enter(a),n.consume(v),n.exit(a),n.exit(r),e):(n.enter(l),m(v))}function m(v){return v===u?(n.exit(l),f(u)):v===null?t(v):Oe(v)?(n.enter("lineEnding"),n.consume(v),n.exit("lineEnding"),xt(n,m,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),y(v))}function y(v){return v===u||v===null||Oe(v)?(n.exit("chunkString"),m(v)):(n.consume(v),v===92?_:y)}function _(v){return v===u||v===92?(n.consume(v),y):y(v)}}function Jc(n,e){let t;return r;function r(a){return Oe(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),t=!0,r):at(a)?xt(n,r,t?"linePrefix":"lineSuffix")(a):e(a)}}const v3={name:"definition",tokenize:T3},b3={partial:!0,tokenize:w3};function T3(n,e,t){const r=this;let a;return l;function l(b){return n.enter("definition"),u(b)}function u(b){return JR.call(r,n,h,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function h(b){return a=Lo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(n.enter("definitionMarker"),n.consume(b),n.exit("definitionMarker"),f):t(b)}function f(b){return er(b)?Jc(n,m)(b):m(b)}function m(b){return WR(n,y,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function y(b){return n.attempt(b3,_,_)(b)}function _(b){return at(b)?xt(n,v,"whitespace")(b):v(b)}function v(b){return b===null||Oe(b)?(n.exit("definition"),r.parser.defined.push(a),e(b)):t(b)}}function w3(n,e,t){return r;function r(h){return er(h)?Jc(n,a)(h):t(h)}function a(h){return ZR(n,l,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function l(h){return at(h)?xt(n,u,"whitespace")(h):u(h)}function u(h){return h===null||Oe(h)?e(h):t(h)}}const A3={name:"hardBreakEscape",tokenize:S3};function S3(n,e,t){return r;function r(l){return n.enter("hardBreakEscape"),n.consume(l),a}function a(l){return Oe(l)?(n.exit("hardBreakEscape"),e(l)):t(l)}}const I3={name:"headingAtx",resolve:N3,tokenize:R3};function N3(n,e){let t=n.length-2,r=3,a,l;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(a={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},l={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},ki(n,r,t-r+1,[["enter",a,e],["enter",l,e],["exit",l,e],["exit",a,e]])),n}function R3(n,e,t){let r=0;return a;function a(y){return n.enter("atxHeading"),l(y)}function l(y){return n.enter("atxHeadingSequence"),u(y)}function u(y){return y===35&&r++<6?(n.consume(y),u):y===null||er(y)?(n.exit("atxHeadingSequence"),h(y)):t(y)}function h(y){return y===35?(n.enter("atxHeadingSequence"),f(y)):y===null||Oe(y)?(n.exit("atxHeading"),e(y)):at(y)?xt(n,h,"whitespace")(y):(n.enter("atxHeadingText"),m(y))}function f(y){return y===35?(n.consume(y),f):(n.exit("atxHeadingSequence"),h(y))}function m(y){return y===null||y===35||er(y)?(n.exit("atxHeadingText"),h(y)):(n.consume(y),m)}}const C3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cS=["pre","script","style","textarea"],D3={concrete:!0,name:"htmlFlow",resolveTo:V3,tokenize:M3},O3={partial:!0,tokenize:L3},k3={partial:!0,tokenize:P3};function V3(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function M3(n,e,t){const r=this;let a,l,u,h,f;return m;function m(R){return y(R)}function y(R){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(R),_}function _(R){return R===33?(n.consume(R),v):R===47?(n.consume(R),l=!0,M):R===63?(n.consume(R),a=3,r.interrupt?e:P):Si(R)?(n.consume(R),u=String.fromCharCode(R),O):t(R)}function v(R){return R===45?(n.consume(R),a=2,b):R===91?(n.consume(R),a=5,h=0,D):Si(R)?(n.consume(R),a=4,r.interrupt?e:P):t(R)}function b(R){return R===45?(n.consume(R),r.interrupt?e:P):t(R)}function D(R){const _e="CDATA[";return R===_e.charCodeAt(h++)?(n.consume(R),h===_e.length?r.interrupt?e:L:D):t(R)}function M(R){return Si(R)?(n.consume(R),u=String.fromCharCode(R),O):t(R)}function O(R){if(R===null||R===47||R===62||er(R)){const _e=R===47,Re=u.toLowerCase();return!_e&&!l&&cS.includes(Re)?(a=1,r.interrupt?e(R):L(R)):C3.includes(u.toLowerCase())?(a=6,_e?(n.consume(R),B):r.interrupt?e(R):L(R)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(R):l?J(R):q(R))}return R===45||dr(R)?(n.consume(R),u+=String.fromCharCode(R),O):t(R)}function B(R){return R===62?(n.consume(R),r.interrupt?e:L):t(R)}function J(R){return at(R)?(n.consume(R),J):U(R)}function q(R){return R===47?(n.consume(R),U):R===58||R===95||Si(R)?(n.consume(R),he):at(R)?(n.consume(R),q):U(R)}function he(R){return R===45||R===46||R===58||R===95||dr(R)?(n.consume(R),he):fe(R)}function fe(R){return R===61?(n.consume(R),K):at(R)?(n.consume(R),fe):q(R)}function K(R){return R===null||R===60||R===61||R===62||R===96?t(R):R===34||R===39?(n.consume(R),f=R,S):at(R)?(n.consume(R),K):N(R)}function S(R){return R===f?(n.consume(R),f=null,C):R===null||Oe(R)?t(R):(n.consume(R),S)}function N(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||er(R)?fe(R):(n.consume(R),N)}function C(R){return R===47||R===62||at(R)?q(R):t(R)}function U(R){return R===62?(n.consume(R),V):t(R)}function V(R){return R===null||Oe(R)?L(R):at(R)?(n.consume(R),V):t(R)}function L(R){return R===45&&a===2?(n.consume(R),X):R===60&&a===1?(n.consume(R),ce):R===62&&a===4?(n.consume(R),z):R===63&&a===3?(n.consume(R),P):R===93&&a===5?(n.consume(R),Me):Oe(R)&&(a===6||a===7)?(n.exit("htmlFlowData"),n.check(O3,ie,k)(R)):R===null||Oe(R)?(n.exit("htmlFlowData"),k(R)):(n.consume(R),L)}function k(R){return n.check(k3,xe,ie)(R)}function xe(R){return n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),me}function me(R){return R===null||Oe(R)?k(R):(n.enter("htmlFlowData"),L(R))}function X(R){return R===45?(n.consume(R),P):L(R)}function ce(R){return R===47?(n.consume(R),u="",be):L(R)}function be(R){if(R===62){const _e=u.toLowerCase();return cS.includes(_e)?(n.consume(R),z):L(R)}return Si(R)&&u.length<8?(n.consume(R),u+=String.fromCharCode(R),be):L(R)}function Me(R){return R===93?(n.consume(R),P):L(R)}function P(R){return R===62?(n.consume(R),z):R===45&&a===2?(n.consume(R),P):L(R)}function z(R){return R===null||Oe(R)?(n.exit("htmlFlowData"),ie(R)):(n.consume(R),z)}function ie(R){return n.exit("htmlFlow"),e(R)}}function P3(n,e,t){const r=this;return a;function a(u){return Oe(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),l):t(u)}function l(u){return r.parser.lazy[r.now().line]?t(u):e(u)}}function L3(n,e,t){return r;function r(a){return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),n.attempt(Ym,e,t)}}const j3={name:"htmlText",tokenize:U3};function U3(n,e,t){const r=this;let a,l,u;return h;function h(P){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(P),f}function f(P){return P===33?(n.consume(P),m):P===47?(n.consume(P),fe):P===63?(n.consume(P),q):Si(P)?(n.consume(P),N):t(P)}function m(P){return P===45?(n.consume(P),y):P===91?(n.consume(P),l=0,D):Si(P)?(n.consume(P),J):t(P)}function y(P){return P===45?(n.consume(P),b):t(P)}function _(P){return P===null?t(P):P===45?(n.consume(P),v):Oe(P)?(u=_,ce(P)):(n.consume(P),_)}function v(P){return P===45?(n.consume(P),b):_(P)}function b(P){return P===62?X(P):P===45?v(P):_(P)}function D(P){const z="CDATA[";return P===z.charCodeAt(l++)?(n.consume(P),l===z.length?M:D):t(P)}function M(P){return P===null?t(P):P===93?(n.consume(P),O):Oe(P)?(u=M,ce(P)):(n.consume(P),M)}function O(P){return P===93?(n.consume(P),B):M(P)}function B(P){return P===62?X(P):P===93?(n.consume(P),B):M(P)}function J(P){return P===null||P===62?X(P):Oe(P)?(u=J,ce(P)):(n.consume(P),J)}function q(P){return P===null?t(P):P===63?(n.consume(P),he):Oe(P)?(u=q,ce(P)):(n.consume(P),q)}function he(P){return P===62?X(P):q(P)}function fe(P){return Si(P)?(n.consume(P),K):t(P)}function K(P){return P===45||dr(P)?(n.consume(P),K):S(P)}function S(P){return Oe(P)?(u=S,ce(P)):at(P)?(n.consume(P),S):X(P)}function N(P){return P===45||dr(P)?(n.consume(P),N):P===47||P===62||er(P)?C(P):t(P)}function C(P){return P===47?(n.consume(P),X):P===58||P===95||Si(P)?(n.consume(P),U):Oe(P)?(u=C,ce(P)):at(P)?(n.consume(P),C):X(P)}function U(P){return P===45||P===46||P===58||P===95||dr(P)?(n.consume(P),U):V(P)}function V(P){return P===61?(n.consume(P),L):Oe(P)?(u=V,ce(P)):at(P)?(n.consume(P),V):C(P)}function L(P){return P===null||P===60||P===61||P===62||P===96?t(P):P===34||P===39?(n.consume(P),a=P,k):Oe(P)?(u=L,ce(P)):at(P)?(n.consume(P),L):(n.consume(P),xe)}function k(P){return P===a?(n.consume(P),a=void 0,me):P===null?t(P):Oe(P)?(u=k,ce(P)):(n.consume(P),k)}function xe(P){return P===null||P===34||P===39||P===60||P===61||P===96?t(P):P===47||P===62||er(P)?C(P):(n.consume(P),xe)}function me(P){return P===47||P===62||er(P)?C(P):t(P)}function X(P){return P===62?(n.consume(P),n.exit("htmlTextData"),n.exit("htmlText"),e):t(P)}function ce(P){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(P),n.exit("lineEnding"),be}function be(P){return at(P)?xt(n,Me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):Me(P)}function Me(P){return n.enter("htmlTextData"),u(P)}}const sx={name:"labelEnd",resolveAll:q3,resolveTo:H3,tokenize:G3},B3={tokenize:Y3},z3={tokenize:K3},F3={tokenize:Q3};function q3(n){let e=-1;const t=[];for(;++e<n.length;){const r=n[e][1];if(t.push(n[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return n.length!==t.length&&ki(n,0,n.length,t),n}function H3(n,e){let t=n.length,r=0,a,l,u,h;for(;t--;)if(a=n[t][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;n[t][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(n[t][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=t,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(u=t);const f={type:n[l][1].type==="labelLink"?"link":"image",start:{...n[l][1].start},end:{...n[n.length-1][1].end}},m={type:"label",start:{...n[l][1].start},end:{...n[u][1].end}},y={type:"labelText",start:{...n[l+r+2][1].end},end:{...n[u-2][1].start}};return h=[["enter",f,e],["enter",m,e]],h=Cr(h,n.slice(l+1,l+r+3)),h=Cr(h,[["enter",y,e]]),h=Cr(h,ix(e.parser.constructs.insideSpan.null,n.slice(l+r+4,u-3),e)),h=Cr(h,[["exit",y,e],n[u-2],n[u-1],["exit",m,e]]),h=Cr(h,n.slice(u+1)),h=Cr(h,[["exit",f,e]]),ki(n,l,n.length,h),n}function G3(n,e,t){const r=this;let a=r.events.length,l,u;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){l=r.events[a][1];break}return h;function h(v){return l?l._inactive?_(v):(u=r.parser.defined.includes(Lo(r.sliceSerialize({start:l.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(v),n.exit("labelMarker"),n.exit("labelEnd"),f):t(v)}function f(v){return v===40?n.attempt(B3,y,u?y:_)(v):v===91?n.attempt(z3,y,u?m:_)(v):u?y(v):_(v)}function m(v){return n.attempt(F3,y,_)(v)}function y(v){return e(v)}function _(v){return l._balanced=!0,t(v)}}function Y3(n,e,t){return r;function r(_){return n.enter("resource"),n.enter("resourceMarker"),n.consume(_),n.exit("resourceMarker"),a}function a(_){return er(_)?Jc(n,l)(_):l(_)}function l(_){return _===41?y(_):WR(n,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function u(_){return er(_)?Jc(n,f)(_):y(_)}function h(_){return t(_)}function f(_){return _===34||_===39||_===40?ZR(n,m,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):y(_)}function m(_){return er(_)?Jc(n,y)(_):y(_)}function y(_){return _===41?(n.enter("resourceMarker"),n.consume(_),n.exit("resourceMarker"),n.exit("resource"),e):t(_)}}function K3(n,e,t){const r=this;return a;function a(h){return JR.call(r,n,l,u,"reference","referenceMarker","referenceString")(h)}function l(h){return r.parser.defined.includes(Lo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(h):t(h)}function u(h){return t(h)}}function Q3(n,e,t){return r;function r(l){return n.enter("reference"),n.enter("referenceMarker"),n.consume(l),n.exit("referenceMarker"),a}function a(l){return l===93?(n.enter("referenceMarker"),n.consume(l),n.exit("referenceMarker"),n.exit("reference"),e):t(l)}}const $3={name:"labelStartImage",resolveAll:sx.resolveAll,tokenize:X3};function X3(n,e,t){const r=this;return a;function a(h){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(h),n.exit("labelImageMarker"),l}function l(h){return h===91?(n.enter("labelMarker"),n.consume(h),n.exit("labelMarker"),n.exit("labelImage"),u):t(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(h):e(h)}}const W3={name:"labelStartLink",resolveAll:sx.resolveAll,tokenize:J3};function J3(n,e,t){const r=this;return a;function a(u){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(u),n.exit("labelMarker"),n.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(u):e(u)}}const xy={name:"lineEnding",tokenize:Z3};function Z3(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),xt(n,e,"linePrefix")}}const zd={name:"thematicBreak",tokenize:e5};function e5(n,e,t){let r=0,a;return l;function l(m){return n.enter("thematicBreak"),u(m)}function u(m){return a=m,h(m)}function h(m){return m===a?(n.enter("thematicBreakSequence"),f(m)):r>=3&&(m===null||Oe(m))?(n.exit("thematicBreak"),e(m)):t(m)}function f(m){return m===a?(n.consume(m),r++,f):(n.exit("thematicBreakSequence"),at(m)?xt(n,h,"whitespace")(m):h(m))}}const $n={continuation:{tokenize:i5},exit:a5,name:"list",tokenize:r5},t5={partial:!0,tokenize:l5},n5={partial:!0,tokenize:s5};function r5(n,e,t){const r=this,a=r.events[r.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return h;function h(b){const D=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:x_(b)){if(r.containerState.type||(r.containerState.type=D,n.enter(D,{_container:!0})),D==="listUnordered")return n.enter("listItemPrefix"),b===42||b===45?n.check(zd,t,m)(b):m(b);if(!r.interrupt||b===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),f(b)}return t(b)}function f(b){return x_(b)&&++u<10?(n.consume(b),f):(!r.interrupt||u<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(n.exit("listItemValue"),m(b)):t(b)}function m(b){return n.enter("listItemMarker"),n.consume(b),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,n.check(Ym,r.interrupt?t:y,n.attempt(t5,v,_))}function y(b){return r.containerState.initialBlankLine=!0,l++,v(b)}function _(b){return at(b)?(n.enter("listItemPrefixWhitespace"),n.consume(b),n.exit("listItemPrefixWhitespace"),v):t(b)}function v(b){return r.containerState.size=l+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(b)}}function i5(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(Ym,a,l);function a(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xt(n,e,"listItemIndent",r.containerState.size+1)(h)}function l(h){return r.containerState.furtherBlankLines||!at(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(n5,e,u)(h))}function u(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,xt(n,n.attempt($n,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function s5(n,e,t){const r=this;return xt(n,a,"listItemIndent",r.containerState.size+1);function a(l){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(l):t(l)}}function a5(n){n.exit(this.containerState.type)}function l5(n,e,t){const r=this;return xt(n,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const u=r.events[r.events.length-1];return!at(l)&&u&&u[1].type==="listItemPrefixWhitespace"?e(l):t(l)}}const hS={name:"setextUnderline",resolveTo:o5,tokenize:u5};function o5(n,e){let t=n.length,r,a,l;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(a=t)}else n[t][1].type==="content"&&n.splice(t,1),!l&&n[t][1].type==="definition"&&(l=t);const u={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[a][1].type="setextHeadingText",l?(n.splice(a,0,["enter",u,e]),n.splice(l+1,0,["exit",n[r][1],e]),n[r][1].end={...n[l][1].end}):n[r][1]=u,n.push(["exit",u,e]),n}function u5(n,e,t){const r=this;let a;return l;function l(m){let y=r.events.length,_;for(;y--;)if(r.events[y][1].type!=="lineEnding"&&r.events[y][1].type!=="linePrefix"&&r.events[y][1].type!=="content"){_=r.events[y][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||_)?(n.enter("setextHeadingLine"),a=m,u(m)):t(m)}function u(m){return n.enter("setextHeadingLineSequence"),h(m)}function h(m){return m===a?(n.consume(m),h):(n.exit("setextHeadingLineSequence"),at(m)?xt(n,f,"lineSuffix")(m):f(m))}function f(m){return m===null||Oe(m)?(n.exit("setextHeadingLine"),e(m)):t(m)}}const c5={tokenize:h5};function h5(n){const e=this,t=n.attempt(Ym,r,n.attempt(this.parser.constructs.flowInitial,a,xt(n,n.attempt(this.parser.constructs.flow,a,n.attempt(g3,a)),"linePrefix")));return t;function r(l){if(l===null){n.consume(l);return}return n.enter("lineEndingBlank"),n.consume(l),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function a(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const f5={resolveAll:tC()},d5=eC("string"),m5=eC("text");function eC(n){return{resolveAll:tC(n==="text"?p5:void 0),tokenize:e};function e(t){const r=this,a=this.parser.constructs[n],l=t.attempt(a,u,h);return u;function u(y){return m(y)?l(y):h(y)}function h(y){if(y===null){t.consume(y);return}return t.enter("data"),t.consume(y),f}function f(y){return m(y)?(t.exit("data"),l(y)):(t.consume(y),f)}function m(y){if(y===null)return!0;const _=a[y];let v=-1;if(_)for(;++v<_.length;){const b=_[v];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function tC(n){return e;function e(t,r){let a=-1,l;for(;++a<=t.length;)l===void 0?t[a]&&t[a][1].type==="data"&&(l=a,a++):(!t[a]||t[a][1].type!=="data")&&(a!==l+2&&(t[l][1].end=t[a-1][1].end,t.splice(l+2,a-l-2),a=l+2),l=void 0);return n?n(t,r):t}}function p5(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],a=e.sliceStream(r);let l=a.length,u=-1,h=0,f;for(;l--;){const m=a[l];if(typeof m=="string"){for(u=m.length;m.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(m===-2)f=!0,h++;else if(m!==-1){l++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(h=0),h){const m={type:t===n.length||f||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:r.start._bufferIndex+u,_index:r.start._index+l,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...m.start},r.start.offset===r.end.offset?Object.assign(r,m):(n.splice(t,0,["enter",m,e],["exit",m,e]),t+=2)}t++}return n}const g5={42:$n,43:$n,45:$n,48:$n,49:$n,50:$n,51:$n,52:$n,53:$n,54:$n,55:$n,56:$n,57:$n,62:KR},y5={91:v3},_5={[-2]:Ey,[-1]:Ey,32:Ey},E5={35:I3,42:zd,45:[hS,zd],60:D3,61:hS,95:zd,96:uS,126:uS},x5={38:$R,92:QR},v5={[-5]:xy,[-4]:xy,[-3]:xy,33:$3,38:$R,42:v_,60:[W6,j3],91:W3,92:[A3,QR],93:sx,95:v_,96:c3},b5={null:[v_,f5]},T5={null:[42,95]},w5={null:[]},A5=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:T5,contentInitial:y5,disable:w5,document:g5,flow:E5,flowInitial:_5,insideSpan:b5,string:x5,text:v5},Symbol.toStringTag,{value:"Module"}));function S5(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const a={},l=[];let u=[],h=[];const f={attempt:S(fe),check:S(K),consume:J,enter:q,exit:he,interrupt:S(K,{interrupt:!0})},m={code:null,containerState:{},defineSkip:M,events:[],now:D,parser:n,previous:null,sliceSerialize:v,sliceStream:b,write:_};let y=e.tokenize.call(m,f);return e.resolveAll&&l.push(e),m;function _(V){return u=Cr(u,V),O(),u[u.length-1]!==null?[]:(N(e,0),m.events=ix(l,m.events,m),m.events)}function v(V,L){return N5(b(V),L)}function b(V){return I5(u,V)}function D(){const{_bufferIndex:V,_index:L,line:k,column:xe,offset:me}=r;return{_bufferIndex:V,_index:L,line:k,column:xe,offset:me}}function M(V){a[V.line]=V.column,U()}function O(){let V;for(;r._index<u.length;){const L=u[r._index];if(typeof L=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<L.length;)B(L.charCodeAt(r._bufferIndex));else B(L)}}function B(V){y=y(V)}function J(V){Oe(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,U()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=V}function q(V,L){const k=L||{};return k.type=V,k.start=D(),m.events.push(["enter",k,m]),h.push(k),k}function he(V){const L=h.pop();return L.end=D(),m.events.push(["exit",L,m]),L}function fe(V,L){N(V,L.from)}function K(V,L){L.restore()}function S(V,L){return k;function k(xe,me,X){let ce,be,Me,P;return Array.isArray(xe)?ie(xe):"tokenize"in xe?ie([xe]):z(xe);function z(Se){return ze;function ze(dt){const rt=dt!==null&&Se[dt],zn=dt!==null&&Se.null,Mr=[...Array.isArray(rt)?rt:rt?[rt]:[],...Array.isArray(zn)?zn:zn?[zn]:[]];return ie(Mr)(dt)}}function ie(Se){return ce=Se,be=0,Se.length===0?X:R(Se[be])}function R(Se){return ze;function ze(dt){return P=C(),Me=Se,Se.partial||(m.currentConstruct=Se),Se.name&&m.parser.constructs.disable.null.includes(Se.name)?Re():Se.tokenize.call(L?Object.assign(Object.create(m),L):m,f,_e,Re)(dt)}}function _e(Se){return V(Me,P),me}function Re(Se){return P.restore(),++be<ce.length?R(ce[be]):X}}}function N(V,L){V.resolveAll&&!l.includes(V)&&l.push(V),V.resolve&&ki(m.events,L,m.events.length-L,V.resolve(m.events.slice(L),m)),V.resolveTo&&(m.events=V.resolveTo(m.events,m))}function C(){const V=D(),L=m.previous,k=m.currentConstruct,xe=m.events.length,me=Array.from(h);return{from:xe,restore:X};function X(){r=V,m.previous=L,m.currentConstruct=k,m.events.length=xe,h=me,U()}}function U(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function I5(n,e){const t=e.start._index,r=e.start._bufferIndex,a=e.end._index,l=e.end._bufferIndex;let u;if(t===a)u=[n[t].slice(r,l)];else{if(u=n.slice(t,a),r>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(r):u.shift()}l>0&&u.push(n[a].slice(0,l))}return u}function N5(n,e){let t=-1;const r=[];let a;for(;++t<n.length;){const l=n[t];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&a)continue;u=" ";break}default:u=String.fromCharCode(l)}a=l===-2,r.push(u)}return r.join("")}function R5(n){const r={constructs:P6([A5,...(n||{}).extensions||[]]),content:a(H6),defined:[],document:a(Y6),flow:a(c5),lazy:{},string:a(d5),text:a(m5)};return r;function a(l){return u;function u(h){return S5(r,l,h)}}}function C5(n){for(;!XR(n););return n}const fS=/[\0\t\n\r]/g;function D5(){let n=1,e="",t=!0,r;return a;function a(l,u,h){const f=[];let m,y,_,v,b;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),_=0,e="",t&&(l.charCodeAt(0)===65279&&_++,t=void 0);_<l.length;){if(fS.lastIndex=_,m=fS.exec(l),v=m&&m.index!==void 0?m.index:l.length,b=l.charCodeAt(v),!m){e=l.slice(_);break}if(b===10&&_===v&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),_<v&&(f.push(l.slice(_,v)),n+=v-_),b){case 0:{f.push(65533),n++;break}case 9:{for(y=Math.ceil(n/4)*4,f.push(-2);n++<y;)f.push(-1);break}case 10:{f.push(-4),n=1;break}default:r=!0,n=1}_=v+1}return h&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}const O5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function k5(n){return n.replace(O5,V5)}function V5(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const a=t.charCodeAt(1),l=a===120||a===88;return YR(t.slice(l?2:1),l?16:10)}return rx(t)||n}const nC={}.hasOwnProperty;function M5(n,e,t){return typeof e!="string"&&(t=e,e=void 0),P5(t)(C5(R5(t).document().write(D5()(n,e,!0))))}function P5(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ot),autolinkProtocol:C,autolinkEmail:C,atxHeading:l(ms),blockQuote:l(zn),characterEscape:C,characterReference:C,codeFenced:l(Mr),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Mr,u),codeText:l(fs,u),codeTextData:C,data:C,codeFlowValue:C,definition:l(ds),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(gr),hardBreakEscape:l(ei),hardBreakTrailing:l(ei),htmlFlow:l(ps,u),htmlFlowData:C,htmlText:l(ps,u),htmlTextData:C,image:l(va),label:u,link:l(Ot),listItem:l(ti),listItemValue:v,listOrdered:l(Pt,_),listUnordered:l(Pt),paragraph:l(xu),reference:R,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(ms),strong:l(Rl),thematicBreak:l(Mi)},exit:{atxHeading:f(),atxHeadingSequence:fe,autolink:f(),autolinkEmail:rt,autolinkProtocol:dt,blockQuote:f(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:Re,characterReferenceMarkerNumeric:Re,characterReferenceValue:Se,characterReference:ze,codeFenced:f(O),codeFencedFence:M,codeFencedFenceInfo:b,codeFencedFenceMeta:D,codeFlowValue:U,codeIndented:f(B),codeText:f(me),codeTextData:U,data:U,definition:f(),definitionDestinationString:he,definitionLabelString:J,definitionTitleString:q,emphasis:f(),hardBreakEscape:f(L),hardBreakTrailing:f(L),htmlFlow:f(k),htmlFlowData:U,htmlText:f(xe),htmlTextData:U,image:f(ce),label:Me,labelText:be,lineEnding:V,link:f(X),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:_e,resourceDestinationString:P,resourceTitleString:z,resource:ie,setextHeading:f(N),setextHeadingLineSequence:S,setextHeadingText:K,strong:f(),thematicBreak:f()}};rC(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(se){let pe={type:"root",children:[]};const Ce={stack:[pe],tokenStack:[],config:e,enter:h,exit:m,buffer:u,resume:y,data:t},Fe=[];let Ze=-1;for(;++Ze<se.length;)if(se[Ze][1].type==="listOrdered"||se[Ze][1].type==="listUnordered")if(se[Ze][0]==="enter")Fe.push(Ze);else{const wn=Fe.pop();Ze=a(se,wn,Ze)}for(Ze=-1;++Ze<se.length;){const wn=e[se[Ze][0]];nC.call(wn,se[Ze][1].type)&&wn[se[Ze][1].type].call(Object.assign({sliceSerialize:se[Ze][2].sliceSerialize},Ce),se[Ze][1])}if(Ce.tokenStack.length>0){const wn=Ce.tokenStack[Ce.tokenStack.length-1];(wn[1]||dS).call(Ce,void 0,wn[0])}for(pe.position={start:Ws(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:Ws(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<e.transforms.length;)pe=e.transforms[Ze](pe)||pe;return pe}function a(se,pe,Ce){let Fe=pe-1,Ze=-1,wn=!1,yr,Bt,kt,on;for(;++Fe<=Ce;){const $e=se[Fe];switch($e[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{$e[0]==="enter"?Ze++:Ze--,on=void 0;break}case"lineEndingBlank":{$e[0]==="enter"&&(yr&&!on&&!Ze&&!kt&&(kt=Fe),on=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:on=void 0}if(!Ze&&$e[0]==="enter"&&$e[1].type==="listItemPrefix"||Ze===-1&&$e[0]==="exit"&&($e[1].type==="listUnordered"||$e[1].type==="listOrdered")){if(yr){let Pr=Fe;for(Bt=void 0;Pr--;){const An=se[Pr];if(An[1].type==="lineEnding"||An[1].type==="lineEndingBlank"){if(An[0]==="exit")continue;Bt&&(se[Bt][1].type="lineEndingBlank",wn=!0),An[1].type="lineEnding",Bt=Pr}else if(!(An[1].type==="linePrefix"||An[1].type==="blockQuotePrefix"||An[1].type==="blockQuotePrefixWhitespace"||An[1].type==="blockQuoteMarker"||An[1].type==="listItemIndent"))break}kt&&(!Bt||kt<Bt)&&(yr._spread=!0),yr.end=Object.assign({},Bt?se[Bt][1].start:$e[1].end),se.splice(Bt||Fe,0,["exit",yr,$e[2]]),Fe++,Ce++}if($e[1].type==="listItemPrefix"){const Pr={type:"listItem",_spread:!1,start:Object.assign({},$e[1].start),end:void 0};yr=Pr,se.splice(Fe,0,["enter",Pr,$e[2]]),Fe++,Ce++,kt=void 0,on=!0}}}return se[pe][1]._spread=wn,Ce}function l(se,pe){return Ce;function Ce(Fe){h.call(this,se(Fe),Fe),pe&&pe.call(this,Fe)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(se,pe,Ce){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([pe,Ce||void 0]),se.position={start:Ws(pe.start),end:void 0}}function f(se){return pe;function pe(Ce){se&&se.call(this,Ce),m.call(this,Ce)}}function m(se,pe){const Ce=this.stack.pop(),Fe=this.tokenStack.pop();if(Fe)Fe[0].type!==se.type&&(pe?pe.call(this,se,Fe[0]):(Fe[1]||dS).call(this,se,Fe[0]));else throw new Error("Cannot close `"+se.type+"` ("+Wc({start:se.start,end:se.end})+"): its not open");Ce.position.end=Ws(se.end)}function y(){return V6(this.stack.pop())}function _(){this.data.expectingFirstListItemValue=!0}function v(se){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function b(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=se}function D(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=se}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function O(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function B(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se.replace(/(\r?\n|\r)$/g,"")}function J(se){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=pe,Ce.identifier=Lo(this.sliceSerialize(se)).toLowerCase()}function q(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.title=se}function he(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.url=se}function fe(se){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Ce=this.sliceSerialize(se).length;pe.depth=Ce}}function K(){this.data.setextHeadingSlurpLineEnding=!0}function S(se){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function C(se){const Ce=this.stack[this.stack.length-1].children;let Fe=Ce[Ce.length-1];(!Fe||Fe.type!=="text")&&(Fe=mn(),Fe.position={start:Ws(se.start),end:void 0},Ce.push(Fe)),this.stack.push(Fe)}function U(se){const pe=this.stack.pop();pe.value+=this.sliceSerialize(se),pe.position.end=Ws(se.end)}function V(se){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=pe.children[pe.children.length-1];Ce.position.end=Ws(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(pe.type)&&(C.call(this,se),U.call(this,se))}function L(){this.data.atHardBreak=!0}function k(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se}function xe(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se}function me(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se}function X(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=pe,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function ce(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=pe,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function be(se){const pe=this.sliceSerialize(se),Ce=this.stack[this.stack.length-2];Ce.label=k5(pe),Ce.identifier=Lo(pe).toLowerCase()}function Me(){const se=this.stack[this.stack.length-1],pe=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Fe=se.children;Ce.children=Fe}else Ce.alt=pe}function P(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.url=se}function z(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.title=se}function ie(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function _e(se){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=pe,Ce.identifier=Lo(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function Re(se){this.data.characterReferenceType=se.type}function Se(se){const pe=this.sliceSerialize(se),Ce=this.data.characterReferenceType;let Fe;Ce?(Fe=YR(pe,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Fe=rx(pe);const Ze=this.stack[this.stack.length-1];Ze.value+=Fe}function ze(se){const pe=this.stack.pop();pe.position.end=Ws(se.end)}function dt(se){U.call(this,se);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(se)}function rt(se){U.call(this,se);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(se)}function zn(){return{type:"blockquote",children:[]}}function Mr(){return{type:"code",lang:null,meta:null,value:""}}function fs(){return{type:"inlineCode",value:""}}function ds(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gr(){return{type:"emphasis",children:[]}}function ms(){return{type:"heading",depth:0,children:[]}}function ei(){return{type:"break"}}function ps(){return{type:"html",value:""}}function va(){return{type:"image",title:null,url:"",alt:null}}function Ot(){return{type:"link",title:null,url:"",children:[]}}function Pt(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function ti(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function xu(){return{type:"paragraph",children:[]}}function Rl(){return{type:"strong",children:[]}}function mn(){return{type:"text",value:""}}function Mi(){return{type:"thematicBreak"}}}function Ws(n){return{line:n.line,column:n.column,offset:n.offset}}function rC(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?rC(n,r):L5(n,r)}}function L5(n,e){let t;for(t in e)if(nC.call(e,t))switch(t){case"canContainEols":{const r=e[t];r&&n[t].push(...r);break}case"transforms":{const r=e[t];r&&n[t].push(...r);break}case"enter":case"exit":{const r=e[t];r&&Object.assign(n[t],r);break}}}function dS(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+Wc({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+Wc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Wc({start:e.start,end:e.end})+") is still open")}function j5(n){const e=this;e.parser=t;function t(r){return M5(r,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function U5(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function B5(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function z5(n,e){const t=e.value?e.value+`
`:"",r={},a=e.lang?e.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return e.meta&&(l.data={meta:e.meta}),n.patch(e,l),l=n.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},n.patch(e,l),l}function F5(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function q5(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function H5(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=Eu(r.toLowerCase()),l=n.footnoteOrder.indexOf(r);let u,h=n.footnoteCounts.get(r);h===void 0?(h=0,n.footnoteOrder.push(r),u=n.footnoteOrder.length):u=l+1,h+=1,n.footnoteCounts.set(r,h);const f={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+a,id:t+"fnref-"+a+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};n.patch(e,f);const m={type:"element",tagName:"sup",properties:{},children:[f]};return n.patch(e,m),n.applyData(e,m)}function G5(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Y5(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function iC(n,e){const t=e.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=n.all(e),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=r:a.push({type:"text",value:r}),a}function K5(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return iC(n,e);const a={src:Eu(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"img",properties:a,children:[]};return n.patch(e,l),n.applyData(e,l)}function Q5(n,e){const t={src:Eu(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,r),n.applyData(e,r)}function $5(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,r),n.applyData(e,r)}function X5(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return iC(n,e);const a={href:Eu(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"a",properties:a,children:n.all(e)};return n.patch(e,l),n.applyData(e,l)}function W5(n,e){const t={href:Eu(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function J5(n,e,t){const r=n.all(e),a=t?Z5(t):sC(e),l={},u=[];if(typeof e.checked=="boolean"){const y=r[0];let _;y&&y.type==="element"&&y.tagName==="p"?_=y:(_={type:"element",tagName:"p",properties:{},children:[]},r.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const y=r[h];(a||h!==0||y.type!=="element"||y.tagName!=="p")&&u.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!a?u.push(...y.children):u.push(y)}const f=r[r.length-1];f&&(a||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:u};return n.patch(e,m),n.applyData(e,m)}function Z5(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let r=-1;for(;!e&&++r<t.length;)e=sC(t[r])}return e}function sC(n){const e=n.spread;return e??n.children.length>1}function eU(n,e){const t={},r=n.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++a<r.length;){const u=r[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(r,!0)};return n.patch(e,l),n.applyData(e,l)}function tU(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function nU(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function rU(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function iU(n,e){const t=n.all(e),r=t.shift(),a=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:n.wrap([r],!0)};n.patch(e.children[0],u),a.push(u)}if(t.length>0){const u={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},h=ZE(e.children[1]),f=UR(e.children[e.children.length-1]);h&&f&&(u.position={start:h,end:f}),a.push(u)}const l={type:"element",tagName:"table",properties:{},children:n.wrap(a,!0)};return n.patch(e,l),n.applyData(e,l)}function sU(n,e,t){const r=t?t.children:void 0,l=(r?r.indexOf(e):1)===0?"th":"td",u=t&&t.type==="table"?t.align:void 0,h=u?u.length:e.children.length;let f=-1;const m=[];for(;++f<h;){const _=e.children[f],v={},b=u?u[f]:void 0;b&&(v.align=b);let D={type:"element",tagName:l,properties:v,children:[]};_&&(D.children=n.all(_),n.patch(_,D),D=n.applyData(_,D)),m.push(D)}const y={type:"element",tagName:"tr",properties:{},children:n.wrap(m,!0)};return n.patch(e,y),n.applyData(e,y)}function aU(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const mS=9,pS=32;function lU(n){const e=String(n),t=/\r?\n|\r/g;let r=t.exec(e),a=0;const l=[];for(;r;)l.push(gS(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=t.exec(e);return l.push(gS(e.slice(a),a>0,!1)),l.join("")}function gS(n,e,t){let r=0,a=n.length;if(e){let l=n.codePointAt(r);for(;l===mS||l===pS;)r++,l=n.codePointAt(r)}if(t){let l=n.codePointAt(a-1);for(;l===mS||l===pS;)a--,l=n.codePointAt(a-1)}return a>r?n.slice(r,a):""}function oU(n,e){const t={type:"text",value:lU(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function uU(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const cU={blockquote:U5,break:B5,code:z5,delete:F5,emphasis:q5,footnoteReference:H5,heading:G5,html:Y5,imageReference:K5,image:Q5,inlineCode:$5,linkReference:X5,link:W5,listItem:J5,list:eU,paragraph:tU,root:nU,strong:rU,table:iU,tableCell:aU,tableRow:sU,text:oU,thematicBreak:uU,toml:wd,yaml:wd,definition:wd,footnoteDefinition:wd};function wd(){}const aC=-1,Km=0,Zc=1,fm=2,ax=3,lx=4,ox=5,ux=6,lC=7,oC=8,yS=typeof self=="object"?self:globalThis,hU=(n,e)=>{const t=(a,l)=>(n.set(l,a),a),r=a=>{if(n.has(a))return n.get(a);const[l,u]=e[a];switch(l){case Km:case aC:return t(u,a);case Zc:{const h=t([],a);for(const f of u)h.push(r(f));return h}case fm:{const h=t({},a);for(const[f,m]of u)h[r(f)]=r(m);return h}case ax:return t(new Date(u),a);case lx:{const{source:h,flags:f}=u;return t(new RegExp(h,f),a)}case ox:{const h=t(new Map,a);for(const[f,m]of u)h.set(r(f),r(m));return h}case ux:{const h=t(new Set,a);for(const f of u)h.add(r(f));return h}case lC:{const{name:h,message:f}=u;return t(new yS[h](f),a)}case oC:return t(BigInt(u),a);case"BigInt":return t(Object(BigInt(u)),a);case"ArrayBuffer":return t(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return t(new DataView(h),u)}}return t(new yS[l](u),a)};return r},_S=n=>hU(new Map,n)(0),wo="",{toString:fU}={},{keys:dU}=Object,kc=n=>{const e=typeof n;if(e!=="object"||!n)return[Km,e];const t=fU.call(n).slice(8,-1);switch(t){case"Array":return[Zc,wo];case"Object":return[fm,wo];case"Date":return[ax,wo];case"RegExp":return[lx,wo];case"Map":return[ox,wo];case"Set":return[ux,wo];case"DataView":return[Zc,t]}return t.includes("Array")?[Zc,t]:t.includes("Error")?[lC,t]:[fm,t]},Ad=([n,e])=>n===Km&&(e==="function"||e==="symbol"),mU=(n,e,t,r)=>{const a=(u,h)=>{const f=r.push(u)-1;return t.set(h,f),f},l=u=>{if(t.has(u))return t.get(u);let[h,f]=kc(u);switch(h){case Km:{let y=u;switch(f){case"bigint":h=oC,y=u.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+f);y=null;break;case"undefined":return a([aC],u)}return a([h,y],u)}case Zc:{if(f){let v=u;return f==="DataView"?v=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(v=new Uint8Array(u)),a([f,[...v]],u)}const y=[],_=a([h,y],u);for(const v of u)y.push(l(v));return _}case fm:{if(f)switch(f){case"BigInt":return a([f,u.toString()],u);case"Boolean":case"Number":case"String":return a([f,u.valueOf()],u)}if(e&&"toJSON"in u)return l(u.toJSON());const y=[],_=a([h,y],u);for(const v of dU(u))(n||!Ad(kc(u[v])))&&y.push([l(v),l(u[v])]);return _}case ax:return a([h,u.toISOString()],u);case lx:{const{source:y,flags:_}=u;return a([h,{source:y,flags:_}],u)}case ox:{const y=[],_=a([h,y],u);for(const[v,b]of u)(n||!(Ad(kc(v))||Ad(kc(b))))&&y.push([l(v),l(b)]);return _}case ux:{const y=[],_=a([h,y],u);for(const v of u)(n||!Ad(kc(v)))&&y.push(l(v));return _}}const{message:m}=u;return a([h,{name:f,message:m}],u)};return l},ES=(n,{json:e,lossy:t}={})=>{const r=[];return mU(!(e||t),!!e,new Map,r)(n),r},dm=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?_S(ES(n,e)):structuredClone(n):(n,e)=>_S(ES(n,e));function pU(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function gU(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function yU(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||pU,r=n.options.footnoteBackLabel||gU,a=n.options.footnoteLabel||"Footnotes",l=n.options.footnoteLabelTagName||"h2",u=n.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let f=-1;for(;++f<n.footnoteOrder.length;){const m=n.footnoteById.get(n.footnoteOrder[f]);if(!m)continue;const y=n.all(m),_=String(m.identifier).toUpperCase(),v=Eu(_.toLowerCase());let b=0;const D=[],M=n.footnoteCounts.get(_);for(;M!==void 0&&++b<=M;){D.length>0&&D.push({type:"text",value:" "});let J=typeof t=="string"?t:t(f,b);typeof J=="string"&&(J={type:"text",value:J}),D.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,b),className:["data-footnote-backref"]},children:Array.isArray(J)?J:[J]})}const O=y[y.length-1];if(O&&O.type==="element"&&O.tagName==="p"){const J=O.children[O.children.length-1];J&&J.type==="text"?J.value+=" ":O.children.push({type:"text",value:" "}),O.children.push(...D)}else y.push(...D);const B={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:n.wrap(y,!0)};n.patch(m,B),h.push(B)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...dm(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(h,!0)},{type:"text",value:`
`}]}}const uC=(function(n){if(n==null)return vU;if(typeof n=="function")return Qm(n);if(typeof n=="object")return Array.isArray(n)?_U(n):EU(n);if(typeof n=="string")return xU(n);throw new Error("Expected function, string, or object as test")});function _U(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=uC(n[t]);return Qm(r);function r(...a){let l=-1;for(;++l<e.length;)if(e[l].apply(this,a))return!0;return!1}}function EU(n){const e=n;return Qm(t);function t(r){const a=r;let l;for(l in n)if(a[l]!==e[l])return!1;return!0}}function xU(n){return Qm(e);function e(t){return t&&t.type===n}}function Qm(n){return e;function e(t,r,a){return!!(bU(t)&&n.call(this,t,typeof r=="number"?r:void 0,a||void 0))}}function vU(){return!0}function bU(n){return n!==null&&typeof n=="object"&&"type"in n}const cC=[],TU=!0,xS=!1,wU="skip";function AU(n,e,t,r){let a;typeof e=="function"&&typeof t!="function"?(r=t,t=e):a=e;const l=uC(a),u=r?-1:1;h(n,void 0,[])();function h(f,m,y){const _=f&&typeof f=="object"?f:{};if(typeof _.type=="string"){const b=typeof _.tagName=="string"?_.tagName:typeof _.name=="string"?_.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(f.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=cC,D,M,O;if((!e||l(f,m,y[y.length-1]||void 0))&&(b=SU(t(f,y)),b[0]===xS))return b;if("children"in f&&f.children){const B=f;if(B.children&&b[0]!==wU)for(M=(r?B.children.length:-1)+u,O=y.concat(B);M>-1&&M<B.children.length;){const J=B.children[M];if(D=h(J,M,O)(),D[0]===xS)return D;M=typeof D[1]=="number"?D[1]:M+u}}return b}}}function SU(n){return Array.isArray(n)?n:typeof n=="number"?[TU,n]:n==null?cC:[n]}function hC(n,e,t,r){let a,l,u;typeof e=="function"&&typeof t!="function"?(l=void 0,u=e,a=t):(l=e,u=t,a=r),AU(n,l,h,a);function h(f,m){const y=m[m.length-1],_=y?y.children.indexOf(f):void 0;return u(f,_,y)}}const b_={}.hasOwnProperty,IU={};function NU(n,e){const t=e||IU,r=new Map,a=new Map,l=new Map,u={...cU,...t.handlers},h={all:m,applyData:CU,definitionById:r,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:u,one:f,options:t,patch:RU,wrap:OU};return hC(n,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const _=y.type==="definition"?r:a,v=String(y.identifier).toUpperCase();_.has(v)||_.set(v,y)}}),h;function f(y,_){const v=y.type,b=h.handlers[v];if(b_.call(h.handlers,v)&&b)return b(h,y,_);if(h.options.passThrough&&h.options.passThrough.includes(v)){if("children"in y){const{children:M,...O}=y,B=dm(O);return B.children=h.all(y),B}return dm(y)}return(h.options.unknownHandler||DU)(h,y,_)}function m(y){const _=[];if("children"in y){const v=y.children;let b=-1;for(;++b<v.length;){const D=h.one(v[b],y);if(D){if(b&&v[b-1].type==="break"&&(!Array.isArray(D)&&D.type==="text"&&(D.value=vS(D.value)),!Array.isArray(D)&&D.type==="element")){const M=D.children[0];M&&M.type==="text"&&(M.value=vS(M.value))}Array.isArray(D)?_.push(...D):_.push(D)}}}return _}}function RU(n,e){n.position&&(e.position=f6(n))}function CU(n,e){let t=e;if(n&&n.data){const r=n.data.hName,a=n.data.hChildren,l=n.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const u="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:u}}t.type==="element"&&l&&Object.assign(t.properties,dm(l)),"children"in t&&t.children&&a!==null&&a!==void 0&&(t.children=a)}return t}function DU(n,e){const t=e.data||{},r="value"in e&&!(b_.call(t,"hProperties")||b_.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function OU(n,e){const t=[];let r=-1;for(e&&t.push({type:"text",value:`
`});++r<n.length;)r&&t.push({type:"text",value:`
`}),t.push(n[r]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function vS(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function bS(n,e){const t=NU(n,e),r=t.one(n,void 0),a=yU(t),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function kU(n,e){return n&&"run"in n?async function(t,r){const a=bS(t,{file:r,...e});await n.run(a,r)}:function(t,r){return bS(t,{file:r,...n||e})}}function TS(n){if(n)throw n}var vy,wS;function VU(){if(wS)return vy;wS=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(m){return typeof Array.isArray=="function"?Array.isArray(m):e.call(m)==="[object Array]"},l=function(m){if(!m||e.call(m)!=="[object Object]")return!1;var y=n.call(m,"constructor"),_=m.constructor&&m.constructor.prototype&&n.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!y&&!_)return!1;var v;for(v in m);return typeof v>"u"||n.call(m,v)},u=function(m,y){t&&y.name==="__proto__"?t(m,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):m[y.name]=y.newValue},h=function(m,y){if(y==="__proto__")if(n.call(m,y)){if(r)return r(m,y).value}else return;return m[y]};return vy=function f(){var m,y,_,v,b,D,M=arguments[0],O=1,B=arguments.length,J=!1;for(typeof M=="boolean"&&(J=M,M=arguments[1]||{},O=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});O<B;++O)if(m=arguments[O],m!=null)for(y in m)_=h(M,y),v=h(m,y),M!==v&&(J&&v&&(l(v)||(b=a(v)))?(b?(b=!1,D=_&&a(_)?_:[]):D=_&&l(_)?_:{},u(M,{name:y,newValue:f(J,D,v)})):typeof v<"u"&&u(M,{name:y,newValue:v}));return M},vy}var MU=VU();const by=mm(MU);function T_(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function PU(){const n=[],e={run:t,use:r};return e;function t(...a){let l=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...a);function h(f,...m){const y=n[++l];let _=-1;if(f){u(f);return}for(;++_<a.length;)(m[_]===null||m[_]===void 0)&&(m[_]=a[_]);a=m,y?LU(y,h)(...m):u(null,...m)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return n.push(a),e}}function LU(n,e){let t;return r;function r(...u){const h=n.length>u.length;let f;h&&u.push(a);try{f=n.apply(this,u)}catch(m){const y=m;if(h&&t)throw y;return a(y)}h||(f&&f.then&&typeof f.then=="function"?f.then(l,a):f instanceof Error?a(f):l(f))}function a(u,...h){t||(t=!0,e(u,...h))}function l(u){a(null,u)}}const Ti={basename:jU,dirname:UU,extname:BU,join:zU,sep:"/"};function jU(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Uh(n);let t=0,r=-1,a=n.length,l;if(e===void 0||e.length===0||e.length>n.length){for(;a--;)if(n.codePointAt(a)===47){if(l){t=a+1;break}}else r<0&&(l=!0,r=a+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let u=-1,h=e.length-1;for(;a--;)if(n.codePointAt(a)===47){if(l){t=a+1;break}}else u<0&&(l=!0,u=a+1),h>-1&&(n.codePointAt(a)===e.codePointAt(h--)?h<0&&(r=a):(h=-1,r=u));return t===r?r=u:r<0&&(r=n.length),n.slice(t,r)}function UU(n){if(Uh(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.codePointAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function BU(n){Uh(n);let e=n.length,t=-1,r=0,a=-1,l=0,u;for(;e--;){const h=n.codePointAt(e);if(h===47){if(u){r=e+1;break}continue}t<0&&(u=!0,t=e+1),h===46?a<0?a=e:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||t<0||l===0||l===1&&a===t-1&&a===r+1?"":n.slice(a,t)}function zU(...n){let e=-1,t;for(;++e<n.length;)Uh(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":FU(t)}function FU(n){Uh(n);const e=n.codePointAt(0)===47;let t=qU(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function qU(n,e){let t="",r=0,a=-1,l=0,u=-1,h,f;for(;++u<=n.length;){if(u<n.length)h=n.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(a===u-1||l===1))if(a!==u-1&&l===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(f=t.lastIndexOf("/"),f!==t.length-1){f<0?(t="",r=0):(t=t.slice(0,f),r=t.length-1-t.lastIndexOf("/")),a=u,l=0;continue}}else if(t.length>0){t="",r=0,a=u,l=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(a+1,u):t=n.slice(a+1,u),r=u-a-1;a=u,l=0}else h===46&&l>-1?l++:l=-1}return t}function Uh(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const HU={cwd:GU};function GU(){return"/"}function w_(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function YU(n){if(typeof n=="string")n=new URL(n);else if(!w_(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return KU(n)}function KU(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const r=e.codePointAt(t+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const Ty=["history","path","basename","stem","extname","dirname"];class fC{constructor(e){let t;e?w_(e)?t={path:e}:typeof e=="string"||QU(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":HU.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ty.length;){const l=Ty[r];l in t&&t[l]!==void 0&&t[l]!==null&&(this[l]=l==="history"?[...t[l]]:t[l])}let a;for(a in t)Ty.includes(a)||(this[a]=t[a])}get basename(){return typeof this.path=="string"?Ti.basename(this.path):void 0}set basename(e){Ay(e,"basename"),wy(e,"basename"),this.path=Ti.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ti.dirname(this.path):void 0}set dirname(e){AS(this.basename,"dirname"),this.path=Ti.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ti.extname(this.path):void 0}set extname(e){if(wy(e,"extname"),AS(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ti.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){w_(e)&&(e=YU(e)),Ay(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ti.basename(this.path,this.extname):void 0}set stem(e){Ay(e,"stem"),wy(e,"stem"),this.path=Ti.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){const a=this.message(e,t,r);throw a.fatal=!0,a}info(e,t,r){const a=this.message(e,t,r);return a.fatal=void 0,a}message(e,t,r){const a=new On(e,t,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function wy(n,e){if(n&&n.includes(Ti.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ti.sep+"`")}function Ay(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function AS(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function QU(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const $U=(function(n){const r=this.constructor.prototype,a=r[n],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,r),l}),XU={}.hasOwnProperty;class cx extends $U{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=PU()}copy(){const e=new cx;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];e.use(...r)}return e.data(by(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(Ny("data",this.frozen),this.namespace[e]=t,this):XU.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ny("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=t.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Sd(e),r=this.parser||this.Parser;return Sy("parse",r),r(String(t),t)}process(e,t){const r=this;return this.freeze(),Sy("process",this.parser||this.Parser),Iy("process",this.compiler||this.Compiler),t?a(void 0,t):new Promise(a);function a(l,u){const h=Sd(e),f=r.parse(h);r.run(f,h,function(y,_,v){if(y||!_||!v)return m(y);const b=_,D=r.stringify(b,v);ZU(D)?v.value=D:v.result=D,m(y,v)});function m(y,_){y||!_?u(y):l?l(_):t(void 0,_)}}}processSync(e){let t=!1,r;return this.freeze(),Sy("processSync",this.parser||this.Parser),Iy("processSync",this.compiler||this.Compiler),this.process(e,a),IS("processSync","process",t),r;function a(l,u){t=!0,TS(l),r=u}}run(e,t,r){SS(e),this.freeze();const a=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?l(void 0,r):new Promise(l);function l(u,h){const f=Sd(t);a.run(e,f,m);function m(y,_,v){const b=_||e;y?h(y):u?u(b):r(void 0,b,v)}}}runSync(e,t){let r=!1,a;return this.run(e,t,l),IS("runSync","run",r),a;function l(u,h){TS(u),a=h,r=!0}}stringify(e,t){this.freeze();const r=Sd(t),a=this.compiler||this.Compiler;return Iy("stringify",a),SS(e),a(e,r)}use(e,...t){const r=this.attachers,a=this.namespace;if(Ny("use",this.frozen),e!=null)if(typeof e=="function")f(e,t);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(m){if(typeof m=="function")f(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[y,..._]=m;f(y,_)}else u(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function u(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(m.plugins),m.settings&&(a.settings=by(!0,a.settings,m.settings))}function h(m){let y=-1;if(m!=null)if(Array.isArray(m))for(;++y<m.length;){const _=m[y];l(_)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function f(m,y){let _=-1,v=-1;for(;++_<r.length;)if(r[_][0]===m){v=_;break}if(v===-1)r.push([m,...y]);else if(y.length>0){let[b,...D]=y;const M=r[v][1];T_(M)&&T_(b)&&(b=by(!0,M,b)),r[v]=[m,b,...D]}}}}const WU=new cx().freeze();function Sy(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Iy(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Ny(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function SS(n){if(!T_(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function IS(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Sd(n){return JU(n)?n:new fC(n)}function JU(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function ZU(n){return typeof n=="string"||e9(n)}function e9(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const t9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",NS=[],RS={allowDangerousHtml:!0},n9=/^(https?|ircs?|mailto|xmpp)$/i,r9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function i9(n){const e=s9(n),t=a9(n);return l9(e.runSync(e.parse(t),t),n)}function s9(n){const e=n.rehypePlugins||NS,t=n.remarkPlugins||NS,r=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...RS}:RS;return WU().use(j5).use(t).use(kU,r).use(e)}function a9(n){const e=n.children||"",t=new fC;return typeof e=="string"&&(t.value=e),t}function l9(n,e){const t=e.allowedElements,r=e.allowElement,a=e.components,l=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,f=e.urlTransform||o9;for(const y of r9)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+t9+y.id,void 0);return hC(n,m),y6(n,{Fragment:E.Fragment,components:a,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function m(y,_,v){if(y.type==="raw"&&v&&typeof _=="number")return u?v.children.splice(_,1):v.children[_]={type:"text",value:y.value},_;if(y.type==="element"){let b;for(b in _y)if(Object.hasOwn(_y,b)&&Object.hasOwn(y.properties,b)){const D=y.properties[b],M=_y[b];(M===null||M.includes(y.tagName))&&(y.properties[b]=f(String(D||""),b,y))}}if(y.type==="element"){let b=t?!t.includes(y.tagName):l?l.includes(y.tagName):!1;if(!b&&r&&typeof _=="number"&&(b=!r(y,_,v)),b&&v&&typeof _=="number")return h&&y.children?v.children.splice(_,1,...y.children):v.children.splice(_,1),_}}}function o9(n){const e=n.indexOf(":"),t=n.indexOf("?"),r=n.indexOf("#"),a=n.indexOf("/");return e===-1||a!==-1&&e>a||t!==-1&&e>t||r!==-1&&e>r||n9.test(n.slice(0,e))?n:""}const u9=({data:n})=>{const{id:e}=FS(),t=n.programs.find(r=>r.id===e);return t?E.jsxs("div",{className:"bg-white",children:[E.jsxs("div",{className:"h-[60vh] relative overflow-hidden",children:[E.jsx("img",{src:t.image,className:"w-full h-full object-cover"}),E.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:E.jsxs("div",{className:"text-center px-4 max-w-4xl",children:[E.jsx("h1",{className:"text-white text-5xl font-extrabold mb-6 drop-shadow-lg",children:t.title}),E.jsxs("div",{className:"flex items-center justify-center gap-4 text-teal-400 font-bold uppercase tracking-widest text-sm",children:[E.jsx("span",{className:"w-8 h-px bg-teal-400"}),"Core Mission",E.jsx("span",{className:"w-8 h-px bg-teal-400"})]})]})})]}),E.jsx("div",{className:"max-w-7xl mx-auto px-4 py-20",children:E.jsxs("div",{className:"flex flex-col lg:flex-row gap-16",children:[E.jsxs("div",{className:"lg:w-2/3 space-y-12",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsx("h2",{className:"text-3xl font-bold text-sky-950",children:"About the Project"}),E.jsx("div",{className:"prose prose-slate max-w-none",children:E.jsx(i9,{children:t.longDescription||t.description})})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"bg-slate-50 p-8 rounded-2xl border border-slate-100",children:[E.jsx("i",{className:"fa-solid fa-check-circle text-teal-500 text-2xl mb-4"}),E.jsx("h4",{className:"font-bold text-sky-900 mb-2",children:"Sustainable Impact"}),E.jsx("p",{className:"text-sm text-slate-500",children:"We ensure that our projects create long-term stability for the community, not just temporary relief."})]}),E.jsxs("div",{className:"bg-slate-50 p-8 rounded-2xl border border-slate-100",children:[E.jsx("i",{className:"fa-solid fa-eye text-teal-500 text-2xl mb-4"}),E.jsx("h4",{className:"font-bold text-sky-900 mb-2",children:"Full Transparency"}),E.jsx("p",{className:"text-sm text-slate-500",children:"Donors receive quarterly reports and visual proof of their contributions in action."})]})]}),E.jsxs("div",{className:"bg-sky-900 text-white p-12 rounded-3xl relative overflow-hidden",children:[E.jsxs("div",{className:"relative z-10",children:[E.jsx("h3",{className:"text-3xl font-bold mb-6",children:"Want to make a difference?"}),E.jsxs("p",{className:"text-slate-300 mb-8 max-w-xl",children:["Every single contribution towards this ",t.title.toLowerCase()," program brings us closer to a world without suffering."]}),E.jsx(At,{to:"/donate",className:"bg-orange-500 text-white px-10 py-4 rounded-full font-bold shadow-xl hover:bg-orange-600 transition-all inline-block",children:"SUPPORT THIS PROJECT"})]}),E.jsx("i",{className:`fa-solid ${t.icon} absolute -bottom-10 -right-10 text-[200px] text-white/5`})]})]}),E.jsx("aside",{className:"lg:w-1/3 space-y-8",children:E.jsxs("div",{className:"bg-teal-600 p-8 rounded-3xl text-white",children:[E.jsx("h3",{className:"text-xl font-bold mb-4",children:"Direct Inquiry?"}),E.jsx("p",{className:"text-sm opacity-90 mb-6",children:"Talk to our project coordinators about specific sponsorship tiers."}),E.jsxs("a",{href:"tel:+923001234567",className:"flex items-center gap-3 font-bold border-b border-white/30 pb-2",children:[E.jsx("i",{className:"fa-solid fa-phone"})," +92 321 111"]})]})})]})})]}):E.jsx("div",{className:"p-20 text-center",children:"Program not found"})},c9=({data:n})=>{const[e,t]=te.useState("All"),r=["All",...Array.from(new Set(n.gallery.map(l=>l.category)))],a=e==="All"?n.gallery:n.gallery.filter(l=>l.category===e);return E.jsx("div",{className:"py-20 bg-white",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("h1",{className:"text-5xl font-extrabold text-sky-950 mb-4",children:"Impact in Pictures"}),E.jsx("p",{className:"text-slate-500",children:"Witness the change your donations bring to life."})]}),E.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:r.map(l=>E.jsx("button",{onClick:()=>t(l),className:`px-8 py-2.5 rounded-full font-bold transition-all border-2 ${e===l?"bg-teal-600 text-white border-teal-600 shadow-lg":"text-slate-600 border-slate-100 hover:border-teal-600"}`,children:l},l))}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(l=>E.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-2xl shadow-md cursor-pointer",children:[E.jsx("img",{src:l.url,alt:l.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),E.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-8",children:[E.jsx("span",{className:"text-teal-400 font-bold text-xs uppercase mb-2",children:l.category}),E.jsx("h3",{className:"text-white text-xl font-bold",children:l.title})]})]},l.id))})]})})},Xn={phone:"+92 321 111 2447",phone1:"+92 321 111 2448",whatsapp:"923211112447",email:"info@aasra-welfare.org",address:"80, Nargis Block Allama Iqbal Town Lahore, Pakistan.",mapUrl:"https://maps.app.goo.gl/Zo5XBgNfBs6TmLfE6",internationalPaymentLink:"https://www.launchgood.com/aasra",registrationNumbers:["Govt of Punjab: DO.SW.LHR(R&G)08-1564","Charity Commission: PB-LHR-8081727259287789","FBR (NTN): 4547488"]},Id={bankName:"Bank Makramah Ltd.",accountTitle:"Aasra Welfare Society",accountNumber:"01994426001714134112",iban:"PK56SUMB9944207140134112"},h9=()=>{const n=()=>{const e=`
 AASRA WELFARE SOCIETY (Bank Details) 
-----------------------------------------
Bank Name: ${Id.bankName}
Title: ${Id.accountTitle}
Acc No: ${Id.accountNumber}
IBAN No: ${Id.iban}

"The believers shade on the Day of Resurrection will be their charity." (Tirmidhi)
-----------------------------------------
    `.trim();navigator.clipboard.writeText(e),alert(` Bank details copied to clipboard!
You can now share them on WhatsApp or paste them in your banking app.`)};return E.jsxs("div",{className:"bg-slate-50 min-h-screen",children:[E.jsxs("section",{className:"bg-sky-950 py-12 md:py-24 relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 opacity-[0.03] flex items-center justify-center scale-150",children:E.jsx("i",{className:"fa-solid fa-kaaba text-white text-[25rem]"})}),E.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center relative z-10 reveal",children:[E.jsx("span",{className:"text-teal-400 font-black uppercase tracking-[0.5em] text-[8px] mb-4 block",children:"INVEST IN AKHIRAH"}),E.jsxs("h1",{className:"text-3xl md:text-7xl font-black text-white tracking-tighter leading-tight mb-4",children:["Invest in Your ",E.jsx("br",{}),E.jsx("span",{className:"text-teal-400 italic font-serif",children:"Eternal Future."})]}),E.jsx("p",{className:"text-slate-300 max-w-xl mx-auto text-sm md:text-lg font-medium leading-relaxed font-serif italic border-x border-white/10 px-6",children:'"Those who spend their wealth in the way of Allah is like a seed of grain which grows seven ears." (Surah Al-Baqarah 2:261)'})]})]}),E.jsx("div",{className:"max-w-7xl mx-auto px-6 -mt-12 relative z-30 pb-32",children:E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[E.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[E.jsxs("div",{className:"bg-white rounded-[2.5rem] md:rounded-[3.5rem] shadow-[0_40px_100px_-20px_rgba(0,0,0,0.12)] overflow-hidden border border-slate-100 flex flex-col reveal-zoom",children:[E.jsxs("div",{className:"bg-white p-6 md:p-14 text-sky-900 relative",children:[E.jsx("div",{className:"absolute top-0 right-0 w-[300px] h-[300px] bg-sky-50 rounded-full blur-[80px] -translate-y-1/2 translate-x-1/2 opacity-40"}),E.jsxs("div",{className:"relative z-10",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-12",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl md:text-4xl font-black tracking-tighter mb-1 uppercase text-sky-900",children:"Direct Bank Transfer"}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"bg-teal-500 w-8 h-1 rounded-full"}),E.jsx("p",{className:"text-teal-600 font-black text-[9px] uppercase tracking-[0.3em]",children:"SECURE LOCAL DONATION PORTAL"})]})]}),E.jsxs("div",{className:"bg-slate-50 p-5 rounded-2xl border border-slate-100 flex flex-col items-center justify-center min-w-[140px] shadow-sm",children:[E.jsx("i",{className:"fa-solid fa-building-columns text-sky-900 text-4xl mb-2"}),E.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:"Bank Makramah Ltd"})]})]}),E.jsxs("div",{className:"space-y-8 md:space-y-12 mb-10",children:[E.jsxs("div",{className:"group border-l-4 border-slate-100 pl-4 md:pl-8 hover:border-[#07847F] transition-all",children:[E.jsx("p",{className:"text-[10px] md:text-[11px] font-black uppercase tracking-[0.3em] text-slate-400 mb-2 md:mb-4",children:"Bank Name"}),E.jsx("p",{className:"text-xl md:text-5xl font-normal tracking-tight text-sky-900 leading-none whitespace-nowrap",children:"Bank Makramah Ltd."})]}),E.jsxs("div",{className:"group border-l-4 border-slate-100 pl-4 md:pl-8 hover:border-[#07847F] transition-all",children:[E.jsx("p",{className:"text-[10px] md:text-[11px] font-black uppercase tracking-[0.3em] text-slate-400 mb-2 md:mb-4",children:"Title"}),E.jsx("p",{className:"text-xl md:text-5xl font-normal tracking-tight text-sky-900 leading-none whitespace-nowrap",children:"Aasra Welfare Society"})]}),E.jsxs("div",{className:"group border-l-4 border-slate-100 pl-4 md:pl-8 hover:border-[#07847F] transition-all",children:[E.jsx("p",{className:"text-[10px] md:text-[11px] font-black uppercase tracking-[0.3em] text-slate-400 mb-2 md:mb-4",children:"Acc No"}),E.jsx("p",{className:"text-xl md:text-5xl font-normal tracking-tight text-sky-900 leading-none break-all select-all whitespace-nowrap",children:"01994426001714134112"})]}),E.jsxs("div",{className:"group border-l-4 border-slate-100 pl-4 md:pl-8 hover:border-[#07847F] transition-all bg-sky-50/40 py-6 md:py-8 rounded-r-[2.5rem] md:rounded-r-[3rem] pr-6",children:[E.jsx("p",{className:"text-[10px] md:text-[11px] font-black uppercase tracking-[0.3em] text-slate-400 mb-2 md:mb-4",children:"IBAN No"}),E.jsx("p",{className:"text-sm md:text-4xl font-normal tracking-tight text-sky-900 leading-none break-all select-all whitespace-nowrap",children:"PK56SUMB9944207140134112"})]})]})]})]}),E.jsxs("div",{className:"p-8 md:p-14 bg-white border-t border-slate-50",children:[E.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[E.jsxs("button",{onClick:n,className:"flex-1 bg-[#07847F] text-white hover:opacity-90 py-6 rounded-2xl font-black tracking-[0.15em] uppercase text-[10px] flex items-center justify-center gap-4 transition-all shadow-xl group",children:[E.jsx("i",{className:"fa-solid fa-copy group-hover:rotate-12 transition-transform text-lg"}),E.jsx("span",{children:"Copy Account Details"})]}),E.jsxs("button",{onClick:n,className:"flex-1 bg-teal-50 text-[#07847F] hover:bg-teal-100 py-6 rounded-2xl font-black tracking-[0.15em] uppercase text-[10px] flex items-center justify-center gap-4 transition-all border border-teal-100 group",children:[E.jsx("i",{className:"fa-solid fa-share-nodes group-hover:scale-125 transition-transform text-lg"}),E.jsx("span",{children:"Share Details"})]})]}),E.jsx("div",{className:"mt-8 text-center",children:E.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest opacity-60",children:"Safe & Secure Direct Bank Transfer"})})]})]}),E.jsxs("div",{className:"bg-orange-600 rounded-[2.5rem] p-8 md:p-12 text-white shadow-xl relative overflow-hidden flex flex-col md:flex-row items-center gap-8 reveal-left",children:[E.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-3xl shrink-0 backdrop-blur-xl border border-white/10 animate-pulse",children:E.jsx("i",{className:"fa-solid fa-receipt"})}),E.jsxs("div",{className:"text-center md:text-left",children:[E.jsx("h3",{className:"text-xl font-black mb-1 tracking-tight uppercase",children:"Donation Confirmation"}),E.jsxs("p",{className:"text-orange-50 opacity-95 leading-relaxed font-medium text-sm",children:["Please WhatsApp a screenshot of your transfer to ",E.jsx("span",{className:"font-black border-b border-white/40",children:Xn.phone})," to receive your confirmation receipt."]})]})]})]}),E.jsxs("aside",{className:"lg:col-span-4 space-y-8 sticky top-[140px]",children:[E.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 md:p-12 shadow-[0_32px_64px_-16px_rgba(0,0,0,0.08)] border border-slate-100 flex flex-col reveal-right",children:[E.jsx("span",{className:"text-orange-600 font-black uppercase tracking-[0.3em] text-[9px] mb-6 block",children:"GLOBAL GIVING"}),E.jsx("h2",{className:"text-2xl font-black text-sky-950 tracking-tighter mb-4 uppercase leading-none",children:"Overseas Donors"}),E.jsx("p",{className:"text-slate-500 text-sm mb-10 leading-relaxed font-medium",children:"Supporters outside Pakistan can donate via Credit Card or PayPal through our secure global partner."}),E.jsxs("a",{href:Xn.internationalPaymentLink,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-[#07847F] text-white hover:bg-orange-600 py-6 rounded-2xl font-black text-[10px] uppercase tracking-widest text-center shadow-lg transition-all flex items-center justify-center gap-4 group",children:[E.jsx("i",{className:"fa-solid fa-globe-americas text-lg"}),"International Portal"]}),E.jsxs("div",{className:"flex justify-center gap-6 pt-10 grayscale opacity-30 text-3xl",children:[E.jsx("i",{className:"fa-brands fa-cc-visa"}),E.jsx("i",{className:"fa-brands fa-cc-mastercard"}),E.jsx("i",{className:"fa-brands fa-cc-paypal"})]})]}),E.jsxs("div",{className:"bg-[#07847F] rounded-[2.5rem] p-10 text-white shadow-xl reveal-zoom",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[E.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center border border-white/20",children:E.jsx("i",{className:"fa-solid fa-hands-holding-heart text-xl"})}),E.jsx("h4",{className:"font-black uppercase tracking-widest text-[11px]",children:"Helping Hands"})]}),E.jsx("p",{className:"text-[14px] text-teal-50 leading-relaxed font-medium italic opacity-95",children:'"Small acts, when multiplied by millions of people, can transform the world. Your contribution is a beacon of hope."'})]})]})]})})]})},f9=({data:n,setData:e})=>{const[t,r]=te.useState({name:"",email:"",subject:"",message:""}),[a,l]=te.useState(!1),[u,h]=te.useState(!1),f=async y=>{y.preventDefault(),l(!0);try{await al.collection("messages").add({name:t.name,email:t.email,subject:t.subject,message:t.message,timestamp:hR(),status:"new"}),l(!1),h(!0),r({name:"",email:"",subject:"",message:""})}catch(_){console.error("Error adding document: ",_),alert("Failed to send message. Please try again later."),l(!1)}},m=y=>{const{name:_,value:v}=y.target;r(b=>({...b,[_]:v}))};return E.jsx("div",{className:"bg-slate-50 min-h-screen py-20",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-20",children:[E.jsxs("div",{className:"space-y-16 reveal-left",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-[#07847F] font-black uppercase tracking-[0.4em] text-[10px] mb-6 block",children:"CONNECT WITH US"}),E.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-sky-950 mb-8 tracking-tighter uppercase leading-none",children:["Get in ",E.jsx("br",{}),E.jsx("span",{className:"text-[#07847F] italic font-serif lowercase",children:"touch."})]}),E.jsx("p",{className:"text-slate-500 text-lg md:text-xl leading-relaxed font-medium",children:"Assalam-o-Alaikum! We are here to answer your questions and help you maximize your impact."})]}),E.jsxs("div",{className:"space-y-10",children:[E.jsxs("div",{className:"flex items-start gap-8",children:[E.jsx("div",{className:"w-16 h-16 bg-white rounded-3xl flex items-center justify-center text-[#07847F] shadow-xl border border-slate-100 flex-shrink-0 text-2xl",children:E.jsx("i",{className:"fa-solid fa-location-dot"})}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-black text-sky-950 mb-2 uppercase tracking-widest text-sm",children:"Our Headquarters"}),E.jsx("a",{href:Xn.mapUrl,target:"_blank",rel:"noopener noreferrer",className:"text-slate-500 text-base hover:text-[#07847F] transition-colors",children:Xn.address})]})]}),E.jsxs("div",{className:"flex items-start gap-8",children:[E.jsx("div",{className:"w-16 h-16 bg-white rounded-3xl flex items-center justify-center text-[#07847F] shadow-xl border border-slate-100 flex-shrink-0 text-2xl",children:E.jsx("i",{className:"fa-solid fa-phone"})}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("h4",{className:"font-black text-sky-950 mb-2 uppercase tracking-widest text-sm",children:"Helpline Numbers"}),E.jsx("p",{className:"text-slate-500 text-base font-bold",children:Xn.phone}),E.jsx("p",{className:"text-slate-500 text-base font-bold",children:Xn.phone1})]})]}),E.jsxs("div",{className:"flex items-start gap-8",children:[E.jsx("div",{className:"w-16 h-16 bg-white rounded-3xl flex items-center justify-center text-[#07847F] shadow-xl border border-slate-100 flex-shrink-0 text-2xl",children:E.jsx("i",{className:"fa-solid fa-envelope"})}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-black text-sky-950 mb-2 uppercase tracking-widest text-sm",children:"Email Support"}),E.jsx("p",{className:"text-slate-500 text-base",children:Xn.email})]})]})]}),E.jsxs("div",{className:"h-80 rounded-[3rem] overflow-hidden shadow-2xl relative group",children:[E.jsx("iframe",{src:"https://www.google.com/maps?q=Aasra+Welfare+Society&&z=14&output=embed",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy"}),E.jsx("a",{href:"https://maps.google.com/?q=Aasra+Welfare+Society",target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-6 right-6 bg-white text-sky-950 px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-2xl hover:bg-sky-950 hover:text-white transition-all",children:"Open in Google Maps"})]})]}),E.jsx("div",{className:"bg-white p-12 md:p-16 rounded-[4rem] shadow-2xl border border-slate-100 relative reveal-right",children:u?E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-8 animate-fade-in",children:[E.jsx("div",{className:"w-24 h-24 bg-teal-100 text-[#07847F] rounded-full flex items-center justify-center text-5xl",children:E.jsx("i",{className:"fa-solid fa-paper-plane"})}),E.jsx("h2",{className:"text-3xl font-black text-sky-950 tracking-tighter uppercase",children:"Message Sent!"}),E.jsx("p",{className:"text-slate-500 max-w-xs mx-auto",children:"Thank you for reaching out. Our team will get back to you within 24 hours."}),E.jsx("button",{onClick:()=>h(!1),className:"text-[#07847F] font-black text-xs uppercase tracking-widest hover:underline",children:"Send another message"})]}):E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:"text-3xl font-black text-sky-950 mb-10 tracking-tighter uppercase",children:"Direct Message"}),E.jsxs("form",{onSubmit:f,className:"space-y-8",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Your Full Name"}),E.jsx("input",{required:!0,name:"name",value:t.name,onChange:m,type:"text",className:"w-full bg-slate-50 border border-slate-50 p-5 rounded-2xl focus:ring-2 focus:ring-[#07847F] focus:bg-white outline-none transition-all font-bold text-sky-950",placeholder:"e.g. Abdullah Khan"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Email Address"}),E.jsx("input",{required:!0,name:"email",value:t.email,onChange:m,type:"email",className:"w-full bg-slate-50 border border-slate-50 p-5 rounded-2xl focus:ring-2 focus:ring-[#07847F] focus:bg-white outline-none transition-all font-bold text-sky-950",placeholder:"abdullah@example.com"})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Subject"}),E.jsx("input",{required:!0,name:"subject",value:t.subject,onChange:m,type:"text",className:"w-full bg-slate-50 border border-slate-50 p-5 rounded-2xl focus:ring-2 focus:ring-[#07847F] focus:bg-white outline-none transition-all font-bold text-sky-950",placeholder:"Inquiry about Orphan Sponsorship"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"How can we help?"}),E.jsx("textarea",{required:!0,name:"message",value:t.message,onChange:m,rows:6,className:"w-full bg-slate-50 border border-slate-50 p-5 rounded-2xl focus:ring-2 focus:ring-[#07847F] focus:bg-white outline-none resize-none transition-all font-bold text-sky-950",placeholder:"Share your thoughts here..."})]}),E.jsxs("button",{disabled:a,className:"w-full bg-sky-900 text-white py-6 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-sky-800 shadow-2xl transition-all disabled:opacity-50 flex items-center justify-center gap-4",children:[a?E.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):E.jsx("i",{className:"fa-solid fa-paper-plane"}),"Send Your Message"]})]})]})})]})})})},d9=()=>{const[n,e]=te.useState({gold:0,silver:0,cash:0,receivables:0,shares:0,liabilities:0}),[t,r]=te.useState(0);te.useEffect(()=>{const u=n.gold+n.silver+n.cash+n.receivables+n.shares-n.liabilities,h=u>0?u*.025:0;r(h)},[n]);const a=l=>{const{name:u,value:h}=l.target;e(f=>({...f,[u]:parseFloat(h)||0}))};return E.jsx("div",{className:"py-20 bg-slate-50 min-h-screen",children:E.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[E.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl overflow-hidden flex flex-col md:flex-row border border-slate-100",children:[E.jsxs("div",{className:"md:w-3/5 p-8 lg:p-14 space-y-10",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-teal-600 font-black uppercase tracking-[0.4em] text-[9px] mb-4 block",children:"OBLIGATORY CHARITY"}),E.jsx("h1",{className:"text-3xl md:text-5xl font-black text-sky-950 tracking-tighter uppercase leading-none",children:"Zakat Calculator"}),E.jsx("p",{className:"text-slate-500 text-sm mt-4 font-medium italic",children:"Fulfill your pillar of Islam with accuracy and transparency."})]}),E.jsx("div",{className:"space-y-8",children:E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[{name:"cash",label:"Cash in Bank/Home"},{name:"gold",label:"Gold (Value in PKR)"},{name:"silver",label:"Silver (Value in PKR)"},{name:"shares",label:"Business Investments"},{name:"receivables",label:"Business Receivables"},{name:"liabilities",label:"Total Liabilities"}].map(l=>E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:l.label}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{name:l.name,type:"number",onChange:a,className:"w-full bg-slate-50 border border-slate-100 p-5 rounded-2xl focus:ring-2 focus:ring-teal-500 focus:bg-white outline-none transition-all font-bold text-sky-950 pr-12",placeholder:"0.00"}),E.jsx("span",{className:"absolute right-5 top-1/2 -translate-y-1/2 text-[9px] font-black text-slate-300",children:"PKR"})]})]},l.name))})})]}),E.jsxs("div",{className:"md:w-2/5 bg-sky-900 text-white p-10 md:p-14 flex flex-col justify-between relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-teal-500 rounded-full blur-[120px] opacity-20 -translate-y-1/2 translate-x-1/2"}),E.jsxs("div",{className:"space-y-10 relative z-10",children:[E.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center text-3xl text-teal-400 border border-white/5",children:E.jsx("i",{className:"fa-solid fa-calculator"})}),E.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tighter",children:["Your Total ",E.jsx("br",{}),E.jsx("span",{className:"text-teal-400 italic font-serif",children:"Payable Zakat"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-400",children:"Calculated Amount (2.5%)"}),E.jsxs("p",{className:"text-5xl md:text-6xl font-black text-teal-400 leading-none break-all",children:[E.jsx("span",{className:"text-2xl mr-2",children:"PKR"}),t.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),E.jsx("p",{className:"text-xs text-slate-400 leading-relaxed font-medium",children:"* Based on the standard 2.5% rate. Ensure your net wealth meets the Nisab threshold."})]}),E.jsx("div",{className:"pt-16 relative z-10",children:E.jsx("button",{className:"w-full bg-orange-600 hover:bg-orange-700 text-white py-6 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all shadow-2xl shadow-sky-950",children:"DONATE YOUR ZAKAT NOW"})})]})]}),E.jsxs("div",{className:"mt-12 bg-white rounded-[2rem] border border-slate-100 p-10 shadow-sm flex flex-col md:flex-row gap-8 items-center",children:[E.jsx("div",{className:"w-16 h-16 bg-teal-50 text-teal-600 rounded-2xl flex items-center justify-center text-3xl shrink-0",children:E.jsx("i",{className:"fa-solid fa-circle-info"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-black text-sky-950 mb-3 uppercase text-sm tracking-widest",children:"Nisab Guidance"}),E.jsx("p",{className:"text-sm text-slate-500 leading-relaxed font-medium",children:"Zakat is mandatory if your net wealth exceeds the value of 87.48 grams of gold or 612.36 grams of silver. Please consult with a local scholar for specific advice regarding your portfolio."})]})]})]})})},m9=({data:n})=>{const{id:e}=FS(),t=n.posts.find(r=>r.id===e);return t?E.jsx("div",{className:"bg-slate-50 min-h-screen py-12",children:E.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[E.jsxs(At,{to:"/",className:"inline-flex items-center text-teal-600 font-bold mb-8 hover:gap-2 transition-all",children:[E.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," BACK TO HOME"]}),E.jsxs("article",{className:"bg-white rounded-3xl overflow-hidden shadow-sm",children:[E.jsx("img",{src:t.image,alt:t.title,className:"w-full h-96 object-cover"}),E.jsxs("div",{className:"p-8 lg:p-12 space-y-6",children:[E.jsxs("div",{className:"flex items-center gap-4 text-xs font-bold uppercase tracking-widest",children:[E.jsx("span",{className:"bg-teal-100 text-teal-600 px-3 py-1 rounded-full",children:t.category}),E.jsx("span",{className:"text-slate-400",children:t.date})]}),E.jsx("h1",{className:"text-4xl font-extrabold text-sky-950 leading-tight",children:t.title}),E.jsxs("div",{className:"prose prose-slate max-w-none text-slate-600 leading-relaxed text-lg",children:[t.content||t.excerpt,E.jsx("p",{className:"mt-6",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),E.jsx("p",{className:"mt-4",children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})]})]}),E.jsxs("div",{className:"mt-12 bg-sky-900 text-white p-8 rounded-3xl flex flex-col md:flex-row items-center justify-between gap-6",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"text-xl font-bold",children:"Help us share the impact"}),E.jsx("p",{className:"text-slate-300 text-sm",children:"Your awareness counts as much as your donation."})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{className:"bg-white/10 p-4 rounded-xl hover:bg-white/20 transition-all",children:E.jsx("i",{className:"fa-brands fa-facebook"})}),E.jsx("button",{className:"bg-white/10 p-4 rounded-xl hover:bg-white/20 transition-all",children:E.jsx("i",{className:"fa-brands fa-twitter"})}),E.jsx("button",{className:"bg-white/10 p-4 rounded-xl hover:bg-white/20 transition-all",children:E.jsx("i",{className:"fa-solid fa-link"})})]})]})]})}):E.jsx("div",{className:"p-20 text-center",children:"Post not found"})},p9=[{id:"1",title:"Orphan Care Program",description:"Providing safe shelter, quality education, and nutritious food to children without guardians.",longDescription:"Our orphan care program currently houses over 50 children in a modern facility. We focus on holistic development including private schooling, sports, and religious education.",image:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=2070&auto=format&fit=crop",icon:"fa-child"},{id:"2",title:"Clean Water Initiative",description:"Installing solar-powered pumps and deep wells in water-scarce regions of Tharparkar and Balochistan.",longDescription:"AASRA has successfully installed over 150 water wells, providing clean drinking water to remote villages where women previously walked daily for water.",image:"https://images.unsplash.com/photo-1594498653385-d5172c532c00?q=80&w=2070&auto=format&fit=crop",icon:"fa-faucet-drip"},{id:"3",title:"Food Distribution",description:"Weekly meal drives and monthly ration packs for vulnerable families living below the poverty line.",longDescription:"We distribute hot meals every Friday and provide monthly grocery packs to 500+ registered families, ensuring no child goes to bed hungry.",image:"https://images.unsplash.com/photo-1593113598332-cd288d649433?q=80&w=2070&auto=format&fit=crop",icon:"fa-bowl-food"},{id:"4",title:"Women Empowerment",description:"Skill training centers teaching sewing and digital literacy to help widows gain financial independence.",longDescription:"Our centers offer 6-month certified courses in tailoring and computer skills, followed by assistance in starting small home-based businesses.",image:"https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=2070&auto=format&fit=crop",icon:"fa-hand-holding-heart"}],g9=[{id:"1",title:"New Water Well Inaugurated in Tharparkar",excerpt:"Witness the joy of 200 families receiving clean water for the first time in decades.",content:"Our latest solar-powered water pump is now operational, serving a community that previously had to travel 5km for brackish water.",image:"https://images.unsplash.com/photo-1541252260730-0412e8e2108e?q=80&w=2074&auto=format&fit=crop",date:"Oct 24, 2023",category:"Water"},{id:"2",title:"Ramadan Ration Drive 2024: Our Goal",excerpt:"Help us reach 2,000 families this holy month. Your Zakat can feed a family for a month.",content:"We are preparing ration packs containing flour, oil, sugar, and pulses to be distributed across five districts.",image:"https://images.unsplash.com/photo-1518391846015-55a9cc003b25?q=80&w=2070&auto=format&fit=crop",date:"Nov 10, 2023",category:"Food"},{id:"3",title:"Winter Relief: Distributing Blankets",excerpt:"Our team reached remote areas of Balochistan to provide warmth to those in need.",content:"Over 1,000 high-quality blankets were distributed to families living in makeshift shelters during the cold snap.",image:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=2070&auto=format&fit=crop",date:"Dec 15, 2023",category:"Relief"},{id:"4",title:"Women Graduating from Vocational Center",excerpt:"20 widows successfully completed our six-month tailoring and embroidery course.",content:"Each graduate was gifted a sewing machine to start her own business and support her children with dignity.",image:"https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=2070&auto=format&fit=crop",date:"Jan 05, 2024",category:"Empowerment"}],y9=[{id:"1",url:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=2070&auto=format&fit=crop",category:"Orphans",title:"Eid Celebrations"},{id:"2",url:"https://images.unsplash.com/photo-1594498653385-d5172c532c00?q=80&w=2070&auto=format&fit=crop",category:"Water",title:"Deep Well Installation"},{id:"3",url:"https://images.unsplash.com/photo-1593113598332-cd288d649433?q=80&w=2070&auto=format&fit=crop",category:"Food",title:"Dastarkhwan Activity"},{id:"4",url:"https://images.unsplash.com/photo-1509062522246-3755977927d7?q=80&w=2070&auto=format&fit=crop",category:"Orphans",title:"Classroom Learning"},{id:"5",url:"https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=2070&auto=format&fit=crop",category:"Women",title:"Sewing Workshop"},{id:"6",url:"https://images.unsplash.com/photo-1511949863663-92c5c06824c2?q=80&w=2070&auto=format&fit=crop",category:"Water",title:"Solar Pump Project"}],_9=[{id:"1",name:"Dr. Ahmad Salman",role:"Chief Patron",bio:"Dedicated to social welfare for 25 years, overseeing the strategic vision of AASRA.",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=2000&auto=format&fit=crop"},{id:"2",name:"Sarah Khan",role:"President",bio:"Leading operational excellence and community engagement programs since 2018.",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=2000&auto=format&fit=crop"},{id:"3",name:"Usman Ali",role:"Board Director",bio:"Financial strategist ensuring transparency and maximum impact of every donor cent.",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=2000&auto=format&fit=crop"},{id:"4",name:"Zoya Baig",role:"Project Manager",bio:"Oversees on-ground project execution and community relations in remote areas.",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=2000&auto=format&fit=crop"},{id:"5",name:"Bilal Hassan",role:"Head of Logistics",bio:"Expert in supply chain management for food and relief distribution across Pakistan.",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=2000&auto=format&fit=crop"},{id:"6",name:"Maria Qureshi",role:"Medical Advisor",bio:"Volunteer physician ensuring healthcare standards in our orphanages and camps.",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=2000&auto=format&fit=crop"}],E9=[{id:"1",url:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=2070&auto=format&fit=crop",title:"Building a Better Tomorrow",subtitle:"One Life at a Time. Your support creates hope."},{id:"2",url:"https://images.unsplash.com/photo-1594498653385-d5172c532c00?q=80&w=2070&auto=format&fit=crop",title:"Pure Water, Pure Hearts",subtitle:"Bringing life-giving resources to thirsty communities."},{id:"3",url:"https://images.unsplash.com/photo-1518391846015-55a9cc003b25?q=80&w=2070&auto=format&fit=crop",title:'"Charity does not decrease wealth"',subtitle:"Investing in the hereafter. Your Saddaqa changes lives forever.  Sahih Muslim"}],x9=[{id:"1",imageUrl:"https://images.unsplash.com/photo-1518391846015-55a9cc003b25?q=80&w=2070&auto=format&fit=crop",title:"Ramadan 2024: Feed a Family",link:"/donate"},{id:"2",imageUrl:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=2070&auto=format&fit=crop",title:"Orphan Education Fund",link:"/programs/1"}],v9=[{id:"1",title:"Excellence in Welfare Award 2023",text:"AASRA was recognized for its outstanding contribution to community uplift and transparent operations by the National Charity Board.",image:"https://images.unsplash.com/photo-1567427017947-545c5f8d16ad?q=80&w=1000&auto=format&fit=crop",date:"Dec 2023"},{id:"2",title:"150th Water Well Milestone",text:"In mid-2023, we successfully inaugurated our 150th deep water well, providing clean water to over 30,000 residents across Pakistan.",image:"https://images.unsplash.com/photo-1594498653385-d5172c532c00?q=80&w=1000&auto=format&fit=crop",date:"July 2023"},{id:"3",title:"Holistic Orphanage Expansion",text:"We doubled our capacity to house 50+ children in a new purpose-built facility equipped with digital labs and libraries.",image:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=1000&auto=format&fit=crop",date:"March 2023"}],b9=({data:n,setData:e})=>{var K;const[t,r]=te.useState(!1),[a,l]=te.useState("dashboard"),[u,h]=te.useState(""),[f,m]=te.useState(!1),[y,_]=te.useState(null),[v,b]=te.useState(""),[D,M]=te.useState([]);te.useEffect(()=>{if(t){const S=al.collection("messages").orderBy("timestamp","desc").onSnapshot(N=>{M(N.docs.map(C=>({id:C.id,...C.data()})))});return()=>S()}},[t]);const O=()=>u==="admin123"?r(!0):alert("Wrong Password"),B=async(S,N)=>{window.confirm("Delete this item from Cloud?")&&await al.collection(N).doc(S).delete()},J=(S,N=null)=>{b(S),_(N||{}),m(!0)},q=async S=>{S.preventDefault();const N=v;try{if(y.id){const{id:C,...U}=y;await al.collection(N).doc(C).set(U,{merge:!0})}else await al.collection(N).add({...y,timestamp:hR()});m(!1)}catch(C){alert("Error saving: "+C)}},he=async()=>{if(!window.confirm("This will push all mock data to your live Firebase database. Continue?"))return;const S={programs:p9,posts:g9,gallery:y9,team:_9,sliders:E9,campaigns:x9,achievements:v9,volunteers:[{name:"Ali Raza",role:"Volunteer",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=2000&auto=format&fit=crop"},{name:"Fatima Ahmed",role:"Volunteer",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=2000&auto=format&fit=crop"}],banners:[{type:"zakat",title:"Zakat Fund",text:"Zakat is a bridge to paradise. Purify your wealth and uplift the Ummah by contributing to our 100% transparent Zakat Fund.",link:"/zakat"},{type:"hadith",title:"Surah Al-Baqarah 2:261",text:"The example of those who spend their wealth in the way of Allah is like a seed of grain which grows seven ears; in each ear is a hundred grains.",link:""},{type:"volunteer",title:"Volunteer Banner",text:"Join our global caravan of khair. Your time and skills can bring hope to thousands. We need passionate individuals for our on-ground projects.",link:"/contact"}]};for(const[N,C]of Object.entries(S))for(const U of C){const{id:V,...L}=U;await al.collection(N).add(L)}alert("Database Seeded Successfully!")};if(!t)return E.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-slate-50 px-6",children:E.jsxs("div",{className:"bg-white p-12 rounded-[3rem] shadow-2xl max-w-md w-full text-center space-y-8",children:[E.jsx("div",{className:"w-20 h-20 bg-sky-900 rounded-3xl mx-auto flex items-center justify-center text-white text-4xl shadow-xl",children:E.jsx("i",{className:"fa-solid fa-shield-halved"})}),E.jsx("h2",{className:"text-3xl font-black text-sky-950 uppercase",children:"CMS LOGIN"}),E.jsx("input",{type:"password",placeholder:"Password",value:u,onChange:S=>h(S.target.value),className:"w-full p-5 rounded-2xl bg-slate-50 border-2 outline-none focus:border-teal-500 font-bold"}),E.jsx("button",{onClick:O,className:"w-full bg-sky-900 text-white py-5 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-sky-800 transition-all",children:"ACCESS PANEL"})]})});const fe=[{id:"dashboard",icon:"fa-chart-pie",label:"Dashboard"},{id:"messages",icon:"fa-envelope",label:"Messages"},{id:"banners",icon:"fa-bullhorn",label:"Section Banners"},{id:"volunteers",icon:"fa-user-plus",label:"Volunteers"},{id:"sliders",icon:"fa-panorama",label:"Hero Sliders"},{id:"campaigns",icon:"fa-flag",label:"Campaigns"},{id:"programs",icon:"fa-list-check",label:"Impact Areas"},{id:"posts",icon:"fa-newspaper",label:"News/Blog"},{id:"team",icon:"fa-users",label:"Team Members"},{id:"gallery",icon:"fa-images",label:"Gallery"},{id:"achievements",icon:"fa-award",label:"Achievements"}];return E.jsxs("div",{className:"bg-slate-50 min-h-screen flex",children:[E.jsxs("aside",{className:"w-72 bg-sky-950 text-white flex flex-col fixed h-full hidden lg:flex",children:[E.jsx("div",{className:"p-8 border-b border-white/10 font-black text-xl tracking-widest",children:"AASRA CMS"}),E.jsx("nav",{className:"flex-grow p-6 space-y-2",children:fe.map(S=>E.jsxs("button",{onClick:()=>l(S.id),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl font-bold transition-all ${a===S.id?"bg-teal-500 text-white":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[E.jsx("i",{className:`fa-solid ${S.icon} w-6`})," ",S.label]},S.id))}),E.jsx("button",{onClick:()=>r(!1),className:"m-6 p-4 text-red-400 font-bold hover:bg-red-400/10 rounded-2xl text-center border border-red-400/20",children:"LOGOUT"})]}),E.jsxs("main",{className:"flex-grow lg:ml-72 p-12",children:[E.jsxs("div",{className:"flex justify-between items-center mb-12",children:[E.jsx("h1",{className:"text-4xl font-black text-sky-950 uppercase tracking-tighter",children:a.replace(/([A-Z])/g," $1")}),E.jsxs("div",{className:"flex gap-4",children:[a==="dashboard"&&E.jsx("button",{onClick:he,className:"bg-orange-600 text-white px-8 py-4 rounded-2xl font-black uppercase text-xs shadow-xl",children:"Push Mock Data to Cloud"}),a!=="dashboard"&&a!=="messages"&&E.jsxs("button",{onClick:()=>J(a),className:"bg-teal-500 text-white px-8 py-4 rounded-2xl font-black uppercase text-xs shadow-xl",children:[E.jsx("i",{className:"fa-solid fa-plus mr-2"})," Add New"]})]})]}),a==="dashboard"?E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100",children:[E.jsx("p",{className:"text-4xl font-black text-sky-950",children:n.programs.length}),E.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mt-2",children:"Active Programs"})]}),E.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100",children:[E.jsx("p",{className:"text-4xl font-black text-sky-950",children:D.length}),E.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mt-2",children:"Cloud Enquiries"})]}),E.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100",children:[E.jsx("p",{className:"text-4xl font-black text-sky-950",children:n.campaigns.length}),E.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mt-2",children:"Active Campaigns"})]})]}):a==="messages"?E.jsx("div",{className:"space-y-6",children:D.map(S=>{var N;return E.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100 relative group",children:[E.jsx("div",{className:"absolute left-0 top-0 w-2 h-full bg-orange-500"}),E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsxs("h3",{className:"text-xl font-black text-sky-950 uppercase",children:[S.name," ",E.jsxs("span",{className:"text-xs lowercase text-slate-400 ml-2",children:["(",S.email,")"]})]}),E.jsx("button",{onClick:()=>B(S.id,"messages"),className:"text-red-400 hover:text-red-600",children:E.jsx("i",{className:"fa-solid fa-trash"})})]}),E.jsxs("p",{className:"bg-slate-50 p-6 rounded-2xl text-slate-600 italic",children:['"',S.message,'"']}),E.jsxs("div",{className:"mt-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Sent: ",(N=S.timestamp)==null?void 0:N.toDate().toLocaleString()]})]},S.id)})}):E.jsx("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-6 text-[10px] font-black uppercase tracking-widest",children:a==="banners"?"Type":"Image"}),E.jsx("th",{className:"p-6 text-[10px] font-black uppercase tracking-widest",children:"Title / Details"}),E.jsx("th",{className:"p-6 text-[10px] font-black uppercase tracking-widest text-right",children:"Actions"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-50",children:(K=n[a])==null?void 0:K.map(S=>{var N;return E.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[E.jsx("td",{className:"p-6",children:a==="banners"?E.jsx("span",{className:"bg-teal-50 text-teal-600 px-3 py-1 rounded-lg text-[10px] font-black uppercase",children:S.type}):E.jsx("img",{src:S.image||S.url||S.imageUrl,className:"w-16 h-16 object-cover rounded-xl"})}),E.jsxs("td",{className:"p-6",children:[E.jsx("p",{className:"font-black text-sky-950 uppercase",children:S.title||S.name}),E.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:S.category||S.role||((N=S.text)==null?void 0:N.slice(0,50))||"Content"})]}),E.jsxs("td",{className:"p-6 text-right space-x-2",children:[E.jsx("button",{onClick:()=>J(a,S),className:"w-10 h-10 bg-slate-100 rounded-xl text-sky-600 hover:bg-sky-600 hover:text-white transition-all",children:E.jsx("i",{className:"fa-solid fa-pen"})}),E.jsx("button",{onClick:()=>B(S.id,a),className:"w-10 h-10 bg-red-50 rounded-xl text-red-600 hover:bg-red-600 hover:text-white transition-all",children:E.jsx("i",{className:"fa-solid fa-trash"})})]})]},S.id)})})]})})]}),f&&E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-sky-950/80 backdrop-blur-sm",onClick:()=>m(!1)}),E.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl relative z-10 p-10",children:[E.jsxs("h3",{className:"text-2xl font-black text-sky-950 uppercase mb-8",children:[y.id?"Edit":"Create"," ",a]}),E.jsxs("form",{onSubmit:q,className:"space-y-6",children:[a==="banners"&&E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Type (zakat, hadith, volunteer)"}),E.jsx("input",{required:!0,value:y.type||"",onChange:S=>_({...y,type:S.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border outline-none font-bold text-sky-950"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Title / Name"}),E.jsx("input",{required:!0,value:y.title||y.name||"",onChange:S=>_({...y,[a==="team"||a==="volunteers"?"name":"title"]:S.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border outline-none font-bold text-sky-950"})]}),a!=="banners"&&E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Image URL"}),E.jsx("input",{required:!0,value:y.image||y.url||y.imageUrl||"",onChange:S=>_({...y,[a==="gallery"||a==="sliders"?"url":a==="campaigns"?"imageUrl":"image"]:S.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border outline-none font-bold text-sky-950"})]}),(a==="banners"||a==="programs"||a==="posts")&&E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Content / Text"}),E.jsx("textarea",{rows:4,value:y.text||y.description||y.excerpt||"",onChange:S=>_({...y,[a==="banners"?"text":a==="programs"?"description":"excerpt"]:S.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border outline-none font-bold text-sky-950 resize-none"})]}),E.jsx("button",{type:"submit",className:"w-full bg-sky-900 text-white py-5 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-sky-800 transition-all mt-4",children:"Save to Cloud"})]})]})]})]})},T9=()=>E.jsx("div",{className:"bg-sky-950 text-white py-2 hidden md:block border-b border-white/5 relative z-[60]",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 flex justify-between items-center text-[10px] font-normal tracking-[0.2em] uppercase",children:[E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsx("span",{className:"opacity-60 lowercase italic font-light tracking-widest",children:"connecting hearts digitally "}),E.jsx("div",{className:"flex gap-5",children:["facebook-f","instagram","linkedin-in","tiktok","youtube"].map((n,e)=>E.jsx("a",{href:"#",className:"hover:text-[#07847F] transition-all opacity-80 hover:opacity-100",children:E.jsx("i",{className:`fa-brands fa-${n}`})},e))})]}),E.jsxs("div",{className:"flex items-center gap-8 font-light",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-shield-check text-[#07847F]"}),E.jsx("span",{className:"text-[#FFD700] font-bold uppercase",children:"100% Tax Exempted NGO"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-envelope text-[#07847F]/70"}),E.jsx("span",{className:"lowercase",children:Xn.email})]})]})]})}),w9=()=>{const[n,e]=te.useState(!1),t=ma(),r=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Programs",path:"/programs"},{name:"Gallery",path:"/gallery"},{name:"Zakat",path:"/zakat"},{name:"Contact",path:"/contact"}];return E.jsxs("div",{className:"fixed top-0 left-0 w-full z-50",children:[E.jsx(T9,{}),E.jsxs("nav",{className:"bg-white/95 backdrop-blur-md shadow-lg border-b border-slate-100",children:[E.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:E.jsxs("div",{className:"flex justify-between h-20 md:h-24",children:[E.jsxs(At,{to:"/",className:"flex items-center space-x-3 group",children:[E.jsx("img",{src:"logo.png",alt:"AASRA Logo",className:"w-10 h-10 md:w-16 md:h-16 object-contain transition-all group-hover:scale-110"}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-sky-900 font-medium text-base md:text-2xl uppercase tracking-widest font-sans",children:"Aasra Welfare"}),E.jsx("span",{className:"text-[#07847F] text-[10px] md:text-[12px] font-black tracking-[0.4em]",children:"SOCIETY"})]})]}),E.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[r.map(a=>E.jsxs(At,{to:a.path,className:`text-[12px] font-bold uppercase tracking-[0.2em] transition-all hover:text-[#07847F] relative py-2 ${t.pathname===a.path?"text-[#07847F]":"text-slate-500"}`,children:[a.name,t.pathname===a.path&&E.jsx("span",{className:"absolute -bottom-1 left-0 h-1 bg-[#07847F] w-full"})]},a.name)),E.jsxs(At,{to:"/donate",className:"group flex items-center gap-3 bg-orange-600 text-white px-8 py-4 rounded-2xl text-[14px] font-black tracking-widest shadow-2xl shadow-orange-100 hover:shadow-orange-400 hover:-translate-y-1 transition-all uppercase",children:[E.jsx("i",{className:"fa-solid fa-heart text-white animate-pulse"}),"DONATE NOW"]})]}),E.jsx("button",{onClick:()=>e(!n),className:"md:hidden text-sky-900 p-2 text-2xl",children:E.jsx("i",{className:`fa-solid ${n?"fa-xmark":"fa-bars-staggered"}`})})]})}),n&&E.jsxs("div",{className:"md:hidden bg-white border-t border-slate-100 shadow-2xl px-6 py-12 space-y-4 text-center",children:[r.map(a=>E.jsx(At,{to:a.path,onClick:()=>e(!1),className:"block py-4 text-xs font-black uppercase tracking-widest text-slate-600",children:a.name},a.name)),E.jsx(At,{to:"/donate",onClick:()=>e(!1),className:"block w-full bg-orange-600 text-white py-6 rounded-2xl font-black tracking-widest uppercase text-[10px]",children:"DONATE NOW"})]})]})]})},A9=()=>E.jsxs("footer",{className:"bg-sky-950 text-slate-300 pt-32 pb-12 border-t-4 border-[#07847F]",children:[E.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 grid grid-cols-1 md:grid-cols-4 gap-16 mb-24",children:[E.jsxs("div",{className:"space-y-8",children:[E.jsx("h3",{className:"text-white font-black text-3xl tracking-tighter uppercase",children:"AASRA Welfare"}),E.jsx("p",{className:"text-base leading-relaxed text-slate-400 font-medium",children:"Serving humanity with excellence and Ihsan. A 100% transparent and verified NGO in Pakistan."}),E.jsx("div",{className:"flex gap-4",children:["facebook-f","instagram","linkedin-in","tiktok","youtube"].map(n=>E.jsx("div",{className:"w-12 h-12 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center hover:bg-[#07847F] transition-all cursor-pointer",children:E.jsx("i",{className:`fa-brands fa-${n}`})},n))})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-[#07847F] font-black text-[10px] uppercase tracking-[0.4em] mb-10",children:"Navigation"}),E.jsxs("ul",{className:"space-y-4 text-sm font-bold uppercase tracking-widest",children:[E.jsx("li",{children:E.jsx(At,{to:"/about",children:"Our History"})}),E.jsx("li",{children:E.jsx(At,{to:"/programs",children:"Projects"})}),E.jsx("li",{children:E.jsx(At,{to:"/gallery",children:"Gallery"})}),E.jsx("li",{children:E.jsx(At,{to:"/donate",className:"text-orange-400",children:"Donate Now"})})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-[#07847F] font-black text-[10px] uppercase tracking-[0.4em] mb-10",children:"Contact"}),E.jsxs("ul",{className:"space-y-6 text-sm font-medium",children:[E.jsxs("li",{className:"flex gap-4",children:[E.jsx("i",{className:"fa-solid fa-location-dot text-[#07847F]"})," ",E.jsx("span",{children:Xn.address})]}),E.jsxs("li",{className:"flex gap-4",children:[E.jsx("i",{className:"fa-solid fa-phone text-[#07847F]"})," ",E.jsx("span",{children:Xn.phone})]}),E.jsxs("li",{className:"flex gap-4",children:[E.jsx("i",{className:"fa-solid fa-phone text-[#07847F]"})," ",E.jsx("span",{children:Xn.phone1})]}),E.jsxs("li",{className:"flex gap-4",children:[E.jsx("i",{className:"fa-solid fa-email text-[#07847F]"})," ",E.jsx("span",{children:Xn.email})]})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-[#07847F] font-black text-[10px] uppercase tracking-[0.4em] mb-10",children:"Registration"}),Xn.registrationNumbers.map((n,e)=>E.jsx("div",{className:"bg-sky-900/40 p-3 rounded-xl text-[11px] font- uppercase mb-2 border border-white/5 text-slate-300",children:n},e))]})]}),E.jsxs("div",{className:"text-center text-[9px] font-black tracking-[0.4em] text-slate-500",children:[" 2024 AASRA WELFARE SOCIETY. ALL RIGHTS RESERVED. ",E.jsx(At,{to:"/admin",className:"ml-4 hover:text-white",children:"STAFF ACCESS"})]})]});function S9(){const[n,e]=te.useState({programs:[],posts:[],gallery:[],team:[],sliders:[],campaigns:[],achievements:[],volunteers:[],banners:[],stats:{orphans:0,waterWells:0,mealsServed:0,projects:0},chatMessages:[]}),[t,r]=te.useState(!0);return te.useEffect(()=>{const l=["programs","posts","gallery","team","sliders","campaigns","achievements","volunteers","banners"].map(u=>al.collection(u).onSnapshot(h=>{const f=h.docs.map(m=>({id:m.id,...m.data()}));e(m=>({...m,[u]:f}))}));return r(!1),()=>l.forEach(u=>u())},[]),t?E.jsx("div",{className:"h-screen flex items-center justify-center bg-sky-950 text-[#07847F] text-5xl font-black",children:"AASRA"}):E.jsx(T2,{children:E.jsxs("div",{className:"min-h-screen flex flex-col font-sans",children:[E.jsx(w9,{}),E.jsx("main",{className:"flex-grow pt-[116px] md:pt-[132px]",children:E.jsxs(ZO,{children:[E.jsx(Qr,{path:"/",element:E.jsx(Bj,{data:n})}),E.jsx(Qr,{path:"/about",element:E.jsx(zj,{data:n})}),E.jsx(Qr,{path:"/programs",element:E.jsx(Fj,{data:n})}),E.jsx(Qr,{path:"/programs/:id",element:E.jsx(u9,{data:n})}),E.jsx(Qr,{path:"/gallery",element:E.jsx(c9,{data:n})}),E.jsx(Qr,{path:"/donate",element:E.jsx(h9,{})}),E.jsx(Qr,{path:"/contact",element:E.jsx(f9,{data:n,setData:e})}),E.jsx(Qr,{path:"/zakat",element:E.jsx(d9,{})}),E.jsx(Qr,{path:"/posts/:id",element:E.jsx(m9,{data:n})}),E.jsx(Qr,{path:"/admin",element:E.jsx(b9,{data:n,setData:e})})]})}),E.jsx(A9,{}),E.jsx("div",{className:"fixed bottom-6 right-6 z-[100]",children:E.jsx("a",{href:`https://wa.me/${Xn.whatsapp}`,target:"_blank",className:"w-16 h-16 bg-green-500 text-white rounded-full shadow-2xl flex items-center justify-center text-3xl hover:scale-110 transition-transform",children:E.jsx("i",{className:"fa-brands fa-whatsapp"})})})]})})}const dC=document.getElementById("root");if(!dC)throw new Error("Could not find root element to mount to");const I9=tO.createRoot(dC);I9.render(E.jsx(KD.StrictMode,{children:E.jsx(S9,{})}));
