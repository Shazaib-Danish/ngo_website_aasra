(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function cm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hg={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function zD(){if(Cb)return Ec;Cb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Ec.Fragment=e,Ec.jsx=t,Ec.jsxs=t,Ec}var Db;function FD(){return Db||(Db=1,Hg.exports=zD()),Hg.exports}var E=FD(),Gg={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function qD(){if(Ob)return Ve;Ob=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,V={};function z(B,ie,R){this.props=B,this.context=ie,this.refs=V,this.updater=R||D}z.prototype.isReactComponent={},z.prototype.setState=function(B,ie){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ie,"setState")},z.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function ee(){}ee.prototype=z.prototype;function q(B,ie,R){this.props=B,this.context=ie,this.refs=V,this.updater=R||D}var me=q.prototype=new ee;me.constructor=q,M(me,z.prototype),me.isPureReactComponent=!0;var fe=Array.isArray;function K(){}var S={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function C(B,ie,R){var _e=R.ref;return{$$typeof:n,type:B,key:ie,ref:_e!==void 0?_e:null,props:R}}function U(B,ie){return C(B.type,ie,B.props)}function k(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var ie={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(R){return ie[R]})}var O=/\/+/g;function xe(B,ie){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):ie.toString(36)}function de(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(K,K):(B.status="pending",B.then(function(ie){B.status==="pending"&&(B.status="fulfilled",B.value=ie)},function(ie){B.status==="pending"&&(B.status="rejected",B.reason=ie)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function X(B,ie,R,_e,Re){var Se=typeof B;(Se==="undefined"||Se==="boolean")&&(B=null);var ze=!1;if(B===null)ze=!0;else switch(Se){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(B.$$typeof){case n:case e:ze=!0;break;case y:return ze=B._init,X(ze(B._payload),ie,R,_e,Re)}}if(ze)return Re=Re(B),ze=_e===""?"."+xe(B,0):_e,fe(Re)?(R="",ze!=null&&(R=ze.replace(O,"$&/")+"/"),X(Re,ie,R,"",function(zn){return zn})):Re!=null&&(k(Re)&&(Re=U(Re,R+(Re.key==null||B&&B.key===Re.key?"":(""+Re.key).replace(O,"$&/")+"/")+ze)),ie.push(Re)),1;ze=0;var dt=_e===""?".":_e+":";if(fe(B))for(var rt=0;rt<B.length;rt++)_e=B[rt],Se=dt+xe(_e,rt),ze+=X(_e,ie,R,Se,Re);else if(rt=b(B),typeof rt=="function")for(B=rt.call(B),rt=0;!(_e=B.next()).done;)_e=_e.value,Se=dt+xe(_e,rt++),ze+=X(_e,ie,R,Se,Re);else if(Se==="object"){if(typeof B.then=="function")return X(de(B),ie,R,_e,Re);throw ie=String(B),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ce(B,ie,R){if(B==null)return B;var _e=[],Re=0;return X(B,_e,"","",function(Se){return ie.call(R,Se,Re++)}),_e}function be(B){if(B._status===-1){var ie=B._result;ie=ie(),ie.then(function(R){(B._status===0||B._status===-1)&&(B._status=1,B._result=R)},function(R){(B._status===0||B._status===-1)&&(B._status=2,B._result=R)}),B._status===-1&&(B._status=0,B._result=ie)}if(B._status===1)return B._result.default;throw B._result}var Me=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},P={map:ce,forEach:function(B,ie,R){ce(B,function(){ie.apply(this,arguments)},R)},count:function(B){var ie=0;return ce(B,function(){ie++}),ie},toArray:function(B){return ce(B,function(ie){return ie})||[]},only:function(B){if(!k(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Ve.Activity=_,Ve.Children=P,Ve.Component=z,Ve.Fragment=t,Ve.Profiler=a,Ve.PureComponent=q,Ve.StrictMode=r,Ve.Suspense=d,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(B){return S.H.useMemoCache(B)}},Ve.cache=function(B){return function(){return B.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(B,ie,R){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var _e=M({},B.props),Re=B.key;if(ie!=null)for(Se in ie.key!==void 0&&(Re=""+ie.key),ie)!N.call(ie,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ie.ref===void 0||(_e[Se]=ie[Se]);var Se=arguments.length-2;if(Se===1)_e.children=R;else if(1<Se){for(var ze=Array(Se),dt=0;dt<Se;dt++)ze[dt]=arguments[dt+2];_e.children=ze}return C(B.type,Re,_e)},Ve.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Ve.createElement=function(B,ie,R){var _e,Re={},Se=null;if(ie!=null)for(_e in ie.key!==void 0&&(Se=""+ie.key),ie)N.call(ie,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Re[_e]=ie[_e]);var ze=arguments.length-2;if(ze===1)Re.children=R;else if(1<ze){for(var dt=Array(ze),rt=0;rt<ze;rt++)dt[rt]=arguments[rt+2];Re.children=dt}if(B&&B.defaultProps)for(_e in ze=B.defaultProps,ze)Re[_e]===void 0&&(Re[_e]=ze[_e]);return C(B,Se,Re)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(B){return{$$typeof:h,render:B}},Ve.isValidElement=k,Ve.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:be}},Ve.memo=function(B,ie){return{$$typeof:m,type:B,compare:ie===void 0?null:ie}},Ve.startTransition=function(B){var ie=S.T,R={};S.T=R;try{var _e=B(),Re=S.S;Re!==null&&Re(R,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(K,Me)}catch(Se){Me(Se)}finally{ie!==null&&R.types!==null&&(ie.types=R.types),S.T=ie}},Ve.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Ve.use=function(B){return S.H.use(B)},Ve.useActionState=function(B,ie,R){return S.H.useActionState(B,ie,R)},Ve.useCallback=function(B,ie){return S.H.useCallback(B,ie)},Ve.useContext=function(B){return S.H.useContext(B)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(B,ie){return S.H.useDeferredValue(B,ie)},Ve.useEffect=function(B,ie){return S.H.useEffect(B,ie)},Ve.useEffectEvent=function(B){return S.H.useEffectEvent(B)},Ve.useId=function(){return S.H.useId()},Ve.useImperativeHandle=function(B,ie,R){return S.H.useImperativeHandle(B,ie,R)},Ve.useInsertionEffect=function(B,ie){return S.H.useInsertionEffect(B,ie)},Ve.useLayoutEffect=function(B,ie){return S.H.useLayoutEffect(B,ie)},Ve.useMemo=function(B,ie){return S.H.useMemo(B,ie)},Ve.useOptimistic=function(B,ie){return S.H.useOptimistic(B,ie)},Ve.useReducer=function(B,ie,R){return S.H.useReducer(B,ie,R)},Ve.useRef=function(B){return S.H.useRef(B)},Ve.useState=function(B){return S.H.useState(B)},Ve.useSyncExternalStore=function(B,ie,R){return S.H.useSyncExternalStore(B,ie,R)},Ve.useTransition=function(){return S.H.useTransition()},Ve.version="19.2.4",Ve}var kb;function w_(){return kb||(kb=1,Gg.exports=qD()),Gg.exports}var ne=w_();const HD=cm(ne);var Yg={exports:{}},xc={},Kg={exports:{}},Qg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function GD(){return Vb||(Vb=1,(function(n){function e(X,ce){var be=X.length;X.push(ce);e:for(;0<be;){var Me=be-1>>>1,P=X[Me];if(0<a(P,ce))X[Me]=ce,X[be]=P,be=Me;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ce=X[0],be=X.pop();if(be!==ce){X[0]=be;e:for(var Me=0,P=X.length,B=P>>>1;Me<B;){var ie=2*(Me+1)-1,R=X[ie],_e=ie+1,Re=X[_e];if(0>a(R,be))_e<P&&0>a(Re,R)?(X[Me]=Re,X[_e]=be,Me=_e):(X[Me]=R,X[ie]=be,Me=ie);else if(_e<P&&0>a(Re,be))X[Me]=Re,X[_e]=be,Me=_e;else break e}}return ce}function a(X,ce){var be=X.sortIndex-ce.sortIndex;return be!==0?be:X.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],m=[],y=1,_=null,v=3,b=!1,D=!1,M=!1,V=!1,z=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function me(X){for(var ce=t(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=X)r(m),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=t(m)}}function fe(X){if(M=!1,me(X),!D)if(t(d)!==null)D=!0,K||(K=!0,L());else{var ce=t(m);ce!==null&&de(fe,ce.startTime-X)}}var K=!1,S=-1,N=5,C=-1;function U(){return V?!0:!(n.unstable_now()-C<N)}function k(){if(V=!1,K){var X=n.unstable_now();C=X;var ce=!0;try{e:{D=!1,M&&(M=!1,ee(S),S=-1),b=!0;var be=v;try{t:{for(me(X),_=t(d);_!==null&&!(_.expirationTime>X&&U());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,v=_.priorityLevel;var P=Me(_.expirationTime<=X);if(X=n.unstable_now(),typeof P=="function"){_.callback=P,me(X),ce=!0;break t}_===t(d)&&r(d),me(X)}else r(d);_=t(d)}if(_!==null)ce=!0;else{var B=t(m);B!==null&&de(fe,B.startTime-X),ce=!1}}break e}finally{_=null,v=be,b=!1}ce=void 0}}finally{ce?L():K=!1}}}var L;if(typeof q=="function")L=function(){q(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,xe=O.port2;O.port1.onmessage=k,L=function(){xe.postMessage(null)}}else L=function(){z(k,0)};function de(X,ce){S=z(function(){X(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(X){switch(v){case 1:case 2:case 3:var ce=3;break;default:ce=v}var be=v;v=ce;try{return X()}finally{v=be}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var be=v;v=X;try{return ce()}finally{v=be}},n.unstable_scheduleCallback=function(X,ce,be){var Me=n.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Me+be:Me):be=Me,X){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=be+P,X={id:y++,callback:ce,priorityLevel:X,startTime:be,expirationTime:P,sortIndex:-1},be>Me?(X.sortIndex=be,e(m,X),t(d)===null&&X===t(m)&&(M?(ee(S),S=-1):M=!0,de(fe,be-Me))):(X.sortIndex=P,e(d,X),D||b||(D=!0,K||(K=!0,L()))),X},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(X){var ce=v;return function(){var be=v;v=ce;try{return X.apply(this,arguments)}finally{v=be}}}})(Qg)),Qg}var Mb;function YD(){return Mb||(Mb=1,Kg.exports=GD()),Kg.exports}var $g={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function KD(){if(Pb)return Sn;Pb=1;var n=w_();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sn.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,y)},Sn.flushSync=function(d){var m=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=m,r.p=y,r.d.f()}},Sn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},Sn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Sn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:b}):y==="script"&&r.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Sn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},Sn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);r.d.L(d,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Sn.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},Sn.requestFormReset=function(d){r.d.r(d)},Sn.unstable_batchedUpdates=function(d,m){return d(m)},Sn.useFormState=function(d,m,y){return u.H.useFormState(d,m,y)},Sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Sn.version="19.2.4",Sn}var Lb;function QD(){if(Lb)return $g.exports;Lb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$g.exports=KD(),$g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb;function $D(){if(jb)return xc;jb=1;var n=YD(),e=w_(),t=QD();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return d(p),i;if(g===c)return d(p),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=p,c=g;else{for(var T=!1,A=p.child;A;){if(A===o){T=!0,o=p,c=g;break}if(A===c){T=!0,c=p,o=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===o){T=!0,o=g,c=p;break}if(A===c){T=!0,c=g,o=p;break}A=A.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),q=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case z:return"Profiler";case V:return"StrictMode";case fe:return"Suspense";case K:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case q:return i.displayName||"Context";case ee:return(i._context.displayName||"Context")+".Consumer";case me:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case S:return s=i.displayName||null,s!==null?s:xe(i.type)||"Memo";case N:s=i._payload,i=i._init;try{return xe(i(s))}catch{}}return null}var de=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Me=[],P=-1;function B(i){return{current:i}}function ie(i){0>P||(i.current=Me[P],Me[P]=null,P--)}function R(i,s){P++,Me[P]=i.current,i.current=s}var _e=B(null),Re=B(null),Se=B(null),ze=B(null);function dt(i,s){switch(R(Se,s),R(Re,i),R(_e,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Z0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Z0(s),i=eb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(_e),R(_e,i)}function rt(){ie(_e),ie(Re),ie(Se)}function zn(i){i.memoizedState!==null&&R(ze,i);var s=_e.current,o=eb(s,i.type);s!==o&&(R(Re,i),R(_e,o))}function Vr(i){Re.current===i&&(ie(_e),ie(Re)),ze.current===i&&(ie(ze),pc._currentValue=be)}var fs,ds;function gr(i){if(fs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);fs=s&&s[1]||"",ds=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+i+ds}var ms=!1;function ei(i,s){if(!i||ms)return"";ms=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var W=te}Reflect.construct(i,[],le)}else{try{le.call()}catch(te){W=te}i.call(le.prototype)}}else{try{throw Error()}catch(te){W=te}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&W&&typeof te.stack=="string")return[te.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var j=T.split(`
`),$=A.split(`
`);for(p=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;if(c===j.length||p===$.length)for(c=j.length-1,p=$.length-1;1<=c&&0<=p&&j[c]!==$[p];)p--;for(;1<=c&&0<=p;c--,p--)if(j[c]!==$[p]){if(c!==1||p!==1)do if(c--,p--,0>p||j[c]!==$[p]){var re=`
`+j[c].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=c&&0<=p);break}}}finally{ms=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?gr(o):""}function ps(i,s){switch(i.tag){case 26:case 27:case 5:return gr(i.type);case 16:return gr("Lazy");case 13:return i.child!==s&&s!==null?gr("Suspense Fallback"):gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return ei(i.type,!1);case 11:return ei(i.type.render,!1);case 1:return ei(i.type,!0);case 31:return gr("Activity");default:return""}}function va(i){try{var s="",o=null;do s+=ps(i,o),o=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ot=Object.prototype.hasOwnProperty,Mt=n.unstable_scheduleCallback,ti=n.unstable_cancelCallback,Eu=n.unstable_shouldYield,Rl=n.unstable_requestPaint,mn=n.unstable_now,Vi=n.unstable_getCurrentPriorityLevel,se=n.unstable_ImmediatePriority,pe=n.unstable_UserBlockingPriority,Ce=n.unstable_NormalPriority,Fe=n.unstable_LowPriority,Ze=n.unstable_IdlePriority,wn=n.log,yr=n.unstable_setDisableYieldValue,Ut=null,kt=null;function on(i){if(typeof wn=="function"&&yr(i),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Ut,i)}catch{}}var $e=Math.clz32?Math.clz32:Ph,Mr=Math.log,An=Math.LN2;function Ph(i){return i>>>=0,i===0?32:31-(Mr(i)/An|0)|0}var ni=256,ba=262144,Kt=4194304;function ri(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ii(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?p=ri(c):(T&=A,T!==0?p=ri(T):o||(o=A&~i,o!==0&&(p=ri(o))))):(A=c&~g,A!==0?p=ri(A):T!==0?p=ri(T):o||(o=c&~i,o!==0&&(p=ri(o)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:p}function Pr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Qm(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lh(){var i=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),i}function si(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ta(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $m(i,s,o,c,p,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,j=i.expirationTimes,$=i.hiddenUpdates;for(o=T&~o;0<o;){var re=31-$e(o),le=1<<re;A[re]=0,j[re]=-1;var W=$[re];if(W!==null)for($[re]=null,re=0;re<W.length;re++){var te=W[re];te!==null&&(te.lane&=-536870913)}o&=~le}c!==0&&wa(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~s))}function wa(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-$e(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function xu(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-$e(o),p=1<<c;p&s|i[c]&s&&(i[c]|=s),o&=~p}}function vu(i,s){var o=s&-s;return o=(o&42)!==0?1:Aa(o),(o&(i.suspendedLanes|s))!==0?0:o}function Aa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Mi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function jh(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:Tb(i.type))}function Lr(i,s){var o=ce.p;try{return ce.p=i,s()}finally{ce.p=o}}var jr=Math.random().toString(36).slice(2),Qt="__reactFiber$"+jr,un="__reactProps$"+jr,ai="__reactContainer$"+jr,Cl="__reactEvents$"+jr,Xm="__reactListeners$"+jr,Uh="__reactHandles$"+jr,Bh="__reactResources$"+jr,li="__reactMarker$"+jr;function Dl(i){delete i[Qt],delete i[un],delete i[Cl],delete i[Xm],delete i[Uh]}function oi(i){var s=i[Qt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[ai]||o[Qt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=lb(i);i!==null;){if(o=i[Qt])return o;i=lb(i)}return s}i=o,o=i.parentNode}return null}function _r(i){if(i=i[Qt]||i[ai]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function nr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ui(i){var s=i[Bh];return s||(s=i[Bh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function $t(i){i[li]=!0}var bu=new Set,Tu={};function ci(i,s){hi(i,s),hi(i+"Capture",s)}function hi(i,s){for(Tu[i]=s,i=0;i<s.length;i++)bu.add(s[i])}var wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Au={},Su={};function zh(i){return Ot.call(Su,i)?!0:Ot.call(Au,i)?!1:wu.test(i)?Su[i]=!0:(Au[i]=!0,!1)}function Ol(i,s,o){if(zh(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function rr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Xt(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function gs(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Iu(i,s,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ot(i){if(!i._valueTracker){var s=gs(i)?"checked":"value";i._valueTracker=Iu(i,s,""+i[s])}}function Sa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=gs(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function fi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ia=/[\n"\\]/g;function Fn(i){return i.replace(Ia,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function kl(i,s,o,c,p,g,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?Nu(i,T,cn(s)):o!=null?Nu(i,T,cn(o)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+cn(A):i.removeAttribute("name")}function Fh(i,s,o,c,p,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){ot(i);return}o=o!=null?""+cn(o):"",s=s!=null?""+cn(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),ot(i)}function Nu(i,s,o){s==="number"&&fi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ys(i,s,o,c){if(i=i.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=s.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&c&&(i[o].defaultSelected=!0)}else{for(o=""+cn(o),s=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function qh(i,s,o){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+cn(o):""}function _s(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(de(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=cn(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),ot(i)}function qn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Hh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||Hh.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Cu(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&o[p]!==c&&Ru(i,p,c)}else for(var g in s)s.hasOwnProperty(g)&&Ru(i,g,s[g])}function Vl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ml(i){return Es.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ur(){}var Du=null;function Er(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xs=null,di=null;function Na(i){var s=_r(i);if(s&&(i=s.stateNode)){var o=i[un]||null;e:switch(i=s.stateNode,s.type){case"input":if(kl(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Fn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var p=c[un]||null;if(!p)throw Error(r(90));kl(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&Sa(c)}break e;case"textarea":qh(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ys(i,!!o.multiple,s,!1)}}}var Pl=!1;function vs(i,s,o){if(Pl)return i(s,o);Pl=!0;try{var c=i(s);return c}finally{if(Pl=!1,(xs!==null||di!==null)&&(Uf(),xs&&(s=xs,i=di,di=xs=null,Na(s),i)))for(s=0;s<i.length;s++)Na(i[s])}}function Br(i,s){var o=i.stateNode;if(o===null)return null;var c=o[un]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ra=!1;if(xr)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Ra=!1}var mi=null,Ou=null,Ca=null;function ku(){if(Ca)return Ca;var i,s=Ou,o=s.length,c,p="value"in mi?mi.value:mi.textContent,g=p.length;for(i=0;i<o&&s[i]===p[i];i++);var T=o-i;for(c=1;c<=T&&s[o-c]===p[g-c];c++);return Ca=p.slice(i,1<c?1-c:void 0)}function Da(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Pi(){return!0}function zr(){return!1}function pn(i){function s(o,c,p,g,T){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Pi:zr,this.isPropagationStopped=zr,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),s}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=pn(Li),bs=_({},Li,{view:0,detail:0}),Vu=pn(bs),Ts,Ll,gi,jl=_({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gi&&(gi&&i.type==="mousemove"?(Ts=i.screenX-gi.screenX,Ll=i.screenY-gi.screenY):Ll=Ts=0,gi=i),Ts)},movementY:function(i){return"movementY"in i?i.movementY:Ll}}),Mu=pn(jl),Oa=_({},jl,{dataTransfer:0}),Yh=pn(Oa),Kh=_({},bs,{relatedTarget:0}),ka=pn(Kh),Pu=_({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Qh=pn(Pu),Ul=_({},Li,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$h=pn(Ul),Xh=_({},Li,{data:0}),yi=pn(Xh),Wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ef(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Zh[i])?!!s[i]:!1}function ws(){return ef}var kn=_({},bs,{key:function(i){if(i.key){var s=Wh[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Da(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(i){return i.type==="keypress"?Da(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Da(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tf=pn(kn),nf=_({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=pn(nf),f=_({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),x=pn(f),w=_({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=pn(w),Y=_({},jl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=pn(Y),ge=_({},Li,{newState:0,oldState:0}),Pe=pn(ge),Bt=[9,13,27,32],it=xr&&"CompositionEvent"in window,It=null;xr&&"documentMode"in document&&(It=document.documentMode);var vr=xr&&"TextEvent"in window&&!It,_i=xr&&(!it||It&&8<It&&11>=It),Fr=" ",qr=!1;function Va(i,s){switch(i){case"keyup":return Bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zl=!1;function hC(i,s){switch(i){case"compositionend":return Bl(s);case"keypress":return s.which!==32?null:(qr=!0,Fr);case"textInput":return i=s.data,i===Fr&&qr?null:i;default:return null}}function fC(i,s){if(zl)return i==="compositionend"||!it&&Va(i,s)?(i=ku(),Ca=Ou=mi=null,zl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _i&&s.locale!=="ko"?null:s.data;default:return null}}var dC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cx(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!dC[i.type]:s==="textarea"}function hx(i,s,o,c){xs?di?di.push(c):di=[c]:xs=c,s=Yf(s,"onChange"),0<s.length&&(o=new pi("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var Lu=null,ju=null;function mC(i){K0(i,0)}function rf(i){var s=nr(i);if(Sa(s))return i}function fx(i,s){if(i==="change")return s}var dx=!1;if(xr){var Wm;if(xr){var Jm="oninput"in document;if(!Jm){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),Jm=typeof mx.oninput=="function"}Wm=Jm}else Wm=!1;dx=Wm&&(!document.documentMode||9<document.documentMode)}function px(){Lu&&(Lu.detachEvent("onpropertychange",gx),ju=Lu=null)}function gx(i){if(i.propertyName==="value"&&rf(ju)){var s=[];hx(s,ju,i,Er(i)),vs(mC,s)}}function pC(i,s,o){i==="focusin"?(px(),Lu=s,ju=o,Lu.attachEvent("onpropertychange",gx)):i==="focusout"&&px()}function gC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rf(ju)}function yC(i,s){if(i==="click")return rf(s)}function _C(i,s){if(i==="input"||i==="change")return rf(s)}function EC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ir=typeof Object.is=="function"?Object.is:EC;function Uu(i,s){if(ir(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Ot.call(s,p)||!ir(i[p],s[p]))return!1}return!0}function yx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _x(i,s){var o=yx(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=yx(o)}}function Ex(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Ex(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function xx(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=fi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=fi(i.document)}return s}function Zm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var xC=xr&&"documentMode"in document&&11>=document.documentMode,Fl=null,ep=null,Bu=null,tp=!1;function vx(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;tp||Fl==null||Fl!==fi(c)||(c=Fl,"selectionStart"in c&&Zm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bu&&Uu(Bu,c)||(Bu=c,c=Yf(ep,"onSelect"),0<c.length&&(s=new pi("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Fl)))}function Ma(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var ql={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},np={},bx={};xr&&(bx=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function Pa(i){if(np[i])return np[i];if(!ql[i])return i;var s=ql[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in bx)return np[i]=s[o];return i}var Tx=Pa("animationend"),wx=Pa("animationiteration"),Ax=Pa("animationstart"),vC=Pa("transitionrun"),bC=Pa("transitionstart"),TC=Pa("transitioncancel"),Sx=Pa("transitionend"),Ix=new Map,rp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rp.push("scrollEnd");function Hr(i,s){Ix.set(i,s),ci(s,[i])}var sf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},br=[],Hl=0,ip=0;function af(){for(var i=Hl,s=ip=Hl=0;s<i;){var o=br[s];br[s++]=null;var c=br[s];br[s++]=null;var p=br[s];br[s++]=null;var g=br[s];if(br[s++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&Nx(o,p,g)}}function lf(i,s,o,c){br[Hl++]=i,br[Hl++]=s,br[Hl++]=o,br[Hl++]=c,ip|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function sp(i,s,o,c){return lf(i,s,o,c),of(i)}function La(i,s){return lf(i,null,null,s),of(i)}function Nx(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&s!==null&&(p=31-$e(o),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[s]:c.push(s),s.lane=o|536870912),g):null}function of(i){if(50<oc)throw oc=0,mg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Gl={};function wC(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(i,s,o,c){return new wC(i,s,o,c)}function ap(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ui(i,s){var o=i.alternate;return o===null?(o=sr(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Rx(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function uf(i,s,o,c,p,g){var T=0;if(c=i,typeof i=="function")ap(i)&&(T=1);else if(typeof i=="string")T=RD(i,o,_e.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=sr(31,o,s,p),i.elementType=C,i.lanes=g,i;case M:return ja(o.children,p,g,s);case V:T=8,p|=24;break;case z:return i=sr(12,o,s,p|2),i.elementType=z,i.lanes=g,i;case fe:return i=sr(13,o,s,p),i.elementType=fe,i.lanes=g,i;case K:return i=sr(19,o,s,p),i.elementType=K,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:T=10;break e;case ee:T=9;break e;case me:T=11;break e;case S:T=14;break e;case N:T=16,c=null;break e}T=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=sr(T,o,s,p),s.elementType=i,s.type=c,s.lanes=g,s}function ja(i,s,o,c){return i=sr(7,i,c,s),i.lanes=o,i}function lp(i,s,o){return i=sr(6,i,null,s),i.lanes=o,i}function Cx(i){var s=sr(18,null,null,0);return s.stateNode=i,s}function op(i,s,o){return s=sr(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Dx=new WeakMap;function Tr(i,s){if(typeof i=="object"&&i!==null){var o=Dx.get(i);return o!==void 0?o:(s={value:i,source:s,stack:va(s)},Dx.set(i,s),s)}return{value:i,source:s,stack:va(s)}}var Yl=[],Kl=0,cf=null,zu=0,wr=[],Ar=0,As=null,Ei=1,xi="";function Bi(i,s){Yl[Kl++]=zu,Yl[Kl++]=cf,cf=i,zu=s}function Ox(i,s,o){wr[Ar++]=Ei,wr[Ar++]=xi,wr[Ar++]=As,As=i;var c=Ei;i=xi;var p=32-$e(c)-1;c&=~(1<<p),o+=1;var g=32-$e(s)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,Ei=1<<32-$e(s)+p|o<<p|c,xi=g+i}else Ei=1<<g|o<<p|c,xi=i}function up(i){i.return!==null&&(Bi(i,1),Ox(i,1,0))}function cp(i){for(;i===cf;)cf=Yl[--Kl],Yl[Kl]=null,zu=Yl[--Kl],Yl[Kl]=null;for(;i===As;)As=wr[--Ar],wr[Ar]=null,xi=wr[--Ar],wr[Ar]=null,Ei=wr[--Ar],wr[Ar]=null}function kx(i,s){wr[Ar++]=Ei,wr[Ar++]=xi,wr[Ar++]=As,Ei=s.id,xi=s.overflow,As=i}var gn=null,Tt=null,Xe=!1,Ss=null,Sr=!1,hp=Error(r(519));function Is(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fu(Tr(s,i)),hp}function Vx(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Qt]=i,s[un]=c,o){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(o=0;o<cc.length;o++)He(cc[o],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),Fh(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),_s(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||W0(s.textContent,o)?(c.popover!=null&&(He("beforetoggle",s),He("toggle",s)),c.onScroll!=null&&He("scroll",s),c.onScrollEnd!=null&&He("scrollend",s),c.onClick!=null&&(s.onclick=Ur),s=!0):s=!1,s||Is(i,!0)}function Mx(i){for(gn=i.return;gn;)switch(gn.tag){case 5:case 31:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:gn=gn.return}}function Ql(i){if(i!==gn)return!1;if(!Xe)return Mx(i),Xe=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Rg(i.type,i.memoizedProps)),o=!o),o&&Tt&&Is(i),Mx(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Tt=ab(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Tt=ab(i)}else s===27?(s=Tt,zs(i.type)?(i=Vg,Vg=null,Tt=i):Tt=s):Tt=gn?Nr(i.stateNode.nextSibling):null;return!0}function Ua(){Tt=gn=null,Xe=!1}function fp(){var i=Ss;return i!==null&&(Kn===null?Kn=i:Kn.push.apply(Kn,i),Ss=null),i}function Fu(i){Ss===null?Ss=[i]:Ss.push(i)}var dp=B(null),Ba=null,zi=null;function Ns(i,s,o){R(dp,s._currentValue),s._currentValue=o}function Fi(i){i._currentValue=dp.current,ie(dp)}function mp(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function pp(i,s,o,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=p;for(var j=0;j<s.length;j++)if(A.context===s[j]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),mp(g.return,o,i),c||(T=null);break e}g=A.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),mp(T,o,i),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===i){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function $l(i,s,o,c){i=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=p.type;ir(p.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(p===ze.current){if(T=p.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(pc):i=[pc])}p=p.return}i!==null&&pp(s,i,o,c),s.flags|=262144}function hf(i){for(i=i.firstContext;i!==null;){if(!ir(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function za(i){Ba=i,zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function yn(i){return Px(Ba,i)}function ff(i,s){return Ba===null&&za(i),Px(i,s)}function Px(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},zi===null){if(i===null)throw Error(r(308));zi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else zi=zi.next=s;return o}var AC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},SC=n.unstable_scheduleCallback,IC=n.unstable_NormalPriority,Wt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gp(){return{controller:new AC,data:new Map,refCount:0}}function qu(i){i.refCount--,i.refCount===0&&SC(IC,function(){i.controller.abort()})}var Hu=null,yp=0,Xl=0,Wl=null;function NC(i,s){if(Hu===null){var o=Hu=[];yp=0,Xl=xg(),Wl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return yp++,s.then(Lx,Lx),s}function Lx(){if(--yp===0&&Hu!==null){Wl!==null&&(Wl.status="fulfilled");var i=Hu;Hu=null,Xl=0,Wl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function RC(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var jx=X.S;X.S=function(i,s){v0=mn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&NC(i,s),jx!==null&&jx(i,s)};var Fa=B(null);function _p(){var i=Fa.current;return i!==null?i:_t.pooledCache}function df(i,s){s===null?R(Fa,Fa.current):R(Fa,s.pool)}function Ux(){var i=_p();return i===null?null:{parent:Wt._currentValue,pool:i}}var Jl=Error(r(460)),Ep=Error(r(474)),mf=Error(r(542)),pf={then:function(){}};function Bx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function zx(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Ur,Ur),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,qx(i),i;default:if(typeof s.status=="string")s.then(Ur,Ur);else{if(i=_t,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,qx(i),i}throw Ha=s,Jl}}function qa(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ha=o,Jl):o}}var Ha=null;function Fx(){if(Ha===null)throw Error(r(459));var i=Ha;return Ha=null,i}function qx(i){if(i===Jl||i===mf)throw Error(r(483))}var Zl=null,Gu=0;function gf(i){var s=Gu;return Gu+=1,Zl===null&&(Zl=[]),zx(Zl,i,s)}function Yu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function yf(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Hx(i){function s(H,F){if(i){var Q=H.deletions;Q===null?(H.deletions=[F],H.flags|=16):Q.push(F)}}function o(H,F){if(!i)return null;for(;F!==null;)s(H,F),F=F.sibling;return null}function c(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function p(H,F){return H=Ui(H,F),H.index=0,H.sibling=null,H}function g(H,F,Q){return H.index=Q,i?(Q=H.alternate,Q!==null?(Q=Q.index,Q<F?(H.flags|=67108866,F):Q):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function A(H,F,Q,ae){return F===null||F.tag!==6?(F=lp(Q,H.mode,ae),F.return=H,F):(F=p(F,Q),F.return=H,F)}function j(H,F,Q,ae){var Ne=Q.type;return Ne===M?re(H,F,Q.props.children,ae,Q.key):F!==null&&(F.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===N&&qa(Ne)===F.type)?(F=p(F,Q.props),Yu(F,Q),F.return=H,F):(F=uf(Q.type,Q.key,Q.props,null,H.mode,ae),Yu(F,Q),F.return=H,F)}function $(H,F,Q,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=op(Q,H.mode,ae),F.return=H,F):(F=p(F,Q.children||[]),F.return=H,F)}function re(H,F,Q,ae,Ne){return F===null||F.tag!==7?(F=ja(Q,H.mode,ae,Ne),F.return=H,F):(F=p(F,Q),F.return=H,F)}function le(H,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=lp(""+F,H.mode,Q),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return Q=uf(F.type,F.key,F.props,null,H.mode,Q),Yu(Q,F),Q.return=H,Q;case D:return F=op(F,H.mode,Q),F.return=H,F;case N:return F=qa(F),le(H,F,Q)}if(de(F)||L(F))return F=ja(F,H.mode,Q,null),F.return=H,F;if(typeof F.then=="function")return le(H,gf(F),Q);if(F.$$typeof===q)return le(H,ff(H,F),Q);yf(H,F)}return null}function W(H,F,Q,ae){var Ne=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ne!==null?null:A(H,F,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Ne?j(H,F,Q,ae):null;case D:return Q.key===Ne?$(H,F,Q,ae):null;case N:return Q=qa(Q),W(H,F,Q,ae)}if(de(Q)||L(Q))return Ne!==null?null:re(H,F,Q,ae,null);if(typeof Q.then=="function")return W(H,F,gf(Q),ae);if(Q.$$typeof===q)return W(H,F,ff(H,Q),ae);yf(H,Q)}return null}function te(H,F,Q,ae,Ne){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return H=H.get(Q)||null,A(F,H,""+ae,Ne);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return H=H.get(ae.key===null?Q:ae.key)||null,j(F,H,ae,Ne);case D:return H=H.get(ae.key===null?Q:ae.key)||null,$(F,H,ae,Ne);case N:return ae=qa(ae),te(H,F,Q,ae,Ne)}if(de(ae)||L(ae))return H=H.get(Q)||null,re(F,H,ae,Ne,null);if(typeof ae.then=="function")return te(H,F,Q,gf(ae),Ne);if(ae.$$typeof===q)return te(H,F,Q,ff(F,ae),Ne);yf(F,ae)}return null}function Te(H,F,Q,ae){for(var Ne=null,et=null,Ae=F,Ue=F=0,Ke=null;Ae!==null&&Ue<Q.length;Ue++){Ae.index>Ue?(Ke=Ae,Ae=null):Ke=Ae.sibling;var tt=W(H,Ae,Q[Ue],ae);if(tt===null){Ae===null&&(Ae=Ke);break}i&&Ae&&tt.alternate===null&&s(H,Ae),F=g(tt,F,Ue),et===null?Ne=tt:et.sibling=tt,et=tt,Ae=Ke}if(Ue===Q.length)return o(H,Ae),Xe&&Bi(H,Ue),Ne;if(Ae===null){for(;Ue<Q.length;Ue++)Ae=le(H,Q[Ue],ae),Ae!==null&&(F=g(Ae,F,Ue),et===null?Ne=Ae:et.sibling=Ae,et=Ae);return Xe&&Bi(H,Ue),Ne}for(Ae=c(Ae);Ue<Q.length;Ue++)Ke=te(Ae,H,Ue,Q[Ue],ae),Ke!==null&&(i&&Ke.alternate!==null&&Ae.delete(Ke.key===null?Ue:Ke.key),F=g(Ke,F,Ue),et===null?Ne=Ke:et.sibling=Ke,et=Ke);return i&&Ae.forEach(function(Ys){return s(H,Ys)}),Xe&&Bi(H,Ue),Ne}function De(H,F,Q,ae){if(Q==null)throw Error(r(151));for(var Ne=null,et=null,Ae=F,Ue=F=0,Ke=null,tt=Q.next();Ae!==null&&!tt.done;Ue++,tt=Q.next()){Ae.index>Ue?(Ke=Ae,Ae=null):Ke=Ae.sibling;var Ys=W(H,Ae,tt.value,ae);if(Ys===null){Ae===null&&(Ae=Ke);break}i&&Ae&&Ys.alternate===null&&s(H,Ae),F=g(Ys,F,Ue),et===null?Ne=Ys:et.sibling=Ys,et=Ys,Ae=Ke}if(tt.done)return o(H,Ae),Xe&&Bi(H,Ue),Ne;if(Ae===null){for(;!tt.done;Ue++,tt=Q.next())tt=le(H,tt.value,ae),tt!==null&&(F=g(tt,F,Ue),et===null?Ne=tt:et.sibling=tt,et=tt);return Xe&&Bi(H,Ue),Ne}for(Ae=c(Ae);!tt.done;Ue++,tt=Q.next())tt=te(Ae,H,Ue,tt.value,ae),tt!==null&&(i&&tt.alternate!==null&&Ae.delete(tt.key===null?Ue:tt.key),F=g(tt,F,Ue),et===null?Ne=tt:et.sibling=tt,et=tt);return i&&Ae.forEach(function(BD){return s(H,BD)}),Xe&&Bi(H,Ue),Ne}function yt(H,F,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Ne=Q.key;F!==null;){if(F.key===Ne){if(Ne=Q.type,Ne===M){if(F.tag===7){o(H,F.sibling),ae=p(F,Q.props.children),ae.return=H,H=ae;break e}}else if(F.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===N&&qa(Ne)===F.type){o(H,F.sibling),ae=p(F,Q.props),Yu(ae,Q),ae.return=H,H=ae;break e}o(H,F);break}else s(H,F);F=F.sibling}Q.type===M?(ae=ja(Q.props.children,H.mode,ae,Q.key),ae.return=H,H=ae):(ae=uf(Q.type,Q.key,Q.props,null,H.mode,ae),Yu(ae,Q),ae.return=H,H=ae)}return T(H);case D:e:{for(Ne=Q.key;F!==null;){if(F.key===Ne)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){o(H,F.sibling),ae=p(F,Q.children||[]),ae.return=H,H=ae;break e}else{o(H,F);break}else s(H,F);F=F.sibling}ae=op(Q,H.mode,ae),ae.return=H,H=ae}return T(H);case N:return Q=qa(Q),yt(H,F,Q,ae)}if(de(Q))return Te(H,F,Q,ae);if(L(Q)){if(Ne=L(Q),typeof Ne!="function")throw Error(r(150));return Q=Ne.call(Q),De(H,F,Q,ae)}if(typeof Q.then=="function")return yt(H,F,gf(Q),ae);if(Q.$$typeof===q)return yt(H,F,ff(H,Q),ae);yf(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(o(H,F.sibling),ae=p(F,Q),ae.return=H,H=ae):(o(H,F),ae=lp(Q,H.mode,ae),ae.return=H,H=ae),T(H)):o(H,F)}return function(H,F,Q,ae){try{Gu=0;var Ne=yt(H,F,Q,ae);return Zl=null,Ne}catch(Ae){if(Ae===Jl||Ae===mf)throw Ae;var et=sr(29,Ae,null,H.mode);return et.lanes=ae,et.return=H,et}finally{}}}var Ga=Hx(!0),Gx=Hx(!1),Rs=!1;function xp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Cs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ds(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=of(i),Nx(i,null,o),s}return lf(i,c,s,o),of(i)}function Ku(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,xu(i,o)}}function bp(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?p=g=s:g=g.next=s}else p=g=s;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Tp=!1;function Qu(){if(Tp){var i=Wl;if(i!==null)throw i}}function $u(i,s,o,c){Tp=!1;var p=i.updateQueue;Rs=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var j=A,$=j.next;j.next=null,T===null?g=$:T.next=$,T=j;var re=i.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==T&&(A===null?re.firstBaseUpdate=$:A.next=$,re.lastBaseUpdate=j))}if(g!==null){var le=p.baseState;T=0,re=$=j=null,A=g;do{var W=A.lane&-536870913,te=W!==A.lane;if(te?(Ye&W)===W:(c&W)===W){W!==0&&W===Xl&&(Tp=!0),re!==null&&(re=re.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Te=i,De=A;W=s;var yt=o;switch(De.tag){case 1:if(Te=De.payload,typeof Te=="function"){le=Te.call(yt,le,W);break e}le=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=De.payload,W=typeof Te=="function"?Te.call(yt,le,W):Te,W==null)break e;le=_({},le,W);break e;case 2:Rs=!0}}W=A.callback,W!==null&&(i.flags|=64,te&&(i.flags|=8192),te=p.callbacks,te===null?p.callbacks=[W]:te.push(W))}else te={lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?($=re=te,j=le):re=re.next=te,T|=W;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;te=A,A=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);re===null&&(j=le),p.baseState=j,p.firstBaseUpdate=$,p.lastBaseUpdate=re,g===null&&(p.shared.lanes=0),Ps|=T,i.lanes=T,i.memoizedState=le}}function Yx(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Kx(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Yx(o[i],s)}var eo=B(null),_f=B(0);function Qx(i,s){i=Wi,R(_f,i),R(eo,s),Wi=i|s.baseLanes}function wp(){R(_f,Wi),R(eo,eo.current)}function Ap(){Wi=_f.current,ie(eo),ie(_f)}var ar=B(null),Ir=null;function Os(i){var s=i.alternate;R(zt,zt.current&1),R(ar,i),Ir===null&&(s===null||eo.current!==null||s.memoizedState!==null)&&(Ir=i)}function Sp(i){R(zt,zt.current),R(ar,i),Ir===null&&(Ir=i)}function $x(i){i.tag===22?(R(zt,zt.current),R(ar,i),Ir===null&&(Ir=i)):ks()}function ks(){R(zt,zt.current),R(ar,ar.current)}function lr(i){ie(ar),Ir===i&&(Ir=null),ie(zt)}var zt=B(0);function Ef(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Og(o)||kg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qi=0,Le=null,pt=null,Jt=null,xf=!1,to=!1,Ya=!1,vf=0,Xu=0,no=null,CC=0;function Pt(){throw Error(r(321))}function Ip(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!ir(i[o],s[o]))return!1;return!0}function Np(i,s,o,c,p,g){return qi=g,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=i===null||i.memoizedState===null?Ov:qp,Ya=!1,g=o(c,p),Ya=!1,to&&(g=Wx(s,o,c,p)),Xx(i),g}function Xx(i){X.H=Zu;var s=pt!==null&&pt.next!==null;if(qi=0,Jt=pt=Le=null,xf=!1,Xu=0,no=null,s)throw Error(r(300));i===null||Zt||(i=i.dependencies,i!==null&&hf(i)&&(Zt=!0))}function Wx(i,s,o,c){Le=i;var p=0;do{if(to&&(no=null),Xu=0,to=!1,25<=p)throw Error(r(301));if(p+=1,Jt=pt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=kv,g=s(o,c)}while(to);return g}function DC(){var i=X.H,s=i.useState()[0];return s=typeof s.then=="function"?Wu(s):s,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(Le.flags|=1024),s}function Rp(){var i=vf!==0;return vf=0,i}function Cp(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Dp(i){if(xf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}xf=!1}qi=0,Jt=pt=Le=null,to=!1,Xu=vf=0,no=null}function Vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Le.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function Ft(){if(pt===null){var i=Le.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var s=Jt===null?Le.memoizedState:Jt.next;if(s!==null)Jt=s,pt=i;else{if(i===null)throw Le.alternate===null?Error(r(467)):Error(r(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Jt===null?Le.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wu(i){var s=Xu;return Xu+=1,no===null&&(no=[]),i=zx(no,i,s),s=Le,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?Ov:qp),i}function Tf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wu(i);if(i.$$typeof===q)return yn(i)}throw Error(r(438,String(i)))}function Op(i){var s=null,o=Le.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Le.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=bf(),Le.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=U;return s.index++,o}function Hi(i,s){return typeof s=="function"?s(i):s}function wf(i){var s=Ft();return kp(s,pt,i)}function kp(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}s.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{s=p.next;var A=T=null,j=null,$=s,re=!1;do{var le=$.lane&-536870913;if(le!==$.lane?(Ye&le)===le:(qi&le)===le){var W=$.revertLane;if(W===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),le===Xl&&(re=!0);else if((qi&W)===W){$=$.next,W===Xl&&(re=!0);continue}else le={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(A=j=le,T=g):j=j.next=le,Le.lanes|=W,Ps|=W;le=$.action,Ya&&o(g,le),g=$.hasEagerState?$.eagerState:o(g,le)}else W={lane:le,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(A=j=W,T=g):j=j.next=W,Le.lanes|=le,Ps|=le;$=$.next}while($!==null&&$!==s);if(j===null?T=g:j.next=A,!ir(g,i.memoizedState)&&(Zt=!0,re&&(o=Wl,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=j,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Vp(i){var s=Ft(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,p=o.pending,g=s.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do g=i(g,T.action),T=T.next;while(T!==p);ir(g,s.memoizedState)||(Zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function Jx(i,s,o){var c=Le,p=Ft(),g=Xe;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!ir((pt||p).memoizedState,o);if(T&&(p.memoizedState=o,Zt=!0),p=p.queue,Lp(tv.bind(null,c,p,i),[i]),p.getSnapshot!==s||T||Jt!==null&&Jt.memoizedState.tag&1){if(c.flags|=2048,ro(9,{destroy:void 0},ev.bind(null,c,p,o,s),null),_t===null)throw Error(r(349));g||(qi&127)!==0||Zx(c,s,o)}return o}function Zx(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Le.updateQueue,s===null?(s=bf(),Le.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function ev(i,s,o,c){s.value=o,s.getSnapshot=c,nv(s)&&rv(i)}function tv(i,s,o){return o(function(){nv(s)&&rv(i)})}function nv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!ir(i,o)}catch{return!0}}function rv(i){var s=La(i,2);s!==null&&Qn(s,i,2)}function Mp(i){var s=Vn();if(typeof i=="function"){var o=i;if(i=o(),Ya){on(!0);try{o()}finally{on(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:i},s}function iv(i,s,o,c){return i.baseState=o,kp(i,pt,typeof c=="function"?c:Hi)}function OC(i,s,o,c,p){if(If(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};X.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,sv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function sv(i,s){var o=s.action,c=s.payload,p=i.state;if(s.isTransition){var g=X.T,T={};X.T=T;try{var A=o(p,c),j=X.S;j!==null&&j(T,A),av(i,s,A)}catch($){Pp(i,s,$)}finally{g!==null&&T.types!==null&&(g.types=T.types),X.T=g}}else try{g=o(p,c),av(i,s,g)}catch($){Pp(i,s,$)}}function av(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){lv(i,s,c)},function(c){return Pp(i,s,c)}):lv(i,s,o)}function lv(i,s,o){s.status="fulfilled",s.value=o,ov(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,sv(i,o)))}function Pp(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,ov(s),s=s.next;while(s!==c)}i.action=null}function ov(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function uv(i,s){return s}function cv(i,s){if(Xe){var o=_t.formState;if(o!==null){e:{var c=Le;if(Xe){if(Tt){t:{for(var p=Tt,g=Sr;p.nodeType!==8;){if(!g){p=null;break t}if(p=Nr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Tt=Nr(p.nextSibling),c=p.data==="F!";break e}}Is(c)}c=!1}c&&(s=o[0])}}return o=Vn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:s},o.queue=c,o=Rv.bind(null,Le,c),c.dispatch=o,c=Mp(!1),g=Fp.bind(null,Le,!1,c.queue),c=Vn(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,o=OC.bind(null,Le,p,g,o),p.dispatch=o,c.memoizedState=i,[s,o,!1]}function hv(i){var s=Ft();return fv(s,pt,i)}function fv(i,s,o){if(s=kp(i,s,uv)[0],i=wf(Hi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Wu(s)}catch(T){throw T===Jl?mf:T}else c=s;s=Ft();var p=s.queue,g=p.dispatch;return o!==s.memoizedState&&(Le.flags|=2048,ro(9,{destroy:void 0},kC.bind(null,p,o),null)),[c,g,i]}function kC(i,s){i.action=s}function dv(i){var s=Ft(),o=pt;if(o!==null)return fv(s,o,i);Ft(),s=s.memoizedState,o=Ft();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function ro(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Le.updateQueue,s===null&&(s=bf(),Le.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function mv(){return Ft().memoizedState}function Af(i,s,o,c){var p=Vn();Le.flags|=i,p.memoizedState=ro(1|s,{destroy:void 0},o,c===void 0?null:c)}function Sf(i,s,o,c){var p=Ft();c=c===void 0?null:c;var g=p.memoizedState.inst;pt!==null&&c!==null&&Ip(c,pt.memoizedState.deps)?p.memoizedState=ro(s,g,o,c):(Le.flags|=i,p.memoizedState=ro(1|s,g,o,c))}function pv(i,s){Af(8390656,8,i,s)}function Lp(i,s){Sf(2048,8,i,s)}function VC(i){Le.flags|=4;var s=Le.updateQueue;if(s===null)s=bf(),Le.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function gv(i){var s=Ft().memoizedState;return VC({ref:s,nextImpl:i}),function(){if((st&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function yv(i,s){return Sf(4,2,i,s)}function _v(i,s){return Sf(4,4,i,s)}function Ev(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function xv(i,s,o){o=o!=null?o.concat([i]):null,Sf(4,4,Ev.bind(null,s,i),o)}function jp(){}function vv(i,s){var o=Ft();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Ip(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function bv(i,s){var o=Ft();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Ip(s,c[1]))return c[0];if(c=i(),Ya){on(!0);try{i()}finally{on(!1)}}return o.memoizedState=[c,s],c}function Up(i,s,o){return o===void 0||(qi&1073741824)!==0&&(Ye&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=T0(),Le.lanes|=i,Ps|=i,o)}function Tv(i,s,o,c){return ir(o,s)?o:eo.current!==null?(i=Up(i,o,c),ir(i,s)||(Zt=!0),i):(qi&42)===0||(qi&1073741824)!==0&&(Ye&261930)===0?(Zt=!0,i.memoizedState=o):(i=T0(),Le.lanes|=i,Ps|=i,s)}function wv(i,s,o,c,p){var g=ce.p;ce.p=g!==0&&8>g?g:8;var T=X.T,A={};X.T=A,Fp(i,!1,s,o);try{var j=p(),$=X.S;if($!==null&&$(A,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var re=RC(j,c);Ju(i,s,re,cr(i))}else Ju(i,s,c,cr(i))}catch(le){Ju(i,s,{then:function(){},status:"rejected",reason:le},cr())}finally{ce.p=g,T!==null&&A.types!==null&&(T.types=A.types),X.T=T}}function MC(){}function Bp(i,s,o,c){if(i.tag!==5)throw Error(r(476));var p=Av(i).queue;wv(i,p,s,be,o===null?MC:function(){return Sv(i),o(c)})}function Av(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:be},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Sv(i){var s=Av(i);s.next===null&&(s=i.alternate.memoizedState),Ju(i,s.next.queue,{},cr())}function zp(){return yn(pc)}function Iv(){return Ft().memoizedState}function Nv(){return Ft().memoizedState}function PC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=cr();i=Cs(o);var c=Ds(s,i,o);c!==null&&(Qn(c,s,o),Ku(c,s,o)),s={cache:gp()},i.payload=s;return}s=s.return}}function LC(i,s,o){var c=cr();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},If(i)?Cv(s,o):(o=sp(i,s,o,c),o!==null&&(Qn(o,i,c),Dv(o,s,c)))}function Rv(i,s,o){var c=cr();Ju(i,s,o,c)}function Ju(i,s,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(If(i))Cv(s,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,A=g(T,o);if(p.hasEagerState=!0,p.eagerState=A,ir(A,T))return lf(i,s,p,0),_t===null&&af(),!1}catch{}finally{}if(o=sp(i,s,p,c),o!==null)return Qn(o,i,c),Dv(o,s,c),!0}return!1}function Fp(i,s,o,c){if(c={lane:2,revertLane:xg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},If(i)){if(s)throw Error(r(479))}else s=sp(i,o,c,2),s!==null&&Qn(s,i,2)}function If(i){var s=i.alternate;return i===Le||s!==null&&s===Le}function Cv(i,s){to=xf=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Dv(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,xu(i,o)}}var Zu={readContext:yn,use:Tf,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};Zu.useEffectEvent=Pt;var Ov={readContext:yn,use:Tf,useCallback:function(i,s){return Vn().memoizedState=[i,s===void 0?null:s],i},useContext:yn,useEffect:pv,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Af(4194308,4,Ev.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Af(4194308,4,i,s)},useInsertionEffect:function(i,s){Af(4,2,i,s)},useMemo:function(i,s){var o=Vn();s=s===void 0?null:s;var c=i();if(Ya){on(!0);try{i()}finally{on(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=Vn();if(o!==void 0){var p=o(s);if(Ya){on(!0);try{o(s)}finally{on(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=LC.bind(null,Le,i),[c.memoizedState,i]},useRef:function(i){var s=Vn();return i={current:i},s.memoizedState=i},useState:function(i){i=Mp(i);var s=i.queue,o=Rv.bind(null,Le,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:jp,useDeferredValue:function(i,s){var o=Vn();return Up(o,i,s)},useTransition:function(){var i=Mp(!1);return i=wv.bind(null,Le,i.queue,!0,!1),Vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Le,p=Vn();if(Xe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),_t===null)throw Error(r(349));(Ye&127)!==0||Zx(c,s,o)}p.memoizedState=o;var g={value:o,getSnapshot:s};return p.queue=g,pv(tv.bind(null,c,g,i),[i]),c.flags|=2048,ro(9,{destroy:void 0},ev.bind(null,c,g,o,s),null),o},useId:function(){var i=Vn(),s=_t.identifierPrefix;if(Xe){var o=xi,c=Ei;o=(c&~(1<<32-$e(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=vf++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=CC++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:zp,useFormState:cv,useActionState:cv,useOptimistic:function(i){var s=Vn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Fp.bind(null,Le,!0,o),o.dispatch=s,[i,s]},useMemoCache:Op,useCacheRefresh:function(){return Vn().memoizedState=PC.bind(null,Le)},useEffectEvent:function(i){var s=Vn(),o={impl:i};return s.memoizedState=o,function(){if((st&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},qp={readContext:yn,use:Tf,useCallback:vv,useContext:yn,useEffect:Lp,useImperativeHandle:xv,useInsertionEffect:yv,useLayoutEffect:_v,useMemo:bv,useReducer:wf,useRef:mv,useState:function(){return wf(Hi)},useDebugValue:jp,useDeferredValue:function(i,s){var o=Ft();return Tv(o,pt.memoizedState,i,s)},useTransition:function(){var i=wf(Hi)[0],s=Ft().memoizedState;return[typeof i=="boolean"?i:Wu(i),s]},useSyncExternalStore:Jx,useId:Iv,useHostTransitionStatus:zp,useFormState:hv,useActionState:hv,useOptimistic:function(i,s){var o=Ft();return iv(o,pt,i,s)},useMemoCache:Op,useCacheRefresh:Nv};qp.useEffectEvent=gv;var kv={readContext:yn,use:Tf,useCallback:vv,useContext:yn,useEffect:Lp,useImperativeHandle:xv,useInsertionEffect:yv,useLayoutEffect:_v,useMemo:bv,useReducer:Vp,useRef:mv,useState:function(){return Vp(Hi)},useDebugValue:jp,useDeferredValue:function(i,s){var o=Ft();return pt===null?Up(o,i,s):Tv(o,pt.memoizedState,i,s)},useTransition:function(){var i=Vp(Hi)[0],s=Ft().memoizedState;return[typeof i=="boolean"?i:Wu(i),s]},useSyncExternalStore:Jx,useId:Iv,useHostTransitionStatus:zp,useFormState:dv,useActionState:dv,useOptimistic:function(i,s){var o=Ft();return pt!==null?iv(o,pt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Op,useCacheRefresh:Nv};kv.useEffectEvent=gv;function Hp(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:_({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Gp={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=cr(),p=Cs(c);p.payload=s,o!=null&&(p.callback=o),s=Ds(i,p,c),s!==null&&(Qn(s,i,c),Ku(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=cr(),p=Cs(c);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=Ds(i,p,c),s!==null&&(Qn(s,i,c),Ku(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=cr(),c=Cs(o);c.tag=2,s!=null&&(c.callback=s),s=Ds(i,c,o),s!==null&&(Qn(s,i,o),Ku(s,i,o))}};function Vv(i,s,o,c,p,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!Uu(o,c)||!Uu(p,g):!0}function Mv(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&Gp.enqueueReplaceState(s,s.state,null)}function Ka(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=_({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function Pv(i){sf(i)}function Lv(i){console.error(i)}function jv(i){sf(i)}function Nf(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Uv(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Yp(i,s,o){return o=Cs(o),o.tag=3,o.payload={element:null},o.callback=function(){Nf(i,s)},o}function Bv(i){return i=Cs(i),i.tag=3,i}function zv(i,s,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){Uv(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Uv(s,o,c),typeof p!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function jC(i,s,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&$l(s,o,p,!0),o=ar.current,o!==null){switch(o.tag){case 31:case 13:return Ir===null?Bf():o.alternate===null&&Lt===0&&(Lt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===pf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),yg(i,c,p)),!1;case 22:return o.flags|=65536,c===pf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),yg(i,c,p)),!1}throw Error(r(435,o.tag))}return yg(i,c,p),Bf(),!1}if(Xe)return s=ar.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==hp&&(i=Error(r(422),{cause:c}),Fu(Tr(i,o)))):(c!==hp&&(s=Error(r(423),{cause:c}),Fu(Tr(s,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Tr(c,o),p=Yp(i.stateNode,c,p),bp(i,p),Lt!==4&&(Lt=2)),!1;var g=Error(r(520),{cause:c});if(g=Tr(g,o),lc===null?lc=[g]:lc.push(g),Lt!==4&&(Lt=2),s===null)return!0;c=Tr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=Yp(o.stateNode,c,i),bp(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ls===null||!Ls.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Bv(p),zv(p,i,o,c),bp(o,p),!1}o=o.return}while(o!==null);return!1}var Kp=Error(r(461)),Zt=!1;function _n(i,s,o,c){s.child=i===null?Gx(s,null,o,c):Ga(s,i.child,o,c)}function Fv(i,s,o,c,p){o=o.render;var g=s.ref;if("ref"in c){var T={};for(var A in c)A!=="ref"&&(T[A]=c[A])}else T=c;return za(s),c=Np(i,s,o,T,g,p),A=Rp(),i!==null&&!Zt?(Cp(i,s,p),Gi(i,s,p)):(Xe&&A&&up(s),s.flags|=1,_n(i,s,c,p),s.child)}function qv(i,s,o,c,p){if(i===null){var g=o.type;return typeof g=="function"&&!ap(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Hv(i,s,g,c,p)):(i=uf(o.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!tg(i,p)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Uu,o(T,c)&&i.ref===s.ref)return Gi(i,s,p)}return s.flags|=1,i=Ui(g,c),i.ref=s.ref,i.return=s,s.child=i}function Hv(i,s,o,c,p){if(i!==null){var g=i.memoizedProps;if(Uu(g,c)&&i.ref===s.ref)if(Zt=!1,s.pendingProps=c=g,tg(i,p))(i.flags&131072)!==0&&(Zt=!0);else return s.lanes=i.lanes,Gi(i,s,p)}return Qp(i,s,o,c,p)}function Gv(i,s,o,c){var p=c.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=s.child=i.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,s.child=null;return Yv(i,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&df(s,g!==null?g.cachePool:null),g!==null?Qx(s,g):wp(),$x(s);else return c=s.lanes=536870912,Yv(i,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(df(s,g.cachePool),Qx(s,g),ks(),s.memoizedState=null):(i!==null&&df(s,null),wp(),ks());return _n(i,s,p,o),s.child}function ec(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Yv(i,s,o,c,p){var g=_p();return g=g===null?null:{parent:Wt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&df(s,null),wp(),$x(s),i!==null&&$l(i,s,c,!0),s.childLanes=p,null}function Rf(i,s){return s=Df({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Kv(i,s,o){return Ga(s,i.child,null,o),i=Rf(s,s.pendingProps),i.flags|=2,lr(s),s.memoizedState=null,i}function UC(i,s,o){var c=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Xe){if(c.mode==="hidden")return i=Rf(s,c),s.lanes=536870912,ec(null,i);if(Sp(s),(i=Tt)?(i=sb(i,Sr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:As!==null?{id:Ei,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},o=Cx(i),o.return=s,s.child=o,gn=s,Tt=null)):i=null,i===null)throw Is(s);return s.lanes=536870912,null}return Rf(s,c)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Sp(s),p)if(s.flags&256)s.flags&=-257,s=Kv(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Zt||$l(i,s,o,!1),p=(o&i.childLanes)!==0,Zt||p){if(c=_t,c!==null&&(T=vu(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,La(i,T),Qn(c,i,T),Kp;Bf(),s=Kv(i,s,o)}else i=g.treeContext,Tt=Nr(T.nextSibling),gn=s,Xe=!0,Ss=null,Sr=!1,i!==null&&kx(s,i),s=Rf(s,c),s.flags|=4096;return s}return i=Ui(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Cf(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Qp(i,s,o,c,p){return za(s),o=Np(i,s,o,c,void 0,p),c=Rp(),i!==null&&!Zt?(Cp(i,s,p),Gi(i,s,p)):(Xe&&c&&up(s),s.flags|=1,_n(i,s,o,p),s.child)}function Qv(i,s,o,c,p,g){return za(s),s.updateQueue=null,o=Wx(s,c,o,p),Xx(i),c=Rp(),i!==null&&!Zt?(Cp(i,s,g),Gi(i,s,g)):(Xe&&c&&up(s),s.flags|=1,_n(i,s,o,g),s.child)}function $v(i,s,o,c,p){if(za(s),s.stateNode===null){var g=Gl,T=o.contextType;typeof T=="object"&&T!==null&&(g=yn(T)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},xp(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?yn(T):Gl,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Hp(s,o,T,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Gp.enqueueReplaceState(g,g.state,null),$u(s,c,g,p),Qu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,j=Ka(o,A);g.props=j;var $=g.context,re=o.contextType;T=Gl,typeof re=="object"&&re!==null&&(T=yn(re));var le=o.getDerivedStateFromProps;re=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||$!==T)&&Mv(s,g,c,T),Rs=!1;var W=s.memoizedState;g.state=W,$u(s,c,g,p),Qu(),$=s.memoizedState,A||W!==$||Rs?(typeof le=="function"&&(Hp(s,o,le,c),$=s.memoizedState),(j=Rs||Vv(s,o,j,c,W,$,T))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=$),g.props=c,g.state=$,g.context=T,c=j):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,vp(i,s),T=s.memoizedProps,re=Ka(o,T),g.props=re,le=s.pendingProps,W=g.context,$=o.contextType,j=Gl,typeof $=="object"&&$!==null&&(j=yn($)),A=o.getDerivedStateFromProps,($=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==le||W!==j)&&Mv(s,g,c,j),Rs=!1,W=s.memoizedState,g.state=W,$u(s,c,g,p),Qu();var te=s.memoizedState;T!==le||W!==te||Rs||i!==null&&i.dependencies!==null&&hf(i.dependencies)?(typeof A=="function"&&(Hp(s,o,A,c),te=s.memoizedState),(re=Rs||Vv(s,o,re,c,W,te,j)||i!==null&&i.dependencies!==null&&hf(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,te,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,te,j)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=te),g.props=c,g.state=te,g.context=j,c=re):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Cf(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Ga(s,i.child,null,p),s.child=Ga(s,null,o,p)):_n(i,s,o,p),s.memoizedState=g.state,i=s.child):i=Gi(i,s,p),i}function Xv(i,s,o,c){return Ua(),s.flags|=256,_n(i,s,o,c),s.child}var $p={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xp(i){return{baseLanes:i,cachePool:Ux()}}function Wp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ur),i}function Wv(i,s,o){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(zt.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Xe){if(p?Os(s):ks(),(i=Tt)?(i=sb(i,Sr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:As!==null?{id:Ei,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},o=Cx(i),o.return=s,s.child=o,gn=s,Tt=null)):i=null,i===null)throw Is(s);return kg(i)?s.lanes=32:s.lanes=536870912,null}var A=c.children;return c=c.fallback,p?(ks(),p=s.mode,A=Df({mode:"hidden",children:A},p),c=ja(c,p,o,null),A.return=s,c.return=s,A.sibling=c,s.child=A,c=s.child,c.memoizedState=Xp(o),c.childLanes=Wp(i,T,o),s.memoizedState=$p,ec(null,c)):(Os(s),Jp(s,A))}var j=i.memoizedState;if(j!==null&&(A=j.dehydrated,A!==null)){if(g)s.flags&256?(Os(s),s.flags&=-257,s=Zp(i,s,o)):s.memoizedState!==null?(ks(),s.child=i.child,s.flags|=128,s=null):(ks(),A=c.fallback,p=s.mode,c=Df({mode:"visible",children:c.children},p),A=ja(A,p,o,null),A.flags|=2,c.return=s,A.return=s,c.sibling=A,s.child=c,Ga(s,i.child,null,o),c=s.child,c.memoizedState=Xp(o),c.childLanes=Wp(i,T,o),s.memoizedState=$p,s=ec(null,c));else if(Os(s),kg(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var $=T.dgst;T=$,c=Error(r(419)),c.stack="",c.digest=T,Fu({value:c,source:null,stack:null}),s=Zp(i,s,o)}else if(Zt||$l(i,s,o,!1),T=(o&i.childLanes)!==0,Zt||T){if(T=_t,T!==null&&(c=vu(T,o),c!==0&&c!==j.retryLane))throw j.retryLane=c,La(i,c),Qn(T,i,c),Kp;Og(A)||Bf(),s=Zp(i,s,o)}else Og(A)?(s.flags|=192,s.child=i.child,s=null):(i=j.treeContext,Tt=Nr(A.nextSibling),gn=s,Xe=!0,Ss=null,Sr=!1,i!==null&&kx(s,i),s=Jp(s,c.children),s.flags|=4096);return s}return p?(ks(),A=c.fallback,p=s.mode,j=i.child,$=j.sibling,c=Ui(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,$!==null?A=Ui($,A):(A=ja(A,p,o,null),A.flags|=2),A.return=s,c.return=s,c.sibling=A,s.child=c,ec(null,c),c=s.child,A=i.child.memoizedState,A===null?A=Xp(o):(p=A.cachePool,p!==null?(j=Wt._currentValue,p=p.parent!==j?{parent:j,pool:j}:p):p=Ux(),A={baseLanes:A.baseLanes|o,cachePool:p}),c.memoizedState=A,c.childLanes=Wp(i,T,o),s.memoizedState=$p,ec(i.child,c)):(Os(s),o=i.child,i=o.sibling,o=Ui(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function Jp(i,s){return s=Df({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Df(i,s){return i=sr(22,i,null,s),i.lanes=0,i}function Zp(i,s,o){return Ga(s,i.child,null,o),i=Jp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Jv(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),mp(i.return,s,o)}function eg(i,s,o,c,p,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=p,T.treeForkCount=g)}function Zv(i,s,o){var c=s.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var T=zt.current,A=(T&2)!==0;if(A?(T=T&1|2,s.flags|=128):T&=1,R(zt,T),_n(i,s,c,o),c=Xe?zu:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Jv(i,o,s);else if(i.tag===19)Jv(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)i=o.alternate,i!==null&&Ef(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),eg(s,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Ef(i)===null){s.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}eg(s,!0,o,null,g,c);break;case"together":eg(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Gi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Ps|=s.lanes,(o&s.childLanes)===0)if(i!==null){if($l(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Ui(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Ui(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function tg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&hf(i)))}function BC(i,s,o){switch(s.tag){case 3:dt(s,s.stateNode.containerInfo),Ns(s,Wt,i.memoizedState.cache),Ua();break;case 27:case 5:zn(s);break;case 4:dt(s,s.stateNode.containerInfo);break;case 10:Ns(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Sp(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Os(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Wv(i,s,o):(Os(s),i=Gi(i,s,o),i!==null?i.sibling:null);Os(s);break;case 19:var p=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||($l(i,s,o,!1),c=(o&s.childLanes)!==0),p){if(c)return Zv(i,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),R(zt,zt.current),c)break;return null;case 22:return s.lanes=0,Gv(i,s,o,s.pendingProps);case 24:Ns(s,Wt,i.memoizedState.cache)}return Gi(i,s,o)}function e0(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Zt=!0;else{if(!tg(i,o)&&(s.flags&128)===0)return Zt=!1,BC(i,s,o);Zt=(i.flags&131072)!==0}else Zt=!1,Xe&&(s.flags&1048576)!==0&&Ox(s,zu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=qa(s.elementType),s.type=i,typeof i=="function")ap(i)?(c=Ka(i,c),s.tag=1,s=$v(null,s,i,c,o)):(s.tag=0,s=Qp(null,s,i,c,o));else{if(i!=null){var p=i.$$typeof;if(p===me){s.tag=11,s=Fv(null,s,i,c,o);break e}else if(p===S){s.tag=14,s=qv(null,s,i,c,o);break e}}throw s=xe(i)||i,Error(r(306,s,""))}}return s;case 0:return Qp(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,p=Ka(c,s.pendingProps),$v(i,s,c,p,o);case 3:e:{if(dt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,vp(i,s),$u(s,c,null,o);var T=s.memoizedState;if(c=T.cache,Ns(s,Wt,c),c!==g.cache&&pp(s,[Wt],o,!0),Qu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Xv(i,s,c,o);break e}else if(c!==p){p=Tr(Error(r(424)),s),Fu(p),s=Xv(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Tt=Nr(i.firstChild),gn=s,Xe=!0,Ss=null,Sr=!0,o=Gx(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ua(),c===p){s=Gi(i,s,o);break e}_n(i,s,c,o)}s=s.child}return s;case 26:return Cf(i,s),i===null?(o=hb(s.type,null,s.pendingProps,null))?s.memoizedState=o:Xe||(o=s.type,i=s.pendingProps,c=Kf(Se.current).createElement(o),c[Qt]=s,c[un]=i,En(c,o,i),$t(c),s.stateNode=c):s.memoizedState=hb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return zn(s),i===null&&Xe&&(c=s.stateNode=ob(s.type,s.pendingProps,Se.current),gn=s,Sr=!0,p=Tt,zs(s.type)?(Vg=p,Tt=Nr(c.firstChild)):Tt=p),_n(i,s,s.pendingProps.children,o),Cf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Xe&&((p=c=Tt)&&(c=gD(c,s.type,s.pendingProps,Sr),c!==null?(s.stateNode=c,gn=s,Tt=Nr(c.firstChild),Sr=!1,p=!0):p=!1),p||Is(s)),zn(s),p=s.type,g=s.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,Rg(p,g)?c=null:T!==null&&Rg(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=Np(i,s,DC,null,null,o),pc._currentValue=p),Cf(i,s),_n(i,s,c,o),s.child;case 6:return i===null&&Xe&&((i=o=Tt)&&(o=yD(o,s.pendingProps,Sr),o!==null?(s.stateNode=o,gn=s,Tt=null,i=!0):i=!1),i||Is(s)),null;case 13:return Wv(i,s,o);case 4:return dt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Ga(s,null,c,o):_n(i,s,c,o),s.child;case 11:return Fv(i,s,s.type,s.pendingProps,o);case 7:return _n(i,s,s.pendingProps,o),s.child;case 8:return _n(i,s,s.pendingProps.children,o),s.child;case 12:return _n(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Ns(s,s.type,c.value),_n(i,s,c.children,o),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,za(s),p=yn(p),c=c(p),s.flags|=1,_n(i,s,c,o),s.child;case 14:return qv(i,s,s.type,s.pendingProps,o);case 15:return Hv(i,s,s.type,s.pendingProps,o);case 19:return Zv(i,s,o);case 31:return UC(i,s,o);case 22:return Gv(i,s,o,s.pendingProps);case 24:return za(s),c=yn(Wt),i===null?(p=_p(),p===null&&(p=_t,g=gp(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),s.memoizedState={parent:c,cache:p},xp(s),Ns(s,Wt,p)):((i.lanes&o)!==0&&(vp(i,s),$u(s,null,null,o),Qu()),p=i.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Ns(s,Wt,c)):(c=g.cache,Ns(s,Wt,c),c!==p.cache&&pp(s,[Wt],o,!0))),_n(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Yi(i){i.flags|=4}function ng(i,s,o,c,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(I0())i.flags|=8192;else throw Ha=pf,Ep}else i.flags&=-16777217}function t0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!gb(s))if(I0())i.flags|=8192;else throw Ha=pf,Ep}function Of(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Lh():536870912,i.lanes|=s,lo|=s)}function tc(i,s){if(!Xe)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function wt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function zC(i,s,o){var c=s.pendingProps;switch(cp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Fi(Wt),rt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ql(s)?Yi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fp())),wt(s),null;case 26:var p=s.type,g=s.memoizedState;return i===null?(Yi(s),g!==null?(wt(s),t0(s,g)):(wt(s),ng(s,p,null,c,o))):g?g!==i.memoizedState?(Yi(s),wt(s),t0(s,g)):(wt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&Yi(s),wt(s),ng(s,p,i,c,o)),null;case 27:if(Vr(s),o=Se.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Yi(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return wt(s),null}i=_e.current,Ql(s)?Vx(s):(i=ob(p,c,o),s.stateNode=i,Yi(s))}return wt(s),null;case 5:if(Vr(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Yi(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return wt(s),null}if(g=_e.current,Ql(s))Vx(s);else{var T=Kf(Se.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}g[Qt]=s,g[un]=c;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;e:switch(En(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Yi(s)}}return wt(s),ng(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Yi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Se.current,Ql(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,p=gn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Qt]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||W0(i.nodeValue,o)),i||Is(s,!0)}else i=Kf(i).createTextNode(c),i[Qt]=s,s.stateNode=i}return wt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(c=Ql(s),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Qt]=s}else Ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),i=!1}else o=fp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(lr(s),s):(lr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return wt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Ql(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Qt]=s}else Ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),p=!1}else p=fp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(lr(s),s):(lr(s),null)}return lr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Of(s,s.updateQueue),wt(s),null);case 4:return rt(),i===null&&wg(s.stateNode.containerInfo),wt(s),null;case 10:return Fi(s.type),wt(s),null;case 19:if(ie(zt),c=s.memoizedState,c===null)return wt(s),null;if(p=(s.flags&128)!==0,g=c.rendering,g===null)if(p)tc(c,!1);else{if(Lt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Ef(i),g!==null){for(s.flags|=128,tc(c,!1),i=g.updateQueue,s.updateQueue=i,Of(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Rx(o,i),o=o.sibling;return R(zt,zt.current&1|2),Xe&&Bi(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&mn()>Lf&&(s.flags|=128,p=!0,tc(c,!1),s.lanes=4194304)}else{if(!p)if(i=Ef(g),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,Of(s,i),tc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Xe)return wt(s),null}else 2*mn()-c.renderingStartTime>Lf&&o!==536870912&&(s.flags|=128,p=!0,tc(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(i=c.last,i!==null?i.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=mn(),i.sibling=null,o=zt.current,R(zt,p?o&1|2:o&1),Xe&&Bi(s,c.treeForkCount),i):(wt(s),null);case 22:case 23:return lr(s),Ap(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),o=s.updateQueue,o!==null&&Of(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&ie(Fa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Fi(Wt),wt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function FC(i,s){switch(cp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Fi(Wt),rt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Vr(s),null;case 31:if(s.memoizedState!==null){if(lr(s),s.alternate===null)throw Error(r(340));Ua()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(lr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ua()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ie(zt),null;case 4:return rt(),null;case 10:return Fi(s.type),null;case 22:case 23:return lr(s),Ap(),i!==null&&ie(Fa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Fi(Wt),null;case 25:return null;default:return null}}function n0(i,s){switch(cp(s),s.tag){case 3:Fi(Wt),rt();break;case 26:case 27:case 5:Vr(s);break;case 4:rt();break;case 31:s.memoizedState!==null&&lr(s);break;case 13:lr(s);break;case 19:ie(zt);break;case 10:Fi(s.type);break;case 22:case 23:lr(s),Ap(),i!==null&&ie(Fa);break;case 24:Fi(Wt)}}function nc(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==p)}}catch(A){ct(s,s.return,A)}}function Vs(i,s,o){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var T=c.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,p=s;var j=o,$=A;try{$()}catch(re){ct(p,j,re)}}}c=c.next}while(c!==g)}}catch(re){ct(s,s.return,re)}}function r0(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Kx(s,o)}catch(c){ct(i,i.return,c)}}}function i0(i,s,o){o.props=Ka(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){ct(i,s,c)}}function rc(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(p){ct(i,s,p)}}function vi(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){ct(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){ct(i,s,p)}else o.current=null}function s0(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){ct(i,i.return,p)}}function rg(i,s,o){try{var c=i.stateNode;cD(c,i.type,o,s),c[un]=s}catch(p){ct(i,i.return,p)}}function a0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zs(i.type)||i.tag===4}function ig(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||a0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sg(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ur));else if(c!==4&&(c===27&&zs(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(sg(i,s,o),i=i.sibling;i!==null;)sg(i,s,o),i=i.sibling}function kf(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&zs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(kf(i,s,o),i=i.sibling;i!==null;)kf(i,s,o),i=i.sibling}function l0(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);En(s,c,o),s[Qt]=i,s[un]=o}catch(g){ct(i,i.return,g)}}var Ki=!1,en=!1,ag=!1,o0=typeof WeakSet=="function"?WeakSet:Set,hn=null;function qC(i,s){if(i=i.containerInfo,Ig=ed,i=xx(i),Zm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,A=-1,j=-1,$=0,re=0,le=i,W=null;t:for(;;){for(var te;le!==o||p!==0&&le.nodeType!==3||(A=T+p),le!==g||c!==0&&le.nodeType!==3||(j=T+c),le.nodeType===3&&(T+=le.nodeValue.length),(te=le.firstChild)!==null;)W=le,le=te;for(;;){if(le===i)break t;if(W===o&&++$===p&&(A=T),W===g&&++re===c&&(j=T),(te=le.nextSibling)!==null)break;le=W,W=le.parentNode}le=te}o=A===-1||j===-1?null:{start:A,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ng={focusedElem:i,selectionRange:o},ed=!1,hn=s;hn!==null;)if(s=hn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,hn=i;else for(;hn!==null;){switch(s=hn,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Te=Ka(o.type,p);i=c.getSnapshotBeforeUpdate(Te,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(De){ct(o,o.return,De)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Dg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Dg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,hn=i;break}hn=s.return}}function u0(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:$i(i,o),c&4&&nc(5,o);break;case 1:if($i(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){ct(o,o.return,T)}else{var p=Ka(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){ct(o,o.return,T)}}c&64&&r0(o),c&512&&rc(o,o.return);break;case 3:if($i(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Kx(i,s)}catch(T){ct(o,o.return,T)}}break;case 27:s===null&&c&4&&l0(o);case 26:case 5:$i(i,o),s===null&&c&4&&s0(o),c&512&&rc(o,o.return);break;case 12:$i(i,o);break;case 31:$i(i,o),c&4&&f0(i,o);break;case 13:$i(i,o),c&4&&d0(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=JC.bind(null,o),_D(i,o))));break;case 22:if(c=o.memoizedState!==null||Ki,!c){s=s!==null&&s.memoizedState!==null||en,p=Ki;var g=en;Ki=c,(en=s)&&!g?Xi(i,o,(o.subtreeFlags&8772)!==0):$i(i,o),Ki=p,en=g}break;case 30:break;default:$i(i,o)}}function c0(i){var s=i.alternate;s!==null&&(i.alternate=null,c0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Dl(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Nt=null,Hn=!1;function Qi(i,s,o){for(o=o.child;o!==null;)h0(i,s,o),o=o.sibling}function h0(i,s,o){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Ut,o)}catch{}switch(o.tag){case 26:en||vi(o,s),Qi(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:en||vi(o,s);var c=Nt,p=Hn;zs(o.type)&&(Nt=o.stateNode,Hn=!1),Qi(i,s,o),fc(o.stateNode),Nt=c,Hn=p;break;case 5:en||vi(o,s);case 6:if(c=Nt,p=Hn,Nt=null,Qi(i,s,o),Nt=c,Hn=p,Nt!==null)if(Hn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(o.stateNode)}catch(g){ct(o,s,g)}else try{Nt.removeChild(o.stateNode)}catch(g){ct(o,s,g)}break;case 18:Nt!==null&&(Hn?(i=Nt,rb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),go(i)):rb(Nt,o.stateNode));break;case 4:c=Nt,p=Hn,Nt=o.stateNode.containerInfo,Hn=!0,Qi(i,s,o),Nt=c,Hn=p;break;case 0:case 11:case 14:case 15:Vs(2,o,s),en||Vs(4,o,s),Qi(i,s,o);break;case 1:en||(vi(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&i0(o,s,c)),Qi(i,s,o);break;case 21:Qi(i,s,o);break;case 22:en=(c=en)||o.memoizedState!==null,Qi(i,s,o),en=c;break;default:Qi(i,s,o)}}function f0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{go(i)}catch(o){ct(s,s.return,o)}}}function d0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{go(i)}catch(o){ct(s,s.return,o)}}function HC(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new o0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new o0),s;default:throw Error(r(435,i.tag))}}function Vf(i,s){var o=HC(i);s.forEach(function(c){if(!o.has(c)){o.add(c);var p=ZC.bind(null,i,c);c.then(p,p)}})}function Gn(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=i,T=s,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(zs(A.type)){Nt=A.stateNode,Hn=!1;break e}break;case 5:Nt=A.stateNode,Hn=!1;break e;case 3:case 4:Nt=A.stateNode.containerInfo,Hn=!0;break e}A=A.return}if(Nt===null)throw Error(r(160));h0(g,T,p),Nt=null,Hn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)m0(s,i),s=s.sibling}var Gr=null;function m0(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gn(s,i),Yn(i),c&4&&(Vs(3,i,i.return),nc(3,i),Vs(5,i,i.return));break;case 1:Gn(s,i),Yn(i),c&512&&(en||o===null||vi(o,o.return)),c&64&&Ki&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=Gr;if(Gn(s,i),Yn(i),c&512&&(en||o===null||vi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[li]||g[Qt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),En(g,c,o),g[Qt]=i,$t(g),c=g;break e;case"link":var T=mb("link","href",p).get(c+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}g=p.createElement(c),En(g,c,o),p.head.appendChild(g);break;case"meta":if(T=mb("meta","content",p).get(c+(o.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}g=p.createElement(c),En(g,c,o),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[Qt]=i,$t(g),c=g}i.stateNode=c}else pb(p,i.type,i.stateNode);else i.stateNode=db(p,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?pb(p,i.type,i.stateNode):db(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&rg(i,i.memoizedProps,o.memoizedProps)}break;case 27:Gn(s,i),Yn(i),c&512&&(en||o===null||vi(o,o.return)),o!==null&&c&4&&rg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Gn(s,i),Yn(i),c&512&&(en||o===null||vi(o,o.return)),i.flags&32){p=i.stateNode;try{qn(p,"")}catch(Te){ct(i,i.return,Te)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,rg(i,p,o!==null?o.memoizedProps:p)),c&1024&&(ag=!0);break;case 6:if(Gn(s,i),Yn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Te){ct(i,i.return,Te)}}break;case 3:if(Xf=null,p=Gr,Gr=Qf(s.containerInfo),Gn(s,i),Gr=p,Yn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{go(s.containerInfo)}catch(Te){ct(i,i.return,Te)}ag&&(ag=!1,p0(i));break;case 4:c=Gr,Gr=Qf(i.stateNode.containerInfo),Gn(s,i),Yn(i),Gr=c;break;case 12:Gn(s,i),Yn(i);break;case 31:Gn(s,i),Yn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Vf(i,c)));break;case 13:Gn(s,i),Yn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Pf=mn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Vf(i,c)));break;case 22:p=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,$=Ki,re=en;if(Ki=$||p,en=re||j,Gn(s,i),en=re,Ki=$,Yn(i),c&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||j||Ki||en||Qa(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){j=o=s;try{if(g=j.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=j.stateNode;var le=j.memoizedProps.style,W=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Te){ct(j,j.return,Te)}}}else if(s.tag===6){if(o===null){j=s;try{j.stateNode.nodeValue=p?"":j.memoizedProps}catch(Te){ct(j,j.return,Te)}}}else if(s.tag===18){if(o===null){j=s;try{var te=j.stateNode;p?ib(te,!0):ib(j.stateNode,!1)}catch(Te){ct(j,j.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Vf(i,o))));break;case 19:Gn(s,i),Yn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Vf(i,c)));break;case 30:break;case 21:break;default:Gn(s,i),Yn(i)}}function Yn(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(a0(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,g=ig(i);kf(i,g,p);break;case 5:var T=o.stateNode;o.flags&32&&(qn(T,""),o.flags&=-33);var A=ig(i);kf(i,A,T);break;case 3:case 4:var j=o.stateNode.containerInfo,$=ig(i);sg(i,$,j);break;default:throw Error(r(161))}}catch(re){ct(i,i.return,re)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function p0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;p0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function $i(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)u0(i,s.alternate,s),s=s.sibling}function Qa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Vs(4,s,s.return),Qa(s);break;case 1:vi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&i0(s,s.return,o),Qa(s);break;case 27:fc(s.stateNode);case 26:case 5:vi(s,s.return),Qa(s);break;case 22:s.memoizedState===null&&Qa(s);break;case 30:Qa(s);break;default:Qa(s)}i=i.sibling}}function Xi(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Xi(p,g,o),nc(4,g);break;case 1:if(Xi(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch($){ct(c,c.return,$)}if(c=g,p=c.updateQueue,p!==null){var A=c.stateNode;try{var j=p.shared.hiddenCallbacks;if(j!==null)for(p.shared.hiddenCallbacks=null,p=0;p<j.length;p++)Yx(j[p],A)}catch($){ct(c,c.return,$)}}o&&T&64&&r0(g),rc(g,g.return);break;case 27:l0(g);case 26:case 5:Xi(p,g,o),o&&c===null&&T&4&&s0(g),rc(g,g.return);break;case 12:Xi(p,g,o);break;case 31:Xi(p,g,o),o&&T&4&&f0(p,g);break;case 13:Xi(p,g,o),o&&T&4&&d0(p,g);break;case 22:g.memoizedState===null&&Xi(p,g,o),rc(g,g.return);break;case 30:break;default:Xi(p,g,o)}s=s.sibling}}function lg(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&qu(o))}function og(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&qu(i))}function Yr(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)g0(i,s,o,c),s=s.sibling}function g0(i,s,o,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Yr(i,s,o,c),p&2048&&nc(9,s);break;case 1:Yr(i,s,o,c);break;case 3:Yr(i,s,o,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&qu(i)));break;case 12:if(p&2048){Yr(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){ct(s,s.return,j)}}else Yr(i,s,o,c);break;case 31:Yr(i,s,o,c);break;case 13:Yr(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Yr(i,s,o,c):ic(i,s):g._visibility&2?Yr(i,s,o,c):(g._visibility|=2,io(i,s,o,c,(s.subtreeFlags&10256)!==0||!1)),p&2048&&lg(T,s);break;case 24:Yr(i,s,o,c),p&2048&&og(s.alternate,s);break;default:Yr(i,s,o,c)}}function io(i,s,o,c,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,T=s,A=o,j=c,$=T.flags;switch(T.tag){case 0:case 11:case 15:io(g,T,A,j,p),nc(8,T);break;case 23:break;case 22:var re=T.stateNode;T.memoizedState!==null?re._visibility&2?io(g,T,A,j,p):ic(g,T):(re._visibility|=2,io(g,T,A,j,p)),p&&$&2048&&lg(T.alternate,T);break;case 24:io(g,T,A,j,p),p&&$&2048&&og(T.alternate,T);break;default:io(g,T,A,j,p)}s=s.sibling}}function ic(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,p=c.flags;switch(c.tag){case 22:ic(o,c),p&2048&&lg(c.alternate,c);break;case 24:ic(o,c),p&2048&&og(c.alternate,c);break;default:ic(o,c)}s=s.sibling}}var sc=8192;function so(i,s,o){if(i.subtreeFlags&sc)for(i=i.child;i!==null;)y0(i,s,o),i=i.sibling}function y0(i,s,o){switch(i.tag){case 26:so(i,s,o),i.flags&sc&&i.memoizedState!==null&&CD(o,Gr,i.memoizedState,i.memoizedProps);break;case 5:so(i,s,o);break;case 3:case 4:var c=Gr;Gr=Qf(i.stateNode.containerInfo),so(i,s,o),Gr=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=sc,sc=16777216,so(i,s,o),sc=c):so(i,s,o));break;default:so(i,s,o)}}function _0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function ac(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];hn=c,x0(c,i)}_0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E0(i),i=i.sibling}function E0(i){switch(i.tag){case 0:case 11:case 15:ac(i),i.flags&2048&&Vs(9,i,i.return);break;case 3:ac(i);break;case 12:ac(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Mf(i)):ac(i);break;default:ac(i)}}function Mf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];hn=c,x0(c,i)}_0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Vs(8,s,s.return),Mf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Mf(s));break;default:Mf(s)}i=i.sibling}}function x0(i,s){for(;hn!==null;){var o=hn;switch(o.tag){case 0:case 11:case 15:Vs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:qu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,hn=c;else e:for(o=i;hn!==null;){c=hn;var p=c.sibling,g=c.return;if(c0(c),c===o){hn=null;break e}if(p!==null){p.return=g,hn=p;break e}hn=g}}}var GC={getCacheForType:function(i){var s=yn(Wt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return yn(Wt).controller.signal}},YC=typeof WeakMap=="function"?WeakMap:Map,st=0,_t=null,qe=null,Ye=0,ut=0,or=null,Ms=!1,ao=!1,ug=!1,Wi=0,Lt=0,Ps=0,$a=0,cg=0,ur=0,lo=0,lc=null,Kn=null,hg=!1,Pf=0,v0=0,Lf=1/0,jf=null,Ls=null,an=0,js=null,oo=null,Ji=0,fg=0,dg=null,b0=null,oc=0,mg=null;function cr(){return(st&2)!==0&&Ye!==0?Ye&-Ye:X.T!==null?xg():jh()}function T0(){if(ur===0)if((Ye&536870912)===0||Xe){var i=ba;ba<<=1,(ba&3932160)===0&&(ba=262144),ur=i}else ur=536870912;return i=ar.current,i!==null&&(i.flags|=32),ur}function Qn(i,s,o){(i===_t&&(ut===2||ut===9)||i.cancelPendingCommit!==null)&&(uo(i,0),Us(i,Ye,ur,!1)),Ta(i,o),((st&2)===0||i!==_t)&&(i===_t&&((st&2)===0&&($a|=o),Lt===4&&Us(i,Ye,ur,!1)),bi(i))}function w0(i,s,o){if((st&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&i.expiredLanes)===0||Pr(i,s),p=c?$C(i,s):gg(i,s,!0),g=c;do{if(p===0){ao&&!c&&Us(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!KC(o)){p=gg(i,s,!1),g=!1;continue}if(p===2){if(g=s,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var A=i;p=lc;var j=A.current.memoizedState.isDehydrated;if(j&&(uo(A,T).flags|=256),T=gg(A,T,!1),T!==2){if(ug&&!j){A.errorRecoveryDisabledLanes|=g,$a|=g,p=4;break e}g=Kn,Kn=p,g!==null&&(Kn===null?Kn=g:Kn.push.apply(Kn,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){uo(i,0),Us(i,s,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Us(c,s,ur,!Ms);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Pf+300-mn(),10<p)){if(Us(c,s,ur,!Ms),ii(c,0,!0)!==0)break e;Ji=s,c.timeoutHandle=tb(A0.bind(null,c,o,Kn,jf,hg,s,ur,$a,lo,Ms,g,"Throttled",-0,0),p);break e}A0(c,o,Kn,jf,hg,s,ur,$a,lo,Ms,g,null,-0,0)}}break}while(!0);bi(i)}function A0(i,s,o,c,p,g,T,A,j,$,re,le,W,te){if(i.timeoutHandle=-1,le=s.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ur},y0(s,g,le);var Te=(g&62914560)===g?Pf-mn():(g&4194048)===g?v0-mn():0;if(Te=DD(le,Te),Te!==null){Ji=g,i.cancelPendingCommit=Te(k0.bind(null,i,s,g,o,c,p,T,A,j,re,le,null,W,te)),Us(i,g,T,!$);return}}k0(i,s,g,o,c,p,T,A,j)}function KC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!ir(g(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Us(i,s,o,c){s&=~cg,s&=~$a,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var g=31-$e(p),T=1<<g;c[g]=-1,p&=~T}o!==0&&wa(i,o,s)}function Uf(){return(st&6)===0?(uc(0),!1):!0}function pg(){if(qe!==null){if(ut===0)var i=qe.return;else i=qe,zi=Ba=null,Dp(i),Zl=null,Gu=0,i=qe;for(;i!==null;)n0(i.alternate,i),i=i.return;qe=null}}function uo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,dD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ji=0,pg(),_t=i,qe=o=Ui(i.current,null),Ye=s,ut=0,or=null,Ms=!1,ao=Pr(i,s),ug=!1,lo=ur=cg=$a=Ps=Lt=0,Kn=lc=null,hg=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-$e(c),g=1<<p;s|=i[p],c&=~g}return Wi=s,af(),o}function S0(i,s){Le=null,X.H=Zu,s===Jl||s===mf?(s=Fx(),ut=3):s===Ep?(s=Fx(),ut=4):ut=s===Kp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,or=s,qe===null&&(Lt=1,Nf(i,Tr(s,i.current)))}function I0(){var i=ar.current;return i===null?!0:(Ye&4194048)===Ye?Ir===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?i===Ir:!1}function N0(){var i=X.H;return X.H=Zu,i===null?Zu:i}function R0(){var i=X.A;return X.A=GC,i}function Bf(){Lt=4,Ms||(Ye&4194048)!==Ye&&ar.current!==null||(ao=!0),(Ps&134217727)===0&&($a&134217727)===0||_t===null||Us(_t,Ye,ur,!1)}function gg(i,s,o){var c=st;st|=2;var p=N0(),g=R0();(_t!==i||Ye!==s)&&(jf=null,uo(i,s)),s=!1;var T=Lt;e:do try{if(ut!==0&&qe!==null){var A=qe,j=or;switch(ut){case 8:pg(),T=6;break e;case 3:case 2:case 9:case 6:ar.current===null&&(s=!0);var $=ut;if(ut=0,or=null,co(i,A,j,$),o&&ao){T=0;break e}break;default:$=ut,ut=0,or=null,co(i,A,j,$)}}QC(),T=Lt;break}catch(re){S0(i,re)}while(!0);return s&&i.shellSuspendCounter++,zi=Ba=null,st=c,X.H=p,X.A=g,qe===null&&(_t=null,Ye=0,af()),T}function QC(){for(;qe!==null;)C0(qe)}function $C(i,s){var o=st;st|=2;var c=N0(),p=R0();_t!==i||Ye!==s?(jf=null,Lf=mn()+500,uo(i,s)):ao=Pr(i,s);e:do try{if(ut!==0&&qe!==null){s=qe;var g=or;t:switch(ut){case 1:ut=0,or=null,co(i,s,g,1);break;case 2:case 9:if(Bx(g)){ut=0,or=null,D0(s);break}s=function(){ut!==2&&ut!==9||_t!==i||(ut=7),bi(i)},g.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Bx(g)?(ut=0,or=null,D0(s)):(ut=0,or=null,co(i,s,g,7));break;case 5:var T=null;switch(qe.tag){case 26:T=qe.memoizedState;case 5:case 27:var A=qe;if(T?gb(T):A.stateNode.complete){ut=0,or=null;var j=A.sibling;if(j!==null)qe=j;else{var $=A.return;$!==null?(qe=$,zf($)):qe=null}break t}}ut=0,or=null,co(i,s,g,5);break;case 6:ut=0,or=null,co(i,s,g,6);break;case 8:pg(),Lt=6;break e;default:throw Error(r(462))}}XC();break}catch(re){S0(i,re)}while(!0);return zi=Ba=null,X.H=c,X.A=p,st=o,qe!==null?0:(_t=null,Ye=0,af(),Lt)}function XC(){for(;qe!==null&&!Eu();)C0(qe)}function C0(i){var s=e0(i.alternate,i,Wi);i.memoizedProps=i.pendingProps,s===null?zf(i):qe=s}function D0(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Qv(o,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=Qv(o,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:Dp(s);default:n0(o,s),s=qe=Rx(s,Wi),s=e0(o,s,Wi)}i.memoizedProps=i.pendingProps,s===null?zf(i):qe=s}function co(i,s,o,c){zi=Ba=null,Dp(s),Zl=null,Gu=0;var p=s.return;try{if(jC(i,p,s,o,Ye)){Lt=1,Nf(i,Tr(o,i.current)),qe=null;return}}catch(g){if(p!==null)throw qe=p,g;Lt=1,Nf(i,Tr(o,i.current)),qe=null;return}s.flags&32768?(Xe||c===1?i=!0:ao||(Ye&536870912)!==0?i=!1:(Ms=i=!0,(c===2||c===9||c===3||c===6)&&(c=ar.current,c!==null&&c.tag===13&&(c.flags|=16384))),O0(s,i)):zf(s)}function zf(i){var s=i;do{if((s.flags&32768)!==0){O0(s,Ms);return}i=s.return;var o=zC(s.alternate,s,Wi);if(o!==null){qe=o;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=i}while(s!==null);Lt===0&&(Lt=5)}function O0(i,s){do{var o=FC(i.alternate,i);if(o!==null){o.flags&=32767,qe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){qe=i;return}qe=i=o}while(i!==null);Lt=6,qe=null}function k0(i,s,o,c,p,g,T,A,j){i.cancelPendingCommit=null;do Ff();while(an!==0);if((st&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=ip,$m(i,o,g,T,A,j),i===_t&&(qe=_t=null,Ye=0),oo=s,js=i,Ji=o,fg=g,dg=p,b0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,eD(Ce,function(){return j0(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,p=ce.p,ce.p=2,T=st,st|=4;try{qC(i,s,o)}finally{st=T,ce.p=p,X.T=c}}an=1,V0(),M0(),P0()}}function V0(){if(an===1){an=0;var i=js,s=oo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var c=ce.p;ce.p=2;var p=st;st|=4;try{m0(s,i);var g=Ng,T=xx(i.containerInfo),A=g.focusedElem,j=g.selectionRange;if(T!==A&&A&&A.ownerDocument&&Ex(A.ownerDocument.documentElement,A)){if(j!==null&&Zm(A)){var $=j.start,re=j.end;if(re===void 0&&(re=$),"selectionStart"in A)A.selectionStart=$,A.selectionEnd=Math.min(re,A.value.length);else{var le=A.ownerDocument||document,W=le&&le.defaultView||window;if(W.getSelection){var te=W.getSelection(),Te=A.textContent.length,De=Math.min(j.start,Te),yt=j.end===void 0?De:Math.min(j.end,Te);!te.extend&&De>yt&&(T=yt,yt=De,De=T);var H=_x(A,De),F=_x(A,yt);if(H&&F&&(te.rangeCount!==1||te.anchorNode!==H.node||te.anchorOffset!==H.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var Q=le.createRange();Q.setStart(H.node,H.offset),te.removeAllRanges(),De>yt?(te.addRange(Q),te.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),te.addRange(Q))}}}}for(le=[],te=A;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var ae=le[A];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}ed=!!Ig,Ng=Ig=null}finally{st=p,ce.p=c,X.T=o}}i.current=s,an=2}}function M0(){if(an===2){an=0;var i=js,s=oo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var c=ce.p;ce.p=2;var p=st;st|=4;try{u0(i,s.alternate,s)}finally{st=p,ce.p=c,X.T=o}}an=3}}function P0(){if(an===4||an===3){an=0,Rl();var i=js,s=oo,o=Ji,c=b0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,oo=js=null,L0(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ls=null),Mi(o),s=s.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Ut,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=X.T,p=ce.p,ce.p=2,X.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var A=c[T];g(A.value,{componentStack:A.stack})}}finally{X.T=s,ce.p=p}}(Ji&3)!==0&&Ff(),bi(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===mg?oc++:(oc=0,mg=i):oc=0,uc(0)}}function L0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,qu(s)))}function Ff(){return V0(),M0(),P0(),j0()}function j0(){if(an!==5)return!1;var i=js,s=fg;fg=0;var o=Mi(Ji),c=X.T,p=ce.p;try{ce.p=32>o?32:o,X.T=null,o=dg,dg=null;var g=js,T=Ji;if(an=0,oo=js=null,Ji=0,(st&6)!==0)throw Error(r(331));var A=st;if(st|=4,E0(g.current),g0(g,g.current,T,o),st=A,uc(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Ut,g)}catch{}return!0}finally{ce.p=p,X.T=c,L0(i,s)}}function U0(i,s,o){s=Tr(o,s),s=Yp(i.stateNode,s,2),i=Ds(i,s,2),i!==null&&(Ta(i,2),bi(i))}function ct(i,s,o){if(i.tag===3)U0(i,i,o);else for(;s!==null;){if(s.tag===3){U0(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ls===null||!Ls.has(c))){i=Tr(o,i),o=Bv(2),c=Ds(s,o,2),c!==null&&(zv(o,c,s,i),Ta(c,2),bi(c));break}}s=s.return}}function yg(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new YC;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(o)||(ug=!0,p.add(o),i=WC.bind(null,i,s,o),s.then(i,i))}function WC(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,_t===i&&(Ye&o)===o&&(Lt===4||Lt===3&&(Ye&62914560)===Ye&&300>mn()-Pf?(st&2)===0&&uo(i,0):cg|=o,lo===Ye&&(lo=0)),bi(i)}function B0(i,s){s===0&&(s=Lh()),i=La(i,s),i!==null&&(Ta(i,s),bi(i))}function JC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),B0(i,o)}function ZC(i,s){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),B0(i,o)}function eD(i,s){return Mt(i,s)}var qf=null,ho=null,_g=!1,Hf=!1,Eg=!1,Bs=0;function bi(i){i!==ho&&i.next===null&&(ho===null?qf=ho=i:ho=ho.next=i),Hf=!0,_g||(_g=!0,nD())}function uc(i,s){if(!Eg&&Hf){Eg=!0;do for(var o=!1,c=qf;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-$e(42|i)+1)-1,g&=p&~(T&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,H0(c,g))}else g=Ye,g=ii(c,c===_t?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Pr(c,g)||(o=!0,H0(c,g));c=c.next}while(o);Eg=!1}}function tD(){z0()}function z0(){Hf=_g=!1;var i=0;Bs!==0&&fD()&&(i=Bs);for(var s=mn(),o=null,c=qf;c!==null;){var p=c.next,g=F0(c,s);g===0?(c.next=null,o===null?qf=p:o.next=p,p===null&&(ho=o)):(o=c,(i!==0||(g&3)!==0)&&(Hf=!0)),c=p}an!==0&&an!==5||uc(i),Bs!==0&&(Bs=0)}function F0(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-$e(g),A=1<<T,j=p[T];j===-1?((A&o)===0||(A&c)!==0)&&(p[T]=Qm(A,s)):j<=s&&(i.expiredLanes|=A),g&=~A}if(s=_t,o=Ye,o=ii(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(ut===2||ut===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ti(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Pr(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&ti(c),Mi(o)){case 2:case 8:o=pe;break;case 32:o=Ce;break;case 268435456:o=Ze;break;default:o=Ce}return c=q0.bind(null,i),o=Mt(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&ti(c),i.callbackPriority=2,i.callbackNode=null,2}function q0(i,s){if(an!==0&&an!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Ff()&&i.callbackNode!==o)return null;var c=Ye;return c=ii(i,i===_t?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(w0(i,c,s),F0(i,mn()),i.callbackNode!=null&&i.callbackNode===o?q0.bind(null,i):null)}function H0(i,s){if(Ff())return null;w0(i,s,!0)}function nD(){mD(function(){(st&6)!==0?Mt(se,tD):z0()})}function xg(){if(Bs===0){var i=Xl;i===0&&(i=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Bs=i}return Bs}function G0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ml(""+i)}function Y0(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function rD(i,s,o,c,p){if(s==="submit"&&o&&o.stateNode===p){var g=G0((p[un]||null).action),T=c.submitter;T&&(s=(s=T[un]||null)?G0(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var A=new pi("action","action",null,c,p);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Bs!==0){var j=T?Y0(p,T):new FormData(p);Bp(o,{pending:!0,data:j,method:p.method,action:g},null,j)}}else typeof g=="function"&&(A.preventDefault(),j=T?Y0(p,T):new FormData(p),Bp(o,{pending:!0,data:j,method:p.method,action:g},g,j))},currentTarget:p}]})}}for(var vg=0;vg<rp.length;vg++){var bg=rp[vg],iD=bg.toLowerCase(),sD=bg[0].toUpperCase()+bg.slice(1);Hr(iD,"on"+sD)}Hr(Tx,"onAnimationEnd"),Hr(wx,"onAnimationIteration"),Hr(Ax,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(vC,"onTransitionRun"),Hr(bC,"onTransitionStart"),Hr(TC,"onTransitionCancel"),Hr(Sx,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function K0(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var A=c[T],j=A.instance,$=A.currentTarget;if(A=A.listener,j!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=$;try{g(p)}catch(re){sf(re)}p.currentTarget=null,g=j}else for(T=0;T<c.length;T++){if(A=c[T],j=A.instance,$=A.currentTarget,A=A.listener,j!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=$;try{g(p)}catch(re){sf(re)}p.currentTarget=null,g=j}}}}function He(i,s){var o=s[Cl];o===void 0&&(o=s[Cl]=new Set);var c=i+"__bubble";o.has(c)||(Q0(s,i,2,!1),o.add(c))}function Tg(i,s,o){var c=0;s&&(c|=4),Q0(o,i,c,s)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function wg(i){if(!i[Gf]){i[Gf]=!0,bu.forEach(function(o){o!=="selectionchange"&&(aD.has(o)||Tg(o,!1,i),Tg(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Gf]||(s[Gf]=!0,Tg("selectionchange",!1,s))}}function Q0(i,s,o,c){switch(Tb(s)){case 2:var p=VD;break;case 8:p=MD;break;default:p=Ug}o=p.bind(null,s,o,i),p=void 0,!Ra||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,o,{capture:!0,passive:p}):i.addEventListener(s,o,!0):p!==void 0?i.addEventListener(s,o,{passive:p}):i.addEventListener(s,o,!1)}function Ag(i,s,o,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var A=c.stateNode.containerInfo;if(A===p)break;if(T===4)for(T=c.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;A!==null;){if(T=oi(A),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){c=g=T;continue e}A=A.parentNode}}c=c.return}vs(function(){var $=g,re=Er(o),le=[];e:{var W=Ix.get(i);if(W!==void 0){var te=pi,Te=i;switch(i){case"keypress":if(Da(o)===0)break e;case"keydown":case"keyup":te=tf;break;case"focusin":Te="focus",te=ka;break;case"focusout":Te="blur",te=ka;break;case"beforeblur":case"afterblur":te=ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=x;break;case Tx:case wx:case Ax:te=Qh;break;case Sx:te=I;break;case"scroll":case"scrollend":te=Vu;break;case"wheel":te=Z;break;case"copy":case"cut":case"paste":te=$h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=ji;break;case"toggle":case"beforetoggle":te=Pe}var De=(s&4)!==0,yt=!De&&(i==="scroll"||i==="scrollend"),H=De?W!==null?W+"Capture":null:W;De=[];for(var F=$,Q;F!==null;){var ae=F;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||H===null||(ae=Br(F,H),ae!=null&&De.push(hc(F,ae,Q))),yt)break;F=F.return}0<De.length&&(W=new te(W,Te,null,o,re),le.push({event:W,listeners:De}))}}if((s&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",W&&o!==Du&&(Te=o.relatedTarget||o.fromElement)&&(oi(Te)||Te[ai]))break e;if((te||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,te?(Te=o.relatedTarget||o.toElement,te=$,Te=Te?oi(Te):null,Te!==null&&(yt=l(Te),De=Te.tag,Te!==yt||De!==5&&De!==27&&De!==6)&&(Te=null)):(te=null,Te=$),te!==Te)){if(De=Mu,ae="onMouseLeave",H="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(De=ji,ae="onPointerLeave",H="onPointerEnter",F="pointer"),yt=te==null?W:nr(te),Q=Te==null?W:nr(Te),W=new De(ae,F+"leave",te,o,re),W.target=yt,W.relatedTarget=Q,ae=null,oi(re)===$&&(De=new De(H,F+"enter",Te,o,re),De.target=Q,De.relatedTarget=yt,ae=De),yt=ae,te&&Te)t:{for(De=lD,H=te,F=Te,Q=0,ae=H;ae;ae=De(ae))Q++;ae=0;for(var Ne=F;Ne;Ne=De(Ne))ae++;for(;0<Q-ae;)H=De(H),Q--;for(;0<ae-Q;)F=De(F),ae--;for(;Q--;){if(H===F||F!==null&&H===F.alternate){De=H;break t}H=De(H),F=De(F)}De=null}else De=null;te!==null&&$0(le,W,te,De,!1),Te!==null&&yt!==null&&$0(le,yt,Te,De,!0)}}e:{if(W=$?nr($):window,te=W.nodeName&&W.nodeName.toLowerCase(),te==="select"||te==="input"&&W.type==="file")var et=fx;else if(cx(W))if(dx)et=_C;else{et=gC;var Ae=pC}else te=W.nodeName,!te||te.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?$&&Vl($.elementType)&&(et=fx):et=yC;if(et&&(et=et(i,$))){hx(le,et,o,re);break e}Ae&&Ae(i,W,$),i==="focusout"&&$&&W.type==="number"&&$.memoizedProps.value!=null&&Nu(W,"number",W.value)}switch(Ae=$?nr($):window,i){case"focusin":(cx(Ae)||Ae.contentEditable==="true")&&(Fl=Ae,ep=$,Bu=null);break;case"focusout":Bu=ep=Fl=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,vx(le,o,re);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":vx(le,o,re)}var Ue;if(it)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else zl?Va(i,o)&&(Ke="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ke="onCompositionStart");Ke&&(_i&&o.locale!=="ko"&&(zl||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&zl&&(Ue=ku()):(mi=re,Ou="value"in mi?mi.value:mi.textContent,zl=!0)),Ae=Yf($,Ke),0<Ae.length&&(Ke=new yi(Ke,i,null,o,re),le.push({event:Ke,listeners:Ae}),Ue?Ke.data=Ue:(Ue=Bl(o),Ue!==null&&(Ke.data=Ue)))),(Ue=vr?hC(i,o):fC(i,o))&&(Ke=Yf($,"onBeforeInput"),0<Ke.length&&(Ae=new yi("onBeforeInput","beforeinput",null,o,re),le.push({event:Ae,listeners:Ke}),Ae.data=Ue)),rD(le,i,$,o,re)}K0(le,s)})}function hc(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Yf(i,s){for(var o=s+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Br(i,o),p!=null&&c.unshift(hc(i,p,g)),p=Br(i,s),p!=null&&c.push(hc(i,p,g))),i.tag===3)return c;i=i.return}return[]}function lD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $0(i,s,o,c,p){for(var g=s._reactName,T=[];o!==null&&o!==c;){var A=o,j=A.alternate,$=A.stateNode;if(A=A.tag,j!==null&&j===c)break;A!==5&&A!==26&&A!==27||$===null||(j=$,p?($=Br(o,g),$!=null&&T.unshift(hc(o,$,j))):p||($=Br(o,g),$!=null&&T.push(hc(o,$,j)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var oD=/\r\n?/g,uD=/\u0000|\uFFFD/g;function X0(i){return(typeof i=="string"?i:""+i).replace(oD,`
`).replace(uD,"")}function W0(i,s){return s=X0(s),X0(i)===s}function gt(i,s,o,c,p,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||qn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&qn(i,""+c);break;case"className":rr(i,"class",c);break;case"tabIndex":rr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(i,o,c);break;case"style":Cu(i,c,g);break;case"data":if(s!=="object"){rr(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ml(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&gt(i,s,"name",p.name,p,null),gt(i,s,"formEncType",p.formEncType,p,null),gt(i,s,"formMethod",p.formMethod,p,null),gt(i,s,"formTarget",p.formTarget,p,null)):(gt(i,s,"encType",p.encType,p,null),gt(i,s,"method",p.method,p,null),gt(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ml(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Ur);break;case"onScroll":c!=null&&He("scroll",i);break;case"onScrollEnd":c!=null&&He("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ml(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":He("beforetoggle",i),He("toggle",i),Ol(i,"popover",c);break;case"xlinkActuate":Xt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ol(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Gh.get(o)||o,Ol(i,o,c))}}function Sg(i,s,o,c,p,g){switch(o){case"style":Cu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?qn(i,c):(typeof c=="number"||typeof c=="bigint")&&qn(i,""+c);break;case"onScroll":c!=null&&He("scroll",i);break;case"onScrollEnd":c!=null&&He("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),g=i[un]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,p);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Ol(i,o,c)}}}function En(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",i),He("load",i);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:gt(i,s,g,T,o,null)}}p&&gt(i,s,"srcSet",o.srcSet,o,null),c&&gt(i,s,"src",o.src,o,null);return;case"input":He("invalid",i);var A=g=T=p=null,j=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var re=o[c];if(re!=null)switch(c){case"name":p=re;break;case"type":T=re;break;case"checked":j=re;break;case"defaultChecked":$=re;break;case"value":g=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:gt(i,s,c,re,o,null)}}Fh(i,g,A,j,$,T,p,!1);return;case"select":He("invalid",i),c=T=g=null;for(p in o)if(o.hasOwnProperty(p)&&(A=o[p],A!=null))switch(p){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":c=A;default:gt(i,s,p,A,o,null)}s=g,o=T,i.multiple=!!c,s!=null?ys(i,!!c,s,!1):o!=null&&ys(i,!!c,o,!0);return;case"textarea":He("invalid",i),g=p=c=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":c=A;break;case"defaultValue":p=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:gt(i,s,T,A,o,null)}_s(i,c,p,g);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(c=o[j],c!=null))switch(j){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:gt(i,s,j,c,o,null)}return;case"dialog":He("beforetoggle",i),He("toggle",i),He("cancel",i),He("close",i);break;case"iframe":case"object":He("load",i);break;case"video":case"audio":for(c=0;c<cc.length;c++)He(cc[c],i);break;case"image":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"embed":case"source":case"link":He("error",i),He("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:gt(i,s,$,c,o,null)}return;default:if(Vl(s)){for(re in o)o.hasOwnProperty(re)&&(c=o[re],c!==void 0&&Sg(i,s,re,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&gt(i,s,A,c,o,null))}function cD(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,A=null,j=null,$=null,re=null;for(te in o){var le=o[te];if(o.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":j=le;default:c.hasOwnProperty(te)||gt(i,s,te,null,c,le)}}for(var W in c){var te=c[W];if(le=o[W],c.hasOwnProperty(W)&&(te!=null||le!=null))switch(W){case"type":g=te;break;case"name":p=te;break;case"checked":$=te;break;case"defaultChecked":re=te;break;case"value":T=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:te!==le&&gt(i,s,W,te,c,le)}}kl(i,T,A,j,$,re,g,p);return;case"select":te=T=A=W=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":te=j;default:c.hasOwnProperty(g)||gt(i,s,g,null,c,j)}for(p in c)if(g=c[p],j=o[p],c.hasOwnProperty(p)&&(g!=null||j!=null))switch(p){case"value":W=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==j&&gt(i,s,p,g,c,j)}s=A,o=T,c=te,W!=null?ys(i,!!o,W,!1):!!c!=!!o&&(s!=null?ys(i,!!o,s,!0):ys(i,!!o,o?[]:"",!1));return;case"textarea":te=W=null;for(A in o)if(p=o[A],o.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:gt(i,s,A,null,c,p)}for(T in c)if(p=c[T],g=o[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":W=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&gt(i,s,T,p,c,g)}qh(i,W,te);return;case"option":for(var Te in o)if(W=o[Te],o.hasOwnProperty(Te)&&W!=null&&!c.hasOwnProperty(Te))switch(Te){case"selected":i.selected=!1;break;default:gt(i,s,Te,null,c,W)}for(j in c)if(W=c[j],te=o[j],c.hasOwnProperty(j)&&W!==te&&(W!=null||te!=null))switch(j){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:gt(i,s,j,W,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)W=o[De],o.hasOwnProperty(De)&&W!=null&&!c.hasOwnProperty(De)&&gt(i,s,De,null,c,W);for($ in c)if(W=c[$],te=o[$],c.hasOwnProperty($)&&W!==te&&(W!=null||te!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:gt(i,s,$,W,c,te)}return;default:if(Vl(s)){for(var yt in o)W=o[yt],o.hasOwnProperty(yt)&&W!==void 0&&!c.hasOwnProperty(yt)&&Sg(i,s,yt,void 0,c,W);for(re in c)W=c[re],te=o[re],!c.hasOwnProperty(re)||W===te||W===void 0&&te===void 0||Sg(i,s,re,W,c,te);return}}for(var H in o)W=o[H],o.hasOwnProperty(H)&&W!=null&&!c.hasOwnProperty(H)&&gt(i,s,H,null,c,W);for(le in c)W=c[le],te=o[le],!c.hasOwnProperty(le)||W===te||W==null&&te==null||gt(i,s,le,W,c,te)}function J0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,T=p.initiatorType,A=p.duration;if(g&&A&&J0(T)){for(T=0,A=p.responseEnd,c+=1;c<o.length;c++){var j=o[c],$=j.startTime;if($>A)break;var re=j.transferSize,le=j.initiatorType;re&&J0(le)&&(j=j.responseEnd,T+=re*(j<A?1:(A-$)/(j-$)))}if(--c,s+=8*(g+T)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ig=null,Ng=null;function Kf(i){return i.nodeType===9?i:i.ownerDocument}function Z0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Rg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cg=null;function fD(){var i=window.event;return i&&i.type==="popstate"?i===Cg?!1:(Cg=i,!0):(Cg=null,!1)}var tb=typeof setTimeout=="function"?setTimeout:void 0,dD=typeof clearTimeout=="function"?clearTimeout:void 0,nb=typeof Promise=="function"?Promise:void 0,mD=typeof queueMicrotask=="function"?queueMicrotask:typeof nb<"u"?function(i){return nb.resolve(null).then(i).catch(pD)}:tb;function pD(i){setTimeout(function(){throw i})}function zs(i){return i==="head"}function rb(i,s){var o=s,c=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(p),go(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")fc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,fc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,A=g.nodeName;g[li]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&fc(i.ownerDocument.body);o=p}while(o);go(s)}function ib(i,s){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Dg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Dg(o),Dl(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function gD(i,s,o,c){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[li])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Nr(i.nextSibling),i===null)break}return null}function yD(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Nr(i.nextSibling),i===null))return null;return i}function sb(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Nr(i.nextSibling),i===null))return null;return i}function Og(i){return i.data==="$?"||i.data==="$~"}function kg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function _D(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Nr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Vg=null;function ab(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Nr(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function lb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function ob(i,s,o){switch(s=Kf(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function fc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Dl(i)}var Rr=new Map,ub=new Set;function Qf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Zi=ce.d;ce.d={f:ED,r:xD,D:vD,C:bD,L:TD,m:wD,X:SD,S:AD,M:ID};function ED(){var i=Zi.f(),s=Uf();return i||s}function xD(i){var s=_r(i);s!==null&&s.tag===5&&s.type==="form"?Sv(s):Zi.r(i)}var fo=typeof document>"u"?null:document;function cb(i,s,o){var c=fo;if(c&&typeof s=="string"&&s){var p=Fn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),ub.has(p)||(ub.add(p),i={rel:i,crossOrigin:o,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),En(s,"link",i),$t(s),c.head.appendChild(s)))}}function vD(i){Zi.D(i),cb("dns-prefetch",i,null)}function bD(i,s){Zi.C(i,s),cb("preconnect",i,s)}function TD(i,s,o){Zi.L(i,s,o);var c=fo;if(c&&i&&s){var p='link[rel="preload"][as="'+Fn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Fn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Fn(o.imageSizes)+'"]')):p+='[href="'+Fn(i)+'"]';var g=p;switch(s){case"style":g=mo(i);break;case"script":g=po(i)}Rr.has(g)||(i=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Rr.set(g,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(dc(g))||s==="script"&&c.querySelector(mc(g))||(s=c.createElement("link"),En(s,"link",i),$t(s),c.head.appendChild(s)))}}function wD(i,s){Zi.m(i,s);var o=fo;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Fn(c)+'"][href="'+Fn(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=po(i)}if(!Rr.has(g)&&(i=_({rel:"modulepreload",href:i},s),Rr.set(g,i),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(mc(g)))return}c=o.createElement("link"),En(c,"link",i),$t(c),o.head.appendChild(c)}}}function AD(i,s,o){Zi.S(i,s,o);var c=fo;if(c&&i){var p=ui(c).hoistableStyles,g=mo(i);s=s||"default";var T=p.get(g);if(!T){var A={loading:0,preload:null};if(T=c.querySelector(dc(g)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Rr.get(g))&&Mg(i,o);var j=T=c.createElement("link");$t(j),En(j,"link",i),j._p=new Promise(function($,re){j.onload=$,j.onerror=re}),j.addEventListener("load",function(){A.loading|=1}),j.addEventListener("error",function(){A.loading|=2}),A.loading|=4,$f(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:A},p.set(g,T)}}}function SD(i,s){Zi.X(i,s);var o=fo;if(o&&i){var c=ui(o).hoistableScripts,p=po(i),g=c.get(p);g||(g=o.querySelector(mc(p)),g||(i=_({src:i,async:!0},s),(s=Rr.get(p))&&Pg(i,s),g=o.createElement("script"),$t(g),En(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function ID(i,s){Zi.M(i,s);var o=fo;if(o&&i){var c=ui(o).hoistableScripts,p=po(i),g=c.get(p);g||(g=o.querySelector(mc(p)),g||(i=_({src:i,async:!0,type:"module"},s),(s=Rr.get(p))&&Pg(i,s),g=o.createElement("script"),$t(g),En(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function hb(i,s,o,c){var p=(p=Se.current)?Qf(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=mo(o.href),o=ui(p).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=mo(o.href);var g=ui(p).hoistableStyles,T=g.get(i);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=p.querySelector(dc(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Rr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Rr.set(i,o),g||ND(p,i,o,T.state))),s&&c===null)throw Error(r(528,""));return T}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=po(o),o=ui(p).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function mo(i){return'href="'+Fn(i)+'"'}function dc(i){return'link[rel="stylesheet"]['+i+"]"}function fb(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function ND(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),En(s,"link",o),$t(s),i.head.appendChild(s))}function po(i){return'[src="'+Fn(i)+'"]'}function mc(i){return"script[async]"+i}function db(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Fn(o.href)+'"]');if(c)return s.instance=c,$t(c),c;var p=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),$t(c),En(c,"style",p),$f(c,o.precedence,i),s.instance=c;case"stylesheet":p=mo(o.href);var g=i.querySelector(dc(p));if(g)return s.state.loading|=4,s.instance=g,$t(g),g;c=fb(o),(p=Rr.get(p))&&Mg(c,p),g=(i.ownerDocument||i).createElement("link"),$t(g);var T=g;return T._p=new Promise(function(A,j){T.onload=A,T.onerror=j}),En(g,"link",c),s.state.loading|=4,$f(g,o.precedence,i),s.instance=g;case"script":return g=po(o.src),(p=i.querySelector(mc(g)))?(s.instance=p,$t(p),p):(c=o,(p=Rr.get(g))&&(c=_({},o),Pg(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),$t(p),En(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,$f(c,o.precedence,i));return s.instance}function $f(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var A=c[T];if(A.dataset.precedence===s)g=A;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Mg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Pg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Xf=null;function mb(i,s,o){if(Xf===null){var c=new Map,p=Xf=new Map;p.set(o,c)}else p=Xf,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var g=o[p];if(!(g[li]||g[Qt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=i+T;var A=c.get(T);A?A.push(g):c.set(T,[g])}}return c}function pb(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function RD(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function gb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function CD(i,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=mo(c.href),g=s.querySelector(dc(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Wf.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,$t(g);return}g=s.ownerDocument||s,c=fb(c),(p=Rr.get(p))&&Mg(c,p),g=g.createElement("link"),$t(g);var T=g;T._p=new Promise(function(A,j){T.onload=A,T.onerror=j}),En(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Wf.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Lg=0;function DD(i,s){return i.stylesheets&&i.count===0&&Zf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Zf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Lg===0&&(Lg=62500*hD());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Lg?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Wf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jf=null;function Zf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jf=new Map,s.forEach(OD,i),Jf=null,Wf.call(i))}function OD(i,s){if(!(s.state.loading&4)){var o=Jf.get(i);if(o)var c=o.get(null);else{o=new Map,Jf.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}p=s.instance,T=p.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,p),o.set(T,p),this.count++,c=Wf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var pc={$$typeof:q,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function kD(i,s,o,c,p,g,T,A,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function yb(i,s,o,c,p,g,T,A,j,$,re,le){return i=new kD(i,s,o,T,j,$,re,le,A),s=1,g===!0&&(s|=24),g=sr(3,null,null,s),i.current=g,g.stateNode=i,s=gp(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},xp(g),i}function _b(i){return i?(i=Gl,i):Gl}function Eb(i,s,o,c,p,g){p=_b(p),c.context===null?c.context=p:c.pendingContext=p,c=Cs(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ds(i,c,s),o!==null&&(Qn(o,i,s),Ku(o,i,s))}function xb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function jg(i,s){xb(i,s),(i=i.alternate)&&xb(i,s)}function vb(i){if(i.tag===13||i.tag===31){var s=La(i,67108864);s!==null&&Qn(s,i,67108864),jg(i,67108864)}}function bb(i){if(i.tag===13||i.tag===31){var s=cr();s=Aa(s);var o=La(i,s);o!==null&&Qn(o,i,s),jg(i,s)}}var ed=!0;function VD(i,s,o,c){var p=X.T;X.T=null;var g=ce.p;try{ce.p=2,Ug(i,s,o,c)}finally{ce.p=g,X.T=p}}function MD(i,s,o,c){var p=X.T;X.T=null;var g=ce.p;try{ce.p=8,Ug(i,s,o,c)}finally{ce.p=g,X.T=p}}function Ug(i,s,o,c){if(ed){var p=Bg(c);if(p===null)Ag(i,s,c,td,o),wb(i,c);else if(LD(p,i,s,o,c))c.stopPropagation();else if(wb(i,c),s&4&&-1<PD.indexOf(i)){for(;p!==null;){var g=_r(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ri(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var j=1<<31-$e(T);A.entanglements[1]|=j,T&=~j}bi(g),(st&6)===0&&(Lf=mn()+500,uc(0))}}break;case 31:case 13:A=La(g,2),A!==null&&Qn(A,g,2),Uf(),jg(g,2)}if(g=Bg(c),g===null&&Ag(i,s,c,td,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else Ag(i,s,c,null,o)}}function Bg(i){return i=Er(i),zg(i)}var td=null;function zg(i){if(td=null,i=oi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return td=i,null}function Tb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vi()){case se:return 2;case pe:return 8;case Ce:case Fe:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var Fg=!1,Fs=null,qs=null,Hs=null,gc=new Map,yc=new Map,Gs=[],PD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wb(i,s){switch(i){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":gc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(s.pointerId)}}function _c(i,s,o,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=_r(s),s!==null&&vb(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function LD(i,s,o,c,p){switch(s){case"focusin":return Fs=_c(Fs,i,s,o,c,p),!0;case"dragenter":return qs=_c(qs,i,s,o,c,p),!0;case"mouseover":return Hs=_c(Hs,i,s,o,c,p),!0;case"pointerover":var g=p.pointerId;return gc.set(g,_c(gc.get(g)||null,i,s,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,yc.set(g,_c(yc.get(g)||null,i,s,o,c,p)),!0}return!1}function Ab(i){var s=oi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,Lr(i.priority,function(){bb(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,Lr(i.priority,function(){bb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Bg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Du=c,o.target.dispatchEvent(c),Du=null}else return s=_r(o),s!==null&&vb(s),i.blockedOn=o,!1;s.shift()}return!0}function Sb(i,s,o){nd(i)&&o.delete(s)}function jD(){Fg=!1,Fs!==null&&nd(Fs)&&(Fs=null),qs!==null&&nd(qs)&&(qs=null),Hs!==null&&nd(Hs)&&(Hs=null),gc.forEach(Sb),yc.forEach(Sb)}function rd(i,s){i.blockedOn===s&&(i.blockedOn=null,Fg||(Fg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jD)))}var id=null;function Ib(i){id!==i&&(id=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){id===i&&(id=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(zg(c||o)===null)continue;break}var g=_r(o);g!==null&&(i.splice(s,3),s-=3,Bp(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function go(i){function s(j){return rd(j,i)}Fs!==null&&rd(Fs,i),qs!==null&&rd(qs,i),Hs!==null&&rd(Hs,i),gc.forEach(s),yc.forEach(s);for(var o=0;o<Gs.length;o++){var c=Gs[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Gs.length&&(o=Gs[0],o.blockedOn===null);)Ab(o),o.blockedOn===null&&Gs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],T=p[un]||null;if(typeof g=="function")T||Ib(o);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[un]||null)A=T.formAction;else if(zg(p)!==null)continue}else A=T.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),Ib(o)}}}function Nb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function qg(i){this._internalRoot=i}sd.prototype.render=qg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=cr();Eb(o,c,i,s,null,null)},sd.prototype.unmount=qg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Eb(i.current,2,null,i,null,null),Uf(),s[ai]=null}};function sd(i){this._internalRoot=i}sd.prototype.unstable_scheduleHydration=function(i){if(i){var s=jh();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Gs.length&&s!==0&&s<Gs[o].priority;o++);Gs.splice(o,0,i),o===0&&Ab(i)}};var Rb=e.version;if(Rb!=="19.2.4")throw Error(r(527,Rb,"19.2.4"));ce.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var UD={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{Ut=ad.inject(UD),kt=ad}catch{}}return xc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",p=Pv,g=Lv,T=jv;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=yb(i,1,!1,null,null,o,c,null,p,g,T,Nb),i[ai]=s.current,wg(i),new qg(s)},xc.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,p="",g=Pv,T=Lv,A=jv,j=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),s=yb(i,1,!0,s,o??null,c,p,j,g,T,A,Nb),s.context=_b(null),o=s.current,c=cr(),c=Aa(c),p=Cs(c),p.callback=null,Ds(o,p,c),o=c,s.current.lanes=o,Ta(s,o),bi(s),i[ai]=s.current,wg(i),new sd(s)},xc.version="19.2.4",xc}var Ub;function XD(){if(Ub)return Yg.exports;Ub=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yg.exports=$D(),Yg.exports}var WD=XD();const JD=cm(WD);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ny({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function hm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function IS(n,e,t="/"){return ZD(n,e,t,!1)}function ZD(n,e,t,r){let a=typeof e=="string"?hm(e):e,l=sa(a.pathname||"/",t);if(l==null)return null;let u=NS(n);eO(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=hO(l);h=uO(u[d],m,r)}return h}function NS(n,e=[],t=[],r="",a=!1){let l=(u,h,d=a,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;Ht(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=ts([r,y.relativePath]),v=t.concat(y);u.children&&u.children.length>0&&(Ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),NS(u.children,e,v,_,d)),!(u.path==null&&!u.index)&&e.push({path:_,score:lO(_,u.index),routesMeta:v})};return n.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))l(u,h);else for(let m of RS(u.path))l(u,h,!0,m)}),e}function RS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=RS(r.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function eO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:oO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var tO=/^:[\w-]+$/,nO=3,rO=2,iO=1,sO=10,aO=-2,Bb=n=>n==="*";function lO(n,e){let t=n.split("/"),r=t.length;return t.some(Bb)&&(r+=aO),e&&(r+=rO),t.filter(a=>!Bb(a)).reduce((a,l)=>a+(tO.test(l)?nO:l===""?iO:sO),r)}function oO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function uO(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=jd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),v=d.route;if(!_&&m&&t&&!r[r.length-1].route.index&&(_=jd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:ts([l,_.pathname]),pathnameBase:pO(ts([l,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(l=ts([l,_.pathnameBase]))}return u}function jd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=cO(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:_},v)=>{if(y==="*"){let D=h[v]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const b=h[v];return _&&!b?m[y]=void 0:m[y]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:n}}function cO(n,e=!1,t=!0){rs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function hO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function sa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var fO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function dO(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?hm(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=zb(t.substring(1),"/"):l=zb(t,e)):l=e,{pathname:l,search:gO(r),hash:yO(a)}}function zb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Xg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function CS(n){let e=mO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function DS(n,e,t,r=!1){let a;typeof n=="string"?a=hm(n):(a={...n},Ht(!a.pathname||!a.pathname.includes("?"),Xg("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),Xg("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),Xg("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;a.pathname=v.join("/")}h=_>=0?e[_]:"/"}let d=dO(a,h),m=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var ts=n=>n.join("/").replace(/\/\/+/g,"/"),pO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),gO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,_O=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function EO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function xO(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var OS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kS(n,e){let t=n;if(typeof t!="string"||!fO.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,a=!1;if(OS)try{let l=new URL(window.location.href),u=t.startsWith("//")?new URL(l.protocol+t):new URL(t),h=sa(u.pathname,e);u.origin===l.origin&&h!=null?t=h+u.search+u.hash:a=!0}catch{rs(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VS=["POST","PUT","PATCH","DELETE"];new Set(VS);var vO=["GET",...VS];new Set(vO);var ou=ne.createContext(null);ou.displayName="DataRouter";var fm=ne.createContext(null);fm.displayName="DataRouterState";var bO=ne.createContext(!1),MS=ne.createContext({isTransitioning:!1});MS.displayName="ViewTransition";var TO=ne.createContext(new Map);TO.displayName="Fetchers";var wO=ne.createContext(null);wO.displayName="Await";var Zr=ne.createContext(null);Zr.displayName="Navigation";var dm=ne.createContext(null);dm.displayName="Location";var ki=ne.createContext({outlet:null,matches:[],isDataRoute:!1});ki.displayName="Route";var A_=ne.createContext(null);A_.displayName="RouteError";var PS="REACT_ROUTER_ERROR",AO="REDIRECT",SO="ROUTE_ERROR_RESPONSE";function IO(n){if(n.startsWith(`${PS}:${AO}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function NO(n){if(n.startsWith(`${PS}:${SO}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new _O(e.status,e.statusText,e.data)}catch{}}function RO(n,{relative:e}={}){Ht(mm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ne.useContext(Zr),{hash:a,pathname:l,search:u}=_h(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:ts([t,l])),r.createHref({pathname:h,search:u,hash:a})}function mm(){return ne.useContext(dm)!=null}function ls(){return Ht(mm(),"useLocation() may be used only in the context of a <Router> component."),ne.useContext(dm).location}var LS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jS(n){ne.useContext(Zr).static||ne.useLayoutEffect(n)}function CO(){let{isDataRoute:n}=ne.useContext(ki);return n?qO():DO()}function DO(){Ht(mm(),"useNavigate() may be used only in the context of a <Router> component.");let n=ne.useContext(ou),{basename:e,navigator:t}=ne.useContext(Zr),{matches:r}=ne.useContext(ki),{pathname:a}=ls(),l=JSON.stringify(CS(r)),u=ne.useRef(!1);return jS(()=>{u.current=!0}),ne.useCallback((d,m={})=>{if(rs(u.current,LS),!u.current)return;if(typeof d=="number"){t.go(d);return}let y=DS(d,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ts([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,a,n])}ne.createContext(null);function US(){let{matches:n}=ne.useContext(ki),e=n[n.length-1];return e?e.params:{}}function _h(n,{relative:e}={}){let{matches:t}=ne.useContext(ki),{pathname:r}=ls(),a=JSON.stringify(CS(t));return ne.useMemo(()=>DS(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function OO(n,e){return BS(n,e)}function BS(n,e,t,r,a){var ee;Ht(mm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=ne.useContext(Zr),{matches:u}=ne.useContext(ki),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let q=_&&_.path||"";FS(m,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let v=ls(),b;if(e){let q=typeof e=="string"?hm(e):e;Ht(y==="/"||((ee=q.pathname)==null?void 0:ee.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),b=q}else b=v;let D=b.pathname||"/",M=D;if(y!=="/"){let q=y.replace(/^\//,"").split("/");M="/"+D.replace(/^\//,"").split("/").slice(q.length).join("/")}let V=IS(n,{pathname:M});rs(_||V!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),rs(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=LO(V&&V.map(q=>Object.assign({},q,{params:Object.assign({},d,q.params),pathname:ts([y,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:ts([y,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,t,r,a);return e&&z?ne.createElement(dm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},z):z}function kO(){let n=FO(),e=EO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=ne.createElement(ne.Fragment,null,ne.createElement("p",null," Hey developer "),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ne.createElement("code",{style:l},"ErrorBoundary")," or"," ",ne.createElement("code",{style:l},"errorElement")," prop on your route.")),ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),t?ne.createElement("pre",{style:a},t):null,u)}var VO=ne.createElement(kO,null),zS=class extends ne.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=NO(n.digest);t&&(n=t)}let e=n!==void 0?ne.createElement(ki.Provider,{value:this.props.routeContext},ne.createElement(A_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?ne.createElement(MO,{error:n},e):e}};zS.contextType=bO;var Wg=new WeakMap;function MO({children:n,error:e}){let{basename:t}=ne.useContext(Zr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=IO(e.digest);if(r){let a=Wg.get(e);if(a)throw a;let l=kS(r.location,t);if(OS&&!Wg.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Wg.set(e,u),u}return ne.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function PO({routeContext:n,match:e,children:t}){let r=ne.useContext(ou);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ne.createElement(ki.Provider,{value:n},t)}function LO(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t==null?void 0:t.errors;if(u!=null){let y=l.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);Ht(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(t)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=y),_.route.id){let{loaderData:v,errors:b}=t,D=_.route.loader&&!v.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||D){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=t&&r?(y,_)=>{var v,b;r(y,{location:t.location,params:((b=(v=t.matches)==null?void 0:v[0])==null?void 0:b.params)??{},unstable_pattern:xO(t.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,v)=>{let b,D=!1,M=null,V=null;t&&(b=u&&_.route.id?u[_.route.id]:void 0,M=_.route.errorElement||VO,h&&(d<0&&v===0?(FS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,V=null):d===v&&(D=!0,V=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,v+1)),ee=()=>{let q;return b?q=M:D?q=V:_.route.Component?q=ne.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=y,ne.createElement(PO,{match:_,routeContext:{outlet:y,matches:z,isDataRoute:t!=null},children:q})};return t&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?ne.createElement(zS,{location:t.location,revalidation:t.revalidation,component:M,error:b,children:ee(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:m}):ee()},null)}function S_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jO(n){let e=ne.useContext(ou);return Ht(e,S_(n)),e}function UO(n){let e=ne.useContext(fm);return Ht(e,S_(n)),e}function BO(n){let e=ne.useContext(ki);return Ht(e,S_(n)),e}function I_(n){let e=BO(n),t=e.matches[e.matches.length-1];return Ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function zO(){return I_("useRouteId")}function FO(){var r;let n=ne.useContext(A_),e=UO("useRouteError"),t=I_("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function qO(){let{router:n}=jO("useNavigate"),e=I_("useNavigate"),t=ne.useRef(!1);return jS(()=>{t.current=!0}),ne.useCallback(async(a,l={})=>{rs(t.current,LS),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Fb={};function FS(n,e,t){!e&&!Fb[n]&&(Fb[n]=!0,rs(!1,t))}ne.memo(HO);function HO({routes:n,future:e,state:t,onError:r}){return BS(n,void 0,t,r,e)}function Kr(n){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GO({children:n,location:e}){return OO(Ry(n),e)}function Ry(n,e=[]){let t=[];return ne.Children.forEach(n,(r,a)=>{if(!ne.isValidElement(r))return;let l=[...e,a];if(r.type===ne.Fragment){t.push.apply(t,Ry(r.props.children,l));return}Ht(r.type===Kr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Ry(r.props.children,l)),t.push(u)}),t}var wd="get",Ad="application/x-www-form-urlencoded";function pm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function YO(n){return pm(n)&&n.tagName.toLowerCase()==="button"}function KO(n){return pm(n)&&n.tagName.toLowerCase()==="form"}function QO(n){return pm(n)&&n.tagName.toLowerCase()==="input"}function $O(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XO(n,e){return n.button===0&&(!e||e==="_self")&&!$O(n)}var ld=null;function WO(){if(ld===null)try{new FormData(document.createElement("form"),0),ld=!1}catch{ld=!0}return ld}var JO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jg(n){return n!=null&&!JO.has(n)?(rs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ad}"`),null):n}function ZO(n,e){let t,r,a,l,u;if(KO(n)){let h=n.getAttribute("action");r=h?sa(h,e):null,t=n.getAttribute("method")||wd,a=Jg(n.getAttribute("enctype"))||Ad,l=new FormData(n)}else if(YO(n)||QO(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?sa(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||wd,a=Jg(n.getAttribute("formenctype"))||Jg(h.getAttribute("enctype"))||Ad,l=new FormData(h,n),!WO()){let{name:m,type:y,value:_}=n;if(y==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,_)}}else{if(pm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wd,r=null,a=Ad,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function N_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function e2(n,e,t,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&sa(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function t2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function n2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function r2(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await t2(l,t);return u.links?u.links():[]}return[]}));return l2(r.flat(1).filter(n2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function qb(n,e,t,r,a,l){let u=(d,m)=>t[m]?d.route.id!==t[m].route.id:!0,h=(d,m)=>{var y;return t[m].pathname!==d.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{var _;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function i2(n,e,{includeHydrateFallback:t}={}){return s2(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function s2(n){return[...new Set(n)]}function a2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function l2(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(a2(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function qS(){let n=ne.useContext(ou);return N_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function o2(){let n=ne.useContext(fm);return N_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var R_=ne.createContext(void 0);R_.displayName="FrameworkContext";function HS(){let n=ne.useContext(R_);return N_(n,"You must render this element inside a <HydratedRouter> element"),n}function u2(n,e){let t=ne.useContext(R_),[r,a]=ne.useState(!1),[l,u]=ne.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,v=ne.useRef(null);ne.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=z=>{z.forEach(ee=>{u(ee.isIntersecting)})},V=new IntersectionObserver(M,{threshold:.5});return v.current&&V.observe(v.current),()=>{V.disconnect()}}},[n]),ne.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let b=()=>{a(!0)},D=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,v,{}]:[l,v,{onFocus:vc(h,b),onBlur:vc(d,D),onMouseEnter:vc(m,b),onMouseLeave:vc(y,D),onTouchStart:vc(_,b)}]:[!1,v,{}]}function vc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function c2({page:n,...e}){let{router:t}=qS(),r=ne.useMemo(()=>IS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ne.createElement(f2,{page:n,matches:r,...e}):null}function h2(n){let{manifest:e,routeModules:t}=HS(),[r,a]=ne.useState([]);return ne.useEffect(()=>{let l=!1;return r2(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),r}function f2({page:n,matches:e,...t}){let r=ls(),{future:a,manifest:l,routeModules:u}=HS(),{basename:h}=qS(),{loaderData:d,matches:m}=o2(),y=ne.useMemo(()=>qb(n,e,m,l,r,"data"),[n,e,m,l,r]),_=ne.useMemo(()=>qb(n,e,m,l,r,"assets"),[n,e,m,l,r]),v=ne.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let M=new Set,V=!1;if(e.forEach(ee=>{var me;let q=l.routes[ee.route.id];!q||!q.hasLoader||(!y.some(fe=>fe.route.id===ee.route.id)&&ee.route.id in d&&((me=u[ee.route.id])!=null&&me.shouldRevalidate)||q.hasClientLoader?V=!0:M.add(ee.route.id))}),M.size===0)return[];let z=e2(n,h,a.unstable_trailingSlashAwareDataRequests,"data");return V&&M.size>0&&z.searchParams.set("_routes",e.filter(ee=>M.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[z.pathname+z.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,l,y,e,n,u]),b=ne.useMemo(()=>i2(_,l),[_,l]),D=h2(_);return ne.createElement(ne.Fragment,null,v.map(M=>ne.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),b.map(M=>ne.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),D.map(({key:M,link:V})=>ne.createElement("link",{key:M,nonce:t.nonce,...V,crossOrigin:V.crossOrigin??t.crossOrigin})))}function d2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var m2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m2&&(window.__reactRouterVersion="7.13.0")}catch{}var GS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=ne.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:v,...b},D){let{basename:M,unstable_useTransitions:V}=ne.useContext(Zr),z=typeof m=="string"&&GS.test(m),ee=kS(m,M);m=ee.to;let q=RO(m,{relative:a}),[me,fe,K]=u2(r,b),S=_2(m,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:v,unstable_useTransitions:V});function N(U){e&&e(U),U.defaultPrevented||S(U)}let C=ne.createElement("a",{...b,...K,href:ee.absoluteURL||q,onClick:ee.isExternal||l?e:N,ref:d2(D,fe),target:d,"data-discover":!z&&t==="render"?"true":void 0});return me&&!z?ne.createElement(ne.Fragment,null,C,ne.createElement(c2,{page:q})):C});At.displayName="Link";var p2=ne.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...m},y){let _=_h(u,{relative:m.relative}),v=ls(),b=ne.useContext(fm),{navigator:D,basename:M}=ne.useContext(Zr),V=b!=null&&T2(_)&&h===!0,z=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,ee=v.pathname,q=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),q=q?q.toLowerCase():null,z=z.toLowerCase()),q&&M&&(q=sa(q,M)||q);const me=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let fe=ee===z||!a&&ee.startsWith(z)&&ee.charAt(me)==="/",K=q!=null&&(q===z||!a&&q.startsWith(z)&&q.charAt(z.length)==="/"),S={isActive:fe,isPending:K,isTransitioning:V},N=fe?e:void 0,C;typeof r=="function"?C=r(S):C=[r,fe?"active":null,K?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(S):l;return ne.createElement(At,{...m,"aria-current":N,className:C,ref:y,style:U,to:u,viewTransition:h},typeof d=="function"?d(S):d)});p2.displayName="NavLink";var g2=ne.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:u=wd,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:v,...b},D)=>{let{unstable_useTransitions:M}=ne.useContext(Zr),V=v2(),z=b2(h,{relative:m}),ee=u.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&GS.test(h),me=fe=>{if(d&&d(fe),fe.defaultPrevented)return;fe.preventDefault();let K=fe.nativeEvent.submitter,S=(K==null?void 0:K.getAttribute("formmethod"))||u,N=()=>V(K||fe.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:v});M&&t!==!1?ne.startTransition(()=>N()):N()};return ne.createElement("form",{ref:D,method:ee,action:z,onSubmit:r?d:me,...b,"data-discover":!q&&n==="render"?"true":void 0})});g2.displayName="Form";function y2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YS(n){let e=ne.useContext(ou);return Ht(e,y2(n)),e}function _2(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=CO(),y=ls(),_=_h(n,{relative:l});return ne.useCallback(v=>{if(XO(v,e)){v.preventDefault();let b=t!==void 0?t:Ny(y)===Ny(_),D=()=>m(n,{replace:b,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});d?ne.startTransition(()=>D()):D()}},[y,m,_,t,r,e,n,a,l,u,h,d])}var E2=0,x2=()=>`__${String(++E2)}__`;function v2(){let{router:n}=YS("useSubmit"),{basename:e}=ne.useContext(Zr),t=zO(),r=n.fetch,a=n.navigate;return ne.useCallback(async(l,u={})=>{let{action:h,method:d,encType:m,formData:y,body:_}=ZO(l,e);if(u.navigate===!1){let v=u.fetcherKey||x2();await r(v,t,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||d,formEncType:u.encType||m,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||d,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,t])}function b2(n,{relative:e}={}){let{basename:t}=ne.useContext(Zr),r=ne.useContext(ki);Ht(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={..._h(n||".",{relative:e})},u=ls();if(n==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ts([t,l.pathname])),Ny(l)}function T2(n,{relative:e}={}){let t=ne.useContext(MS);Ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YS("useViewTransitionState"),a=_h(n,{relative:e});if(!t.isTransitioning)return!1;let l=sa(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=sa(t.nextLocation.pathname,r)||t.nextLocation.pathname;return jd(a.pathname,u)!=null||jd(a.pathname,l)!=null}const w2=()=>{};var Hb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},A2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],h=n[t++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},QS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,h=u?n[a+1]:0,d=a+2<n.length,m=d?n[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let v=(h&15)<<2|m>>6,b=m&63;d||(b=64,u||(v=64)),r.push(t[y],t[_],t[v],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):A2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||m==null||_==null)throw new S2;const v=l<<2|h>>4;if(r.push(v),m!==64){const b=h<<4&240|m>>2;if(r.push(b),_!==64){const D=m<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class S2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I2=function(n){const e=KS(n);return QS.encodeByteArray(e,!0)},Ud=function(n){return I2(n).replace(/\./g,"")},$S=function(n){try{return QS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bd(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!N2(t)||(n[t]=Bd(n[t],e[t]));return n}function N2(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=()=>C_().__FIREBASE_DEFAULTS__,C2=()=>{if(typeof process>"u"||typeof Hb>"u")return;const n=Hb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},D2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$S(n[1]);return e&&JSON.parse(e)},XS=()=>{try{return w2()||R2()||C2()||D2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},D_=()=>{var n;return(n=XS())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k2(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ud(JSON.stringify(t)),Ud(JSON.stringify(u)),""].join(".")}const Uc={};function M2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Uc))Uc[e]?n.emulator.push(e):n.prod.push(e);return n}function P2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Gb=!1;function L2(n,e){if(typeof window>"u"||typeof document>"u"||!O_(window.location.host)||Uc[n]===e||Uc[n]||Gb)return;Uc[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",l=M2().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Gb=!0,u()},v}function y(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=P2(r),b=t("text"),D=document.getElementById(b)||document.createElement("span"),M=t("learnmore"),V=document.getElementById(M)||document.createElement("a"),z=t("preprendIcon"),ee=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const q=v.element;h(q),y(V,M);const me=m();d(ee,z),q.append(ee,D,V,me),document.body.appendChild(q)}l?(D.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WS(){var e;const n=(e=XS())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j2(){return typeof window<"u"||JS()}function JS(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ZS(){return!WS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e1(){return!WS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function t1(){try{return typeof indexedDB=="object"}catch{return!1}}function U2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="FirebaseError";class Tl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=B2,Object.setPrototypeOf(this,Tl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gm.prototype.create)}}class gm{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?z2(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Tl(a,h,r)}}function z2(n,e){return n.replace(F2,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const F2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function jo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],u=e[a];if(Kb(l)&&Kb(u)){if(!jo(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Kb(n){return n!==null&&typeof n=="object"}function q2(n,e){const t=new H2(n,e);return t.subscribe.bind(t)}class H2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");G2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Zg),a.error===void 0&&(a.error=Zg),a.complete===void 0&&(a.complete=Zg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(n){return n&&n._delegate?n._delegate:n}class hl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new O2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q2(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K2(n){return n===Wa?void 0:n}function Q2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Y2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=[];var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const r1={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},$2=We.INFO,X2={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},W2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=X2[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V_{constructor(e){this.name=e,this._logLevel=$2,this._logHandler=W2,this._userLogHandler=null,k_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}function J2(n){k_.forEach(e=>{e.setLogLevel(n)})}function Z2(n,e){for(const t of k_){let r=null;e&&e.level&&(r=r1[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(a,l,...u)=>{const h=u.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");l>=(r??a.logLevel)&&n({level:We[l].toLowerCase(),message:h,args:u,type:a.name})}}}const ek=(n,e)=>e.some(t=>n instanceof t);let Qb,$b;function tk(){return Qb||(Qb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nk(){return $b||($b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i1=new WeakMap,Cy=new WeakMap,s1=new WeakMap,ey=new WeakMap,M_=new WeakMap;function rk(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(ta(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&i1.set(t,n)}).catch(()=>{}),M_.set(e,n),e}function ik(n){if(Cy.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Cy.set(n,e)}let Dy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Cy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||s1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ta(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sk(n){Dy=n(Dy)}function ak(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ty(this),e,...t);return s1.set(r,e.sort?e.sort():[e]),ta(r)}:nk().includes(n)?function(...e){return n.apply(ty(this),e),ta(i1.get(this))}:function(...e){return ta(n.apply(ty(this),e))}}function lk(n){return typeof n=="function"?ak(n):(n instanceof IDBTransaction&&ik(n),ek(n,tk())?new Proxy(n,Dy):n)}function ta(n){if(n instanceof IDBRequest)return rk(n);if(ey.has(n))return ey.get(n);const e=lk(n);return e!==n&&(ey.set(n,e),M_.set(e,n)),e}const ty=n=>M_.get(n);function ok(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),h=ta(u);return r&&u.addEventListener("upgradeneeded",d=>{r(ta(u.result),d.oldVersion,d.newVersion,ta(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const uk=["get","getKey","getAll","getAllKeys","count"],ck=["put","add","delete","clear"],ny=new Map;function Xb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ny.get(e))return ny.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=ck.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||uk.includes(t)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&d.done]))[0]};return ny.set(e,l),l}sk(n=>({...n,get:(e,t,r)=>Xb(e,t)||n.get(e,t,r),has:(e,t)=>!!Xb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function fk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fd="@firebase/app",Oy="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new V_("@firebase/app"),dk="@firebase/app-compat",mk="@firebase/analytics-compat",pk="@firebase/analytics",gk="@firebase/app-check-compat",yk="@firebase/app-check",_k="@firebase/auth",Ek="@firebase/auth-compat",xk="@firebase/database",vk="@firebase/data-connect",bk="@firebase/database-compat",Tk="@firebase/functions",wk="@firebase/functions-compat",Ak="@firebase/installations",Sk="@firebase/installations-compat",Ik="@firebase/messaging",Nk="@firebase/messaging-compat",Rk="@firebase/performance",Ck="@firebase/performance-compat",Dk="@firebase/remote-config",Ok="@firebase/remote-config-compat",kk="@firebase/storage",Vk="@firebase/storage-compat",Mk="@firebase/firestore",Pk="@firebase/ai",Lk="@firebase/firestore-compat",jk="firebase",Uk="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]",Bk={[Fd]:"fire-core",[dk]:"fire-core-compat",[pk]:"fire-analytics",[mk]:"fire-analytics-compat",[yk]:"fire-app-check",[gk]:"fire-app-check-compat",[_k]:"fire-auth",[Ek]:"fire-auth-compat",[xk]:"fire-rtdb",[vk]:"fire-data-connect",[bk]:"fire-rtdb-compat",[Tk]:"fire-fn",[wk]:"fire-fn-compat",[Ak]:"fire-iid",[Sk]:"fire-iid-compat",[Ik]:"fire-fcm",[Nk]:"fire-fcm-compat",[Rk]:"fire-perf",[Ck]:"fire-perf-compat",[Dk]:"fire-rc",[Ok]:"fire-rc-compat",[kk]:"fire-gcs",[Vk]:"fire-gcs-compat",[Mk]:"fire-fst",[Lk]:"fire-fst-compat",[Pk]:"fire-vertex","fire-js":"fire-js",[jk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new Map,Uo=new Map,Bo=new Map;function Zc(n,e){try{n.container.addComponent(e)}catch(t){is.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function a1(n,e){n.container.addOrOverwriteComponent(e)}function zo(n){const e=n.name;if(Bo.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;Bo.set(e,n);for(const t of la.values())Zc(t,n);for(const t of Uo.values())Zc(t,n);return!0}function l1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zk(n,e,t=aa){l1(n,e).clearInstance(t)}function P_(n){return n.options!==void 0}function o1(n){return P_(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function u1(n){return n==null?!1:n.settings!==void 0}function Fk(){Bo.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new gm("app","Firebase",qk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c1=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(n,e){const t=$S(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const a=JSON.parse(t).exp*1e3,l=new Date().getTime();a-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class Hk extends c1{constructor(e,t,r,a){const l=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,u,a);else{const h=e;super(h.options,u,a)}this._serverConfig={automaticDataCollectionEnabled:l,...t},this._serverConfig.authIdToken&&Wb(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&Wb(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ns(Fd,Oy,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){U_(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw mr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=Uk;function j_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:aa,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw mr.create("bad-app-name",{appName:String(a)});if(t||(t=D_()),!t)throw mr.create("no-options");const l=la.get(a);if(l){if(jo(t,l.options)&&jo(r,l.config))return l;throw mr.create("duplicate-app",{appName:a})}const u=new n1(a);for(const d of Bo.values())u.addComponent(d);const h=new c1(t,r,u);return la.set(a,h),h}function Gk(n,e={}){if(j2()&&!JS())throw mr.create("invalid-server-app-environment");let t,r=e||{};if(n&&(P_(n)?t=n.options:o1(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=D_()),!t)throw mr.create("no-options");const a={...r,...t};a.releaseOnDeref!==void 0&&delete a.releaseOnDeref;const l=y=>[...y].reduce((_,v)=>Math.imul(31,_)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw mr.create("finalization-registry-not-supported",{});const u=""+l(JSON.stringify(a)),h=Uo.get(u);if(h)return h.incRefCount(r.releaseOnDeref),h;const d=new n1(u);for(const y of Bo.values())d.addComponent(y);const m=new Hk(t,r,u,d);return Uo.set(u,m),m}function Yk(n=aa){const e=la.get(n);if(!e&&n===aa&&D_())return j_();if(!e)throw mr.create("no-app",{appName:n});return e}function Kk(){return Array.from(la.values())}async function U_(n){let e=!1;const t=n.name;la.has(t)?(e=!0,la.delete(t)):Uo.has(t)&&n.decRefCount()<=0&&(Uo.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function ns(n,e,t){let r=Bk[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(u.join(" "));return}zo(new hl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function h1(n,e){if(n!==null&&typeof n!="function")throw mr.create("invalid-log-argument");Z2(n,e)}function f1(n){J2(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="firebase-heartbeat-database",$k=1,eh="firebase-heartbeat-store";let ry=null;function d1(){return ry||(ry=ok(Qk,$k,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(eh)}catch(t){console.warn(t)}}}}).catch(n=>{throw mr.create("idb-open",{originalErrorMessage:n.message})})),ry}async function Xk(n){try{const t=(await d1()).transaction(eh),r=await t.objectStore(eh).get(m1(n));return await t.done,r}catch(e){if(e instanceof Tl)is.warn(e.message);else{const t=mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(t.message)}}}async function Jb(n,e){try{const r=(await d1()).transaction(eh,"readwrite");await r.objectStore(eh).put(e,m1(n)),await r.done}catch(t){if(t instanceof Tl)is.warn(t.message);else{const r=mr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});is.warn(r.message)}}}function m1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=1024,Jk=30;class Zk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new t4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Zb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>Jk){const u=n4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Zb(),{heartbeatsToSend:r,unsentEntries:a}=e4(this._heartbeatsCache.heartbeats),l=Ud(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return is.warn(t),""}}}function Zb(){return new Date().toISOString().substring(0,10)}function e4(n,e=Wk){const t=[];let r=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),eT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),eT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class t4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t1()?U2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Xk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function eT(n){return Ud(JSON.stringify({version:2,heartbeats:n})).length}function n4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(n){zo(new hl("platform-logger",e=>new hk(e),"PRIVATE")),zo(new hl("heartbeat",e=>new Zk(e),"PRIVATE")),ns(Fd,Oy,n),ns(Fd,Oy,"esm2020"),ns("fire-js","")}r4("");const i4=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Tl,SDK_VERSION:L_,_DEFAULT_ENTRY_NAME:aa,_addComponent:Zc,_addOrOverwriteComponent:a1,_apps:la,_clearComponents:Fk,_components:Bo,_getProvider:l1,_isFirebaseApp:P_,_isFirebaseServerApp:u1,_isFirebaseServerAppSettings:o1,_registerComponent:zo,_removeServiceInstance:zk,_serverApps:Uo,deleteApp:U_,getApp:Yk,getApps:Kk,initializeApp:j_,initializeServerApp:Gk,onLog:h1,registerVersion:ns,setLogLevel:f1},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,t){this._delegate=e,this.firebase=t,Zc(e,new hl("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),U_(this._delegate)))}_getService(e,t=aa){var a;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((a=r.getComponent())==null?void 0:a.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=aa){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Zc(this._delegate,e)}_addOrOverwriteComponent(e){a1(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},tT=new gm("app-compat","Firebase",a4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(n){const e={},t={__esModule:!0,initializeApp:l,app:a,registerVersion:ns,setLogLevel:f1,onLog:h1,apps:null,SDK_VERSION:L_,INTERNAL:{registerComponent:h,removeApp:r,useAsService:d,modularAPIs:i4}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(m){delete e[m]}function a(m){if(m=m||aa,!Yb(e,m))throw tT.create("no-app",{appName:m});return e[m]}a.App=n;function l(m,y={}){const _=j_(m,y);if(Yb(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(m=>e[m])}function h(m){const y=m.name,_=y.replace("-compat","");if(zo(m)&&m.type==="PUBLIC"){const v=(b=a())=>{if(typeof b[_]!="function")throw tT.create("invalid-app-argument",{appName:y});return b[_]()};m.serviceProps!==void 0&&Bd(v,m.serviceProps),t[_]=v,n.prototype[_]=function(...b){return this._getService.bind(this,y).apply(this,m.multipleInstances?b:[])}}return m.type==="PUBLIC"?t[_]:null}function d(m,y){return y==="serverAuth"?null:y}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){const n=l4(s4);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:p1,extendNamespace:e,createSubscribe:q2,ErrorFactory:gm,deepExtend:Bd};function e(t){Bd(n,t)}return n}const o4=p1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=new V_("@firebase/app-compat"),u4="@firebase/app-compat",c4="0.5.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(n){ns(u4,c4,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=C_();if(n.firebase!==void 0){nT.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&nT.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Fo=o4;h4();var f4="firebase",d4="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fo.registerVersion(f4,d4,"app-compat");var rT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,g1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,N){function C(){}C.prototype=N.prototype,S.F=N.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(U,k,L){for(var O=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)O[xe-2]=arguments[xe];return N.prototype[k].apply(U,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,N,C){C||(C=0);const U=Array(16);if(typeof N=="string")for(var k=0;k<16;++k)U[k]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(k=0;k<16;++k)U[k]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=S.g[0],C=S.g[1],k=S.g[2];let L=S.g[3],O;O=N+(L^C&(k^L))+U[0]+3614090360&4294967295,N=C+(O<<7&4294967295|O>>>25),O=L+(k^N&(C^k))+U[1]+3905402710&4294967295,L=N+(O<<12&4294967295|O>>>20),O=k+(C^L&(N^C))+U[2]+606105819&4294967295,k=L+(O<<17&4294967295|O>>>15),O=C+(N^k&(L^N))+U[3]+3250441966&4294967295,C=k+(O<<22&4294967295|O>>>10),O=N+(L^C&(k^L))+U[4]+4118548399&4294967295,N=C+(O<<7&4294967295|O>>>25),O=L+(k^N&(C^k))+U[5]+1200080426&4294967295,L=N+(O<<12&4294967295|O>>>20),O=k+(C^L&(N^C))+U[6]+2821735955&4294967295,k=L+(O<<17&4294967295|O>>>15),O=C+(N^k&(L^N))+U[7]+4249261313&4294967295,C=k+(O<<22&4294967295|O>>>10),O=N+(L^C&(k^L))+U[8]+1770035416&4294967295,N=C+(O<<7&4294967295|O>>>25),O=L+(k^N&(C^k))+U[9]+2336552879&4294967295,L=N+(O<<12&4294967295|O>>>20),O=k+(C^L&(N^C))+U[10]+4294925233&4294967295,k=L+(O<<17&4294967295|O>>>15),O=C+(N^k&(L^N))+U[11]+2304563134&4294967295,C=k+(O<<22&4294967295|O>>>10),O=N+(L^C&(k^L))+U[12]+1804603682&4294967295,N=C+(O<<7&4294967295|O>>>25),O=L+(k^N&(C^k))+U[13]+4254626195&4294967295,L=N+(O<<12&4294967295|O>>>20),O=k+(C^L&(N^C))+U[14]+2792965006&4294967295,k=L+(O<<17&4294967295|O>>>15),O=C+(N^k&(L^N))+U[15]+1236535329&4294967295,C=k+(O<<22&4294967295|O>>>10),O=N+(k^L&(C^k))+U[1]+4129170786&4294967295,N=C+(O<<5&4294967295|O>>>27),O=L+(C^k&(N^C))+U[6]+3225465664&4294967295,L=N+(O<<9&4294967295|O>>>23),O=k+(N^C&(L^N))+U[11]+643717713&4294967295,k=L+(O<<14&4294967295|O>>>18),O=C+(L^N&(k^L))+U[0]+3921069994&4294967295,C=k+(O<<20&4294967295|O>>>12),O=N+(k^L&(C^k))+U[5]+3593408605&4294967295,N=C+(O<<5&4294967295|O>>>27),O=L+(C^k&(N^C))+U[10]+38016083&4294967295,L=N+(O<<9&4294967295|O>>>23),O=k+(N^C&(L^N))+U[15]+3634488961&4294967295,k=L+(O<<14&4294967295|O>>>18),O=C+(L^N&(k^L))+U[4]+3889429448&4294967295,C=k+(O<<20&4294967295|O>>>12),O=N+(k^L&(C^k))+U[9]+568446438&4294967295,N=C+(O<<5&4294967295|O>>>27),O=L+(C^k&(N^C))+U[14]+3275163606&4294967295,L=N+(O<<9&4294967295|O>>>23),O=k+(N^C&(L^N))+U[3]+4107603335&4294967295,k=L+(O<<14&4294967295|O>>>18),O=C+(L^N&(k^L))+U[8]+1163531501&4294967295,C=k+(O<<20&4294967295|O>>>12),O=N+(k^L&(C^k))+U[13]+2850285829&4294967295,N=C+(O<<5&4294967295|O>>>27),O=L+(C^k&(N^C))+U[2]+4243563512&4294967295,L=N+(O<<9&4294967295|O>>>23),O=k+(N^C&(L^N))+U[7]+1735328473&4294967295,k=L+(O<<14&4294967295|O>>>18),O=C+(L^N&(k^L))+U[12]+2368359562&4294967295,C=k+(O<<20&4294967295|O>>>12),O=N+(C^k^L)+U[5]+4294588738&4294967295,N=C+(O<<4&4294967295|O>>>28),O=L+(N^C^k)+U[8]+2272392833&4294967295,L=N+(O<<11&4294967295|O>>>21),O=k+(L^N^C)+U[11]+1839030562&4294967295,k=L+(O<<16&4294967295|O>>>16),O=C+(k^L^N)+U[14]+4259657740&4294967295,C=k+(O<<23&4294967295|O>>>9),O=N+(C^k^L)+U[1]+2763975236&4294967295,N=C+(O<<4&4294967295|O>>>28),O=L+(N^C^k)+U[4]+1272893353&4294967295,L=N+(O<<11&4294967295|O>>>21),O=k+(L^N^C)+U[7]+4139469664&4294967295,k=L+(O<<16&4294967295|O>>>16),O=C+(k^L^N)+U[10]+3200236656&4294967295,C=k+(O<<23&4294967295|O>>>9),O=N+(C^k^L)+U[13]+681279174&4294967295,N=C+(O<<4&4294967295|O>>>28),O=L+(N^C^k)+U[0]+3936430074&4294967295,L=N+(O<<11&4294967295|O>>>21),O=k+(L^N^C)+U[3]+3572445317&4294967295,k=L+(O<<16&4294967295|O>>>16),O=C+(k^L^N)+U[6]+76029189&4294967295,C=k+(O<<23&4294967295|O>>>9),O=N+(C^k^L)+U[9]+3654602809&4294967295,N=C+(O<<4&4294967295|O>>>28),O=L+(N^C^k)+U[12]+3873151461&4294967295,L=N+(O<<11&4294967295|O>>>21),O=k+(L^N^C)+U[15]+530742520&4294967295,k=L+(O<<16&4294967295|O>>>16),O=C+(k^L^N)+U[2]+3299628645&4294967295,C=k+(O<<23&4294967295|O>>>9),O=N+(k^(C|~L))+U[0]+4096336452&4294967295,N=C+(O<<6&4294967295|O>>>26),O=L+(C^(N|~k))+U[7]+1126891415&4294967295,L=N+(O<<10&4294967295|O>>>22),O=k+(N^(L|~C))+U[14]+2878612391&4294967295,k=L+(O<<15&4294967295|O>>>17),O=C+(L^(k|~N))+U[5]+4237533241&4294967295,C=k+(O<<21&4294967295|O>>>11),O=N+(k^(C|~L))+U[12]+1700485571&4294967295,N=C+(O<<6&4294967295|O>>>26),O=L+(C^(N|~k))+U[3]+2399980690&4294967295,L=N+(O<<10&4294967295|O>>>22),O=k+(N^(L|~C))+U[10]+4293915773&4294967295,k=L+(O<<15&4294967295|O>>>17),O=C+(L^(k|~N))+U[1]+2240044497&4294967295,C=k+(O<<21&4294967295|O>>>11),O=N+(k^(C|~L))+U[8]+1873313359&4294967295,N=C+(O<<6&4294967295|O>>>26),O=L+(C^(N|~k))+U[15]+4264355552&4294967295,L=N+(O<<10&4294967295|O>>>22),O=k+(N^(L|~C))+U[6]+2734768916&4294967295,k=L+(O<<15&4294967295|O>>>17),O=C+(L^(k|~N))+U[13]+1309151649&4294967295,C=k+(O<<21&4294967295|O>>>11),O=N+(k^(C|~L))+U[4]+4149444226&4294967295,N=C+(O<<6&4294967295|O>>>26),O=L+(C^(N|~k))+U[11]+3174756917&4294967295,L=N+(O<<10&4294967295|O>>>22),O=k+(N^(L|~C))+U[2]+718787259&4294967295,k=L+(O<<15&4294967295|O>>>17),O=C+(L^(k|~N))+U[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+L&4294967295}r.prototype.v=function(S,N){N===void 0&&(N=S.length);const C=N-this.blockSize,U=this.C;let k=this.h,L=0;for(;L<N;){if(k==0)for(;L<=C;)a(this,S,L),L+=this.blockSize;if(typeof S=="string"){for(;L<N;)if(U[k++]=S.charCodeAt(L++),k==this.blockSize){a(this,U),k=0;break}}else for(;L<N;)if(U[k++]=S[L++],k==this.blockSize){a(this,U),k=0;break}}this.h=k,this.o+=N},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;N=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=N&255,N/=256;for(this.v(S),S=Array(16),N=0,C=0;C<4;++C)for(let U=0;U<32;U+=8)S[N++]=this.g[C]>>>U&255;return S};function l(S,N){var C=h;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=N(S)}function u(S,N){this.h=N;const C=[];let U=!0;for(let k=S.length-1;k>=0;k--){const L=S[k]|0;U&&L==N||(C[k]=L,U=!1)}this.g=C}var h={};function d(S){return-128<=S&&S<128?l(S,function(N){return new u([N|0],N<0?-1:0)}):new u([S|0],S<0?-1:0)}function m(S){if(isNaN(S)||!isFinite(S))return _;if(S<0)return V(m(-S));const N=[];let C=1;for(let U=0;S>=C;U++)N[U]=S/C|0,C*=4294967296;return new u(N,0)}function y(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return V(y(S.substring(1),N));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(N,8));let U=_;for(let L=0;L<S.length;L+=8){var k=Math.min(8,S.length-L);const O=parseInt(S.substring(L,L+k),N);k<8?(k=m(Math.pow(N,k)),U=U.j(k).add(m(O))):(U=U.j(C),U=U.add(m(O)))}return U}var _=d(0),v=d(1),b=d(16777216);n=u.prototype,n.m=function(){if(M(this))return-V(this).m();let S=0,N=1;for(let C=0;C<this.g.length;C++){const U=this.i(C);S+=(U>=0?U:4294967296+U)*N,N*=4294967296}return S},n.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D(this))return"0";if(M(this))return"-"+V(this).toString(S);const N=m(Math.pow(S,6));var C=this;let U="";for(;;){const k=me(C,N).g;C=z(C,k.j(N));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=k,D(C))return L+U;for(;L.length<6;)L="0"+L;U=L+U}},n.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function D(S){if(S.h!=0)return!1;for(let N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function M(S){return S.h==-1}n.l=function(S){return S=z(this,S),M(S)?-1:D(S)?0:1};function V(S){const N=S.g.length,C=[];for(let U=0;U<N;U++)C[U]=~S.g[U];return new u(C,~S.h).add(v)}n.abs=function(){return M(this)?V(this):this},n.add=function(S){const N=Math.max(this.g.length,S.g.length),C=[];let U=0;for(let k=0;k<=N;k++){let L=U+(this.i(k)&65535)+(S.i(k)&65535),O=(L>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);U=O>>>16,L&=65535,O&=65535,C[k]=O<<16|L}return new u(C,C[C.length-1]&-2147483648?-1:0)};function z(S,N){return S.add(V(N))}n.j=function(S){if(D(this)||D(S))return _;if(M(this))return M(S)?V(this).j(V(S)):V(V(this).j(S));if(M(S))return V(this.j(V(S)));if(this.l(b)<0&&S.l(b)<0)return m(this.m()*S.m());const N=this.g.length+S.g.length,C=[];for(var U=0;U<2*N;U++)C[U]=0;for(U=0;U<this.g.length;U++)for(let k=0;k<S.g.length;k++){const L=this.i(U)>>>16,O=this.i(U)&65535,xe=S.i(k)>>>16,de=S.i(k)&65535;C[2*U+2*k]+=O*de,ee(C,2*U+2*k),C[2*U+2*k+1]+=L*de,ee(C,2*U+2*k+1),C[2*U+2*k+1]+=O*xe,ee(C,2*U+2*k+1),C[2*U+2*k+2]+=L*xe,ee(C,2*U+2*k+2)}for(S=0;S<N;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=N;S<2*N;S++)C[S]=0;return new u(C,0)};function ee(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function q(S,N){this.g=S,this.h=N}function me(S,N){if(D(N))throw Error("division by zero");if(D(S))return new q(_,_);if(M(S))return N=me(V(S),N),new q(V(N.g),V(N.h));if(M(N))return N=me(S,V(N)),new q(V(N.g),N.h);if(S.g.length>30){if(M(S)||M(N))throw Error("slowDivide_ only works with positive integers.");for(var C=v,U=N;U.l(S)<=0;)C=fe(C),U=fe(U);var k=K(C,1),L=K(U,1);for(U=K(U,2),C=K(C,2);!D(U);){var O=L.add(U);O.l(S)<=0&&(k=k.add(C),L=O),U=K(U,1),C=K(C,1)}return N=z(S,k.j(N)),new q(k,N)}for(k=_;S.l(N)>=0;){for(C=Math.max(1,Math.floor(S.m()/N.m())),U=Math.ceil(Math.log(C)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),L=m(C),O=L.j(N);M(O)||O.l(S)>0;)C-=U,L=m(C),O=L.j(N);D(L)&&(L=v),k=k.add(L),S=z(S,O)}return new q(k,S)}n.B=function(S){return me(this,S).h},n.and=function(S){const N=Math.max(this.g.length,S.g.length),C=[];for(let U=0;U<N;U++)C[U]=this.i(U)&S.i(U);return new u(C,this.h&S.h)},n.or=function(S){const N=Math.max(this.g.length,S.g.length),C=[];for(let U=0;U<N;U++)C[U]=this.i(U)|S.i(U);return new u(C,this.h|S.h)},n.xor=function(S){const N=Math.max(this.g.length,S.g.length),C=[];for(let U=0;U<N;U++)C[U]=this.i(U)^S.i(U);return new u(C,this.h^S.h)};function fe(S){const N=S.g.length+1,C=[];for(let U=0;U<N;U++)C[U]=S.i(U)<<1|S.i(U-1)>>>31;return new u(C,S.h)}function K(S,N){const C=N>>5;N%=32;const U=S.g.length-C,k=[];for(let L=0;L<U;L++)k[L]=N>0?S.i(L+C)>>>N|S.i(L+C+1)<<32-N:S.i(L+C);return new u(k,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,g1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,na=u}).apply(typeof rT<"u"?rT:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y1,kc,_1,Sd,ky,E1,x1,v1;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var x=0;x<f.length;++x){var w=f[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function a(f,x){if(x)e:{var w=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var Y=f[I];if(!(Y in w))break e;w=w[Y]}f=f[f.length-1],I=w[f],x=x(I),x!=I&&x!=null&&e(w,f,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(x){var w=[],I;for(I in x)Object.prototype.hasOwnProperty.call(x,I)&&w.push([I,x[I]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function d(f,x,w){return f.call.apply(f.bind,arguments)}function m(f,x,w){return m=d,m.apply(null,arguments)}function y(f,x){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function _(f,x){function w(){}w.prototype=x.prototype,f.Z=x.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(I,Y,Z){for(var ge=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ge[Pe-2]=arguments[Pe];return x.prototype[Y].apply(I,ge)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function b(f){const x=f.length;if(x>0){const w=Array(x);for(let I=0;I<x;I++)w[I]=f[I];return w}return[]}function D(f,x){for(let I=1;I<arguments.length;I++){const Y=arguments[I];var w=typeof Y;if(w=w!="object"?w:Y?Array.isArray(Y)?"array":w:"null",w=="array"||w=="object"&&typeof Y.length=="number"){w=f.length||0;const Z=Y.length||0;f.length=w+Z;for(let ge=0;ge<Z;ge++)f[w+ge]=Y[ge]}else f.push(Y)}}class M{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function V(f){u.setTimeout(()=>{throw f},0)}function z(){var f=S;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class ee{constructor(){this.h=this.g=null}add(x,w){const I=q.get();I.set(x,w),this.h?this.h.next=I:this.g=I,this.h=I}}var q=new M(()=>new me,f=>f.reset());class me{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,K=!1,S=new ee,N=()=>{const f=Promise.resolve(void 0);fe=()=>{f.then(C)}};function C(){for(var f;f=z();){try{f.h.call(f.g)}catch(w){V(w)}var x=q;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}K=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};u.addEventListener("test",w,x),u.removeEventListener("test",w,x)}catch{}return f})();function O(f){return/^[\s\xa0]*$/.test(f)}function xe(f,x){k.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}_(xe,k),xe.prototype.init=function(f,x){const w=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(w=="mouseover"?x=f.fromElement:w=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),X=0;function ce(f,x,w,I,Y){this.listener=f,this.proxy=null,this.src=x,this.type=w,this.capture=!!I,this.ha=Y,this.key=++X,this.da=this.fa=!1}function be(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f,x,w){for(const I in f)x.call(w,f[I],I,f)}function P(f,x){for(const w in f)x.call(void 0,f[w],w,f)}function B(f){const x={};for(const w in f)x[w]=f[w];return x}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,x){let w,I;for(let Y=1;Y<arguments.length;Y++){I=arguments[Y];for(w in I)f[w]=I[w];for(let Z=0;Z<ie.length;Z++)w=ie[Z],Object.prototype.hasOwnProperty.call(I,w)&&(f[w]=I[w])}}function _e(f){this.src=f,this.g={},this.h=0}_e.prototype.add=function(f,x,w,I,Y){const Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);const ge=Se(f,x,I,Y);return ge>-1?(x=f[ge],w||(x.fa=!1)):(x=new ce(x,this.src,Z,!!I,Y),x.fa=w,f.push(x)),x};function Re(f,x){const w=x.type;if(w in f.g){var I=f.g[w],Y=Array.prototype.indexOf.call(I,x,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(I,Y,1),Z&&(be(x),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Se(f,x,w,I){for(let Y=0;Y<f.length;++Y){const Z=f[Y];if(!Z.da&&Z.listener==x&&Z.capture==!!w&&Z.ha==I)return Y}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),dt={};function rt(f,x,w,I,Y){if(Array.isArray(x)){for(let Z=0;Z<x.length;Z++)rt(f,x[Z],w,I,Y);return null}return w=va(w),f&&f[de]?f.J(x,w,h(I)?!!I.capture:!1,Y):zn(f,x,w,!1,I,Y)}function zn(f,x,w,I,Y,Z){if(!x)throw Error("Invalid event type");const ge=h(Y)?!!Y.capture:!!Y;let Pe=ei(f);if(Pe||(f[ze]=Pe=new _e(f)),w=Pe.add(x,w,I,ge,Z),w.proxy)return w;if(I=Vr(),w.proxy=I,I.src=f,I.listener=w,f.addEventListener)L||(Y=ge),Y===void 0&&(Y=!1),f.addEventListener(x.toString(),I,Y);else if(f.attachEvent)f.attachEvent(gr(x.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Vr(){function f(w){return x.call(f.src,f.listener,w)}const x=ms;return f}function fs(f,x,w,I,Y){if(Array.isArray(x))for(var Z=0;Z<x.length;Z++)fs(f,x[Z],w,I,Y);else I=h(I)?!!I.capture:!!I,w=va(w),f&&f[de]?(f=f.i,Z=String(x).toString(),Z in f.g&&(x=f.g[Z],w=Se(x,w,I,Y),w>-1&&(be(x[w]),Array.prototype.splice.call(x,w,1),x.length==0&&(delete f.g[Z],f.h--)))):f&&(f=ei(f))&&(x=f.g[x.toString()],f=-1,x&&(f=Se(x,w,I,Y)),(w=f>-1?x[f]:null)&&ds(w))}function ds(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[de])Re(x.i,f);else{var w=f.type,I=f.proxy;x.removeEventListener?x.removeEventListener(w,I,f.capture):x.detachEvent?x.detachEvent(gr(w),I):x.addListener&&x.removeListener&&x.removeListener(I),(w=ei(x))?(Re(w,f),w.h==0&&(w.src=null,x[ze]=null)):be(f)}}}function gr(f){return f in dt?dt[f]:dt[f]="on"+f}function ms(f,x){if(f.da)f=!0;else{x=new xe(x,this);const w=f.listener,I=f.ha||f.src;f.fa&&ds(f),f=w.call(I,x)}return f}function ei(f){return f=f[ze],f instanceof _e?f:null}var ps="__closure_events_fn_"+(Math.random()*1e9>>>0);function va(f){return typeof f=="function"?f:(f[ps]||(f[ps]=function(x){return f.handleEvent(x)}),f[ps])}function Ot(){U.call(this),this.i=new _e(this),this.M=this,this.G=null}_(Ot,U),Ot.prototype[de]=!0,Ot.prototype.removeEventListener=function(f,x,w,I){fs(this,f,x,w,I)};function Mt(f,x){var w,I=f.G;if(I)for(w=[];I;I=I.G)w.push(I);if(f=f.M,I=x.type||x,typeof x=="string")x=new k(x,f);else if(x instanceof k)x.target=x.target||f;else{var Y=x;x=new k(I,f),R(x,Y)}Y=!0;let Z,ge;if(w)for(ge=w.length-1;ge>=0;ge--)Z=x.g=w[ge],Y=ti(Z,I,!0,x)&&Y;if(Z=x.g=f,Y=ti(Z,I,!0,x)&&Y,Y=ti(Z,I,!1,x)&&Y,w)for(ge=0;ge<w.length;ge++)Z=x.g=w[ge],Y=ti(Z,I,!1,x)&&Y}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const w=f.g[x];for(let I=0;I<w.length;I++)be(w[I]);delete f.g[x],f.h--}}this.G=null},Ot.prototype.J=function(f,x,w,I){return this.i.add(String(f),x,!1,w,I)},Ot.prototype.K=function(f,x,w,I){return this.i.add(String(f),x,!0,w,I)};function ti(f,x,w,I){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let Y=!0;for(let Z=0;Z<x.length;++Z){const ge=x[Z];if(ge&&!ge.da&&ge.capture==w){const Pe=ge.listener,Bt=ge.ha||ge.src;ge.fa&&Re(f.i,ge),Y=Pe.call(Bt,I)!==!1&&Y}}return Y&&!I.defaultPrevented}function Eu(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(f,x||0)}function Rl(f){f.g=Eu(()=>{f.g=null,f.i&&(f.i=!1,Rl(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class mn extends U{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Rl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(f){U.call(this),this.h=f,this.g={}}_(Vi,U);var se=[];function pe(f){Me(f.g,function(x,w){this.g.hasOwnProperty(w)&&ds(x)},f),f.g={}}Vi.prototype.N=function(){Vi.Z.N.call(this),pe(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=u.JSON.stringify,Fe=u.JSON.parse,Ze=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function wn(){}function yr(){}var Ut={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){k.call(this,"d")}_(kt,k);function on(){k.call(this,"c")}_(on,k);var $e={},Mr=null;function An(){return Mr=Mr||new Ot}$e.Ia="serverreachability";function Ph(f){k.call(this,$e.Ia,f)}_(Ph,k);function ni(f){const x=An();Mt(x,new Ph(x))}$e.STAT_EVENT="statevent";function ba(f,x){k.call(this,$e.STAT_EVENT,f),this.stat=x}_(ba,k);function Kt(f){const x=An();Mt(x,new ba(x,f))}$e.Ja="timingevent";function ri(f,x){k.call(this,$e.Ja,f),this.size=x}_(ri,k);function ii(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},x)}function Pr(){this.g=!0}Pr.prototype.ua=function(){this.g=!1};function Qm(f,x,w,I,Y,Z){f.info(function(){if(f.g)if(Z){var ge="",Pe=Z.split("&");for(let it=0;it<Pe.length;it++){var Bt=Pe[it].split("=");if(Bt.length>1){const It=Bt[0];Bt=Bt[1];const vr=It.split("_");ge=vr.length>=2&&vr[1]=="type"?ge+(It+"="+Bt+"&"):ge+(It+"=redacted&")}}}else ge=null;else ge=Z;return"XMLHTTP REQ ("+I+") [attempt "+Y+"]: "+x+`
`+w+`
`+ge})}function Lh(f,x,w,I,Y,Z,ge){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Y+"]: "+x+`
`+w+`
`+Z+" "+ge})}function si(f,x,w,I){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+$m(f,w)+(I?" "+I:"")})}function Ta(f,x){f.info(function(){return"TIMEOUT: "+x})}Pr.prototype.info=function(){};function $m(f,x){if(!f.g)return x;if(!x)return null;try{const Z=JSON.parse(x);if(Z){for(f=0;f<Z.length;f++)if(Array.isArray(Z[f])){var w=Z[f];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var Y=I[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ge=1;ge<I.length;ge++)I[ge]=""}}}}return Ce(Z)}catch{return x}}var wa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vu;function Aa(){}_(Aa,wn),Aa.prototype.g=function(){return new XMLHttpRequest},vu=new Aa;function Mi(f){return encodeURIComponent(String(f))}function jh(f){var x=1;f=f.split(":");const w=[];for(;x>0&&f.length;)w.push(f.shift()),x--;return f.length&&w.push(f.join(":")),w}function Lr(f,x,w,I){this.j=f,this.i=x,this.l=w,this.S=I||1,this.V=new Vi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jr}function jr(){this.i=null,this.g="",this.h=!1}var Qt={},un={};function ai(f,x,w){f.M=1,f.A=Sa(Xt(x)),f.u=w,f.R=!0,Cl(f,null)}function Cl(f,x){f.F=Date.now(),li(f),f.B=Xt(f.A);var w=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),Vl(w.i,"t",I),f.C=0,w=f.j.L,f.h=new jr,f.g=Zh(f.j,w?x:null,!f.u),f.P>0&&(f.O=new mn(m(f.Y,f,f.g),f.P)),x=f.V,w=f.g,I=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(se[0]=Y.toString()),Y=se);for(let Z=0;Z<Y.length;Z++){const ge=rt(w,Y[Z],I||x.handleEvent,!1,x.h||x);if(!ge)break;x.g[ge.key]=ge}x=f.J?B(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),ni(),Qm(f.i,f.v,f.B,f.l,f.S,f.u)}Lr.prototype.ba=function(f){f=f.target;const x=this.O;x&&zr(f)==3?x.j():this.Y(f)},Lr.prototype.Y=function(f){try{if(f==this.g)e:{const Pe=zr(this.g),Bt=this.g.ya(),it=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||pn(this.g)))){this.K||Pe!=4||Bt==7||(Bt==8||it<=0?ni(3):ni(2)),oi(this);var x=this.g.ca();this.X=x;var w=Xm(this);if(this.o=x==200,Lh(this.i,this.v,this.B,this.l,this.S,Pe,x),this.o){if(this.U&&!this.L){t:{if(this.g){var I,Y=this.g;if((I=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(I)){var Z=I;break t}}Z=null}if(f=Z)si(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,f);else{this.o=!1,this.m=3,Kt(12),nr(this),_r(this);break e}}if(this.R){f=!0;let It;for(;!this.K&&this.C<w.length;)if(It=Bh(this,w),It==un){Pe==4&&(this.m=4,Kt(14),f=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Qt){this.m=4,Kt(15),si(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else si(this.i,this.l,It,null),ui(this,It);if(Uh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||w.length!=0||this.h.h||(this.m=1,Kt(16),f=!1),this.o=this.o&&f,!f)si(this.i,this.l,w,"[Invalid Chunked Response]"),nr(this),_r(this);else if(w.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Pu(ge),ge.P=!0,Kt(11))}}else si(this.i,this.l,w,null),ui(this,w);Pe==4&&nr(this),this.o&&!this.K&&(Pe==4?$h(this.j,this):(this.o=!1,li(this)))}else Li(this.g),x==400&&w.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),nr(this),_r(this)}}}catch{}finally{}};function Xm(f){if(!Uh(f))return f.g.la();const x=pn(f.g);if(x==="")return"";let w="";const I=x.length,Y=zr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return nr(f),_r(f),"";f.h.i=new u.TextDecoder}for(let Z=0;Z<I;Z++)f.h.h=!0,w+=f.h.i.decode(x[Z],{stream:!(Y&&Z==I-1)});return x.length=0,f.h.g+=w,f.C=0,f.h.g}function Uh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Bh(f,x){var w=f.C,I=x.indexOf(`
`,w);return I==-1?un:(w=Number(x.substring(w,I)),isNaN(w)?Qt:(I+=1,I+w>x.length?un:(x=x.slice(I,I+w),f.C=I+w,x)))}Lr.prototype.cancel=function(){this.K=!0,nr(this)};function li(f){f.T=Date.now()+f.H,Dl(f,f.H)}function Dl(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ii(m(f.aa,f),x)}function oi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Lr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Ta(this.i,this.B),this.M!=2&&(ni(),Kt(17)),nr(this),this.m=2,_r(this)):Dl(this,this.T-f)};function _r(f){f.j.I==0||f.K||$h(f.j,f)}function nr(f){oi(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,pe(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function ui(f,x){try{var w=f.j;if(w.I!=0&&(w.g==f||hi(w.h,f))){if(!f.L&&hi(w.h,f)&&w.I==3){try{var I=w.Ba.g.parse(x)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Y=I;if(Y[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)Ul(w),Ts(w);else break e;ka(w),Kt(18)}}else w.xa=Y[1],0<w.xa-w.K&&Y[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=ii(m(w.Va,w),6e3));ci(w.h)<=1&&w.ta&&(w.ta=void 0)}else yi(w,11)}else if((f.L||w.g==f)&&Ul(w),!O(x))for(Y=w.Ba.g.parse(x),x=0;x<Y.length;x++){let it=Y[x];const It=it[0];if(!(It<=w.K))if(w.K=It,it=it[1],w.I==2)if(it[0]=="c"){w.M=it[1],w.ba=it[2];const vr=it[3];vr!=null&&(w.ka=vr,w.j.info("VER="+w.ka));const _i=it[4];_i!=null&&(w.za=_i,w.j.info("SVER="+w.za));const Fr=it[5];Fr!=null&&typeof Fr=="number"&&Fr>0&&(I=1.5*Fr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const qr=f.g;if(qr){const Va=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var Z=I.h;Z.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(wu(Z,Z.h),Z.h=null))}if(I.G){const Bl=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(I.wa=Bl,ot(I.J,I.G,Bl))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var ge=f;if(I.na=Jh(I,I.L?I.ba:null,I.W),ge.L){Au(I.h,ge);var Pe=ge,Bt=I.O;Bt&&(Pe.H=Bt),Pe.D&&(oi(Pe),li(Pe)),I.g=ge}else Kh(I);w.i.length>0&&gi(w)}else it[0]!="stop"&&it[0]!="close"||yi(w,7);else w.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?yi(w,7):Vu(w):it[0]!="noop"&&w.l&&w.l.qa(it),w.A=0)}}ni(4)}catch{}}var $t=class{constructor(f,x){this.g=f,this.map=x}};function bu(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ci(f){return f.h?1:f.g?f.g.size:0}function hi(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function wu(f,x){f.g?f.g.add(x):f.h=x}function Au(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}bu.prototype.cancel=function(){if(this.i=Su(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Su(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const w of f.g.values())x=x.concat(w.G);return x}return b(f.i)}var zh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ol(f,x){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const I=f[w].indexOf("=");let Y,Z=null;I>=0?(Y=f[w].substring(0,I),Z=f[w].substring(I+1)):Y=f[w],x(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function rr(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof rr?(this.l=f.l,cn(this,f.j),this.o=f.o,this.g=f.g,gs(this,f.u),this.h=f.h,Iu(this,Gh(f.i)),this.m=f.m):f&&(x=String(f).match(zh))?(this.l=!1,cn(this,x[1]||"",!0),this.o=fi(x[2]||""),this.g=fi(x[3]||"",!0),gs(this,x[4]),this.h=fi(x[5]||"",!0),Iu(this,x[6]||"",!0),this.m=fi(x[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}rr.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(Ia(x,kl,!0),":");var w=this.g;return(w||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Ia(x,kl,!0),"@"),f.push(Mi(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(Ia(w,w.charAt(0)=="/"?Nu:Fh,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",Ia(w,qh)),f.join("")},rr.prototype.resolve=function(f){const x=Xt(this);let w=!!f.j;w?cn(x,f.j):w=!!f.o,w?x.o=f.o:w=!!f.g,w?x.g=f.g:w=f.u!=null;var I=f.h;if(w)gs(x,f.u);else if(w=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var Y=x.h.lastIndexOf("/");Y!=-1&&(I=x.h.slice(0,Y+1)+I)}if(Y=I,Y==".."||Y==".")I="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){I=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let ge=0;ge<Y.length;){const Pe=Y[ge++];Pe=="."?I&&ge==Y.length&&Z.push(""):Pe==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),I&&ge==Y.length&&Z.push("")):(Z.push(Pe),I=!0)}I=Z.join("/")}else I=Y}return w?x.h=I:w=f.i.toString()!=="",w?Iu(x,Gh(f.i)):w=!!f.m,w&&(x.m=f.m),x};function Xt(f){return new rr(f)}function cn(f,x,w){f.j=w?fi(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function gs(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function Iu(f,x,w){x instanceof _s?(f.i=x,Ml(f.i,f.l)):(w||(x=Ia(x,ys)),f.i=new _s(x,f.l))}function ot(f,x,w){f.i.set(x,w)}function Sa(f){return ot(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function fi(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ia(f,x,w){return typeof f=="string"?(f=encodeURI(f).replace(x,Fn),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Fn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var kl=/[#\/\?@]/g,Fh=/[#\?:]/g,Nu=/[#\?]/g,ys=/[#\?@]/g,qh=/#/g;function _s(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function qn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ol(f.i,function(x,w){f.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}n=_s.prototype,n.add=function(f,x){qn(this),this.i=null,f=Es(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(x),this.h+=1,this};function Hh(f,x){qn(f),x=Es(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function Ru(f,x){return qn(f),x=Es(f,x),f.g.has(x)}n.forEach=function(f,x){qn(this),this.g.forEach(function(w,I){w.forEach(function(Y){f.call(x,Y,I,this)},this)},this)};function Cu(f,x){qn(f);let w=[];if(typeof x=="string")Ru(f,x)&&(w=w.concat(f.g.get(Es(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)w=w.concat(f[x]);return w}n.set=function(f,x){return qn(this),this.i=null,f=Es(this,f),Ru(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},n.get=function(f,x){return f?(f=Cu(this,f),f.length>0?String(f[0]):x):x};function Vl(f,x,w){Hh(f,x),w.length>0&&(f.i=null,f.g.set(Es(f,x),b(w)),f.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let I=0;I<x.length;I++){var w=x[I];const Y=Mi(w);w=Cu(this,w);for(let Z=0;Z<w.length;Z++){let ge=Y;w[Z]!==""&&(ge+="="+Mi(w[Z])),f.push(ge)}}return this.i=f.join("&")};function Gh(f){const x=new _s;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function Es(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Ml(f,x){x&&!f.j&&(qn(f),f.i=null,f.g.forEach(function(w,I){const Y=I.toLowerCase();I!=Y&&(Hh(this,I),Vl(this,Y,w))},f)),f.j=x}function Ur(f,x){const w=new Pr;if(u.Image){const I=new Image;I.onload=y(Er,w,"TestLoadImage: loaded",!0,x,I),I.onerror=y(Er,w,"TestLoadImage: error",!1,x,I),I.onabort=y(Er,w,"TestLoadImage: abort",!1,x,I),I.ontimeout=y(Er,w,"TestLoadImage: timeout",!1,x,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else x(!1)}function Du(f,x){const w=new Pr,I=new AbortController,Y=setTimeout(()=>{I.abort(),Er(w,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:I.signal}).then(Z=>{clearTimeout(Y),Z.ok?Er(w,"TestPingServer: ok",!0,x):Er(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),Er(w,"TestPingServer: error",!1,x)})}function Er(f,x,w,I,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),I(w)}catch{}}function xs(){this.g=new Ze}function di(f){this.i=f.Sb||null,this.h=f.ab||!1}_(di,wn),di.prototype.g=function(){return new Na(this.i,this.h)};function Na(f,x){Ot.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Na,Ot),n=Na.prototype,n.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,Br(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pl(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pl(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?vs(this):Br(this),this.readyState==3&&Pl(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,vs(this))},n.Na=function(f){this.g&&(this.response=f,vs(this))},n.ga=function(){this.g&&vs(this)};function vs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Br(f)}n.setRequestHeader=function(f,x){this.A.append(f,x)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=x.next();return f.join(`\r
`)};function Br(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function xr(f){let x="";return Me(f,function(w,I){x+=I,x+=":",x+=w,x+=`\r
`}),x}function Ra(f,x,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=xr(w),typeof f=="string"?w!=null&&Mi(w):ot(f,x,w))}function mt(f){Ot.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(mt,Ot);var mi=/^https?$/i,Ou=["POST","PUT"];n=mt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,x,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vu.g(),this.g.onreadystatechange=v(m(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(Z){Ca(this,Z);return}if(f=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Y in I)w.set(Y,I[Y]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Z of I.keys())w.set(Z,I.get(Z));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Ou,x,void 0)>=0)||I||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ge]of w)this.g.setRequestHeader(Z,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Z){Ca(this,Z)}};function Ca(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,ku(f),Pi(f)}function ku(f){f.A||(f.A=!0,Mt(f,"complete"),Mt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Mt(this,"complete"),Mt(this,"abort"),Pi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),mt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Da(this):this.Xa())},n.Xa=function(){Da(this)};function Da(f){if(f.h&&typeof l<"u"){if(f.v&&zr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Mt(f,"readystatechange"),zr(f)==4){f.h=!1;try{const Z=f.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var I;if(I=Z===0){let ge=String(f.D).match(zh)[1]||null;!ge&&u.self&&u.self.location&&(ge=u.self.location.protocol.slice(0,-1)),I=!mi.test(ge?ge.toLowerCase():"")}w=I}if(w)Mt(f,"complete"),Mt(f,"success");else{f.o=6;try{var Y=zr(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",ku(f)}}finally{Pi(f)}}}}function Pi(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,x||Mt(f,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function zr(f){return f.g?f.g.readyState:0}n.ca=function(){try{return zr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Fe(x)}};function pn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(f){const x={};f=(f.g&&zr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(O(f[I]))continue;var w=jh(f[I]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Z=x[Y]||[];x[Y]=Z,Z.push(w)}P(x,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(f,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||x}function bs(f){this.za=0,this.i=[],this.j=new Pr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,f),this.Za=pi("retryDelaySeedMs",1e4,f),this.Ta=pi("forwardChannelMaxRetries",2,f),this.va=pi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new bu(f&&f.concurrentRequestLimit),this.Ba=new xs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=bs.prototype,n.ka=8,n.I=1,n.connect=function(f,x,w,I){Kt(0),this.W=f,this.H=x||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Jh(this,null,this.W),gi(this)};function Vu(f){if(Ll(f),f.I==3){var x=f.V++,w=Xt(f.J);if(ot(w,"SID",f.M),ot(w,"RID",x),ot(w,"TYPE","terminate"),Oa(f,w),x=new Lr(f,f.j,x),x.M=2,x.A=Sa(Xt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=x.A,w=!0),w||(x.g=Zh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),li(x)}Wh(f)}function Ts(f){f.g&&(Pu(f),f.g.cancel(),f.g=null)}function Ll(f){Ts(f),f.v&&(u.clearTimeout(f.v),f.v=null),Ul(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function gi(f){if(!Tu(f.h)&&!f.m){f.m=!0;var x=f.Ea;fe||N(),K||(fe(),K=!0),S.add(x,f),f.D=0}}function jl(f,x){return ci(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ii(m(f.Ea,f,x),Xh(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new Lr(this,this.j,f);let Z=this.o;if(this.U&&(Z?(Z=B(Z),R(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(x+=I,x>4096){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=Yh(this,Y,x),w=Xt(this.J),ot(w,"RID",f),ot(w,"CVER",22),this.G&&ot(w,"X-HTTP-Session-Id",this.G),Oa(this,w),Z&&(this.R?x="headers="+Mi(xr(Z))+"&"+x:this.u&&Ra(w,this.u,Z)),wu(this.h,Y),this.Ra&&ot(w,"TYPE","init"),this.S?(ot(w,"$req",x),ot(w,"SID","null"),Y.U=!0,ai(Y,w,null)):ai(Y,w,x),this.I=2}}else this.I==3&&(f?Mu(this,f):this.i.length==0||Tu(this.h)||Mu(this))};function Mu(f,x){var w;x?w=x.l:w=f.V++;const I=Xt(f.J);ot(I,"SID",f.M),ot(I,"RID",w),ot(I,"AID",f.K),Oa(f,I),f.u&&f.o&&Ra(I,f.u,f.o),w=new Lr(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),x&&(f.i=x.G.concat(f.i)),x=Yh(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),wu(f.h,w),ai(w,I,x)}function Oa(f,x){f.H&&Me(f.H,function(w,I){ot(x,I,w)}),f.l&&Me({},function(w,I){ot(x,I,w)})}function Yh(f,x,w){w=Math.min(f.i.length,w);const I=f.l?m(f.l.Ka,f.l,f):null;e:{var Y=f.i;let Pe=-1;for(;;){const Bt=["count="+w];Pe==-1?w>0?(Pe=Y[0].g,Bt.push("ofs="+Pe)):Pe=0:Bt.push("ofs="+Pe);let it=!0;for(let It=0;It<w;It++){var Z=Y[It].g;const vr=Y[It].map;if(Z-=Pe,Z<0)Pe=Math.max(0,Y[It].g-100),it=!1;else try{Z="req"+Z+"_"||"";try{var ge=vr instanceof Map?vr:Object.entries(vr);for(const[_i,Fr]of ge){let qr=Fr;h(Fr)&&(qr=Ce(Fr)),Bt.push(Z+_i+"="+encodeURIComponent(qr))}}catch(_i){throw Bt.push(Z+"type="+encodeURIComponent("_badmap")),_i}}catch{I&&I(vr)}}if(it){ge=Bt.join("&");break e}}ge=void 0}return f=f.i.splice(0,w),x.G=f,ge}function Kh(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;fe||N(),K||(fe(),K=!0),S.add(x,f),f.A=0}}function ka(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ii(m(f.Da,f),Xh(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Qh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ii(m(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),Ts(this),Qh(this))};function Pu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Qh(f){f.g=new Lr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=Xt(f.na);ot(x,"RID","rpc"),ot(x,"SID",f.M),ot(x,"AID",f.K),ot(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&ot(x,"TO",f.ia),ot(x,"TYPE","xmlhttp"),Oa(f,x),f.u&&f.o&&Ra(x,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=Sa(Xt(x)),w.u=null,w.R=!0,Cl(w,f)}n.Va=function(){this.C!=null&&(this.C=null,Ts(this),ka(this),Kt(19))};function Ul(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function $h(f,x){var w=null;if(f.g==x){Ul(f),Pu(f),f.g=null;var I=2}else if(hi(f.h,x))w=x.G,Au(f.h,x),I=1;else return;if(f.I!=0){if(x.o)if(I==1){w=x.u?x.u.length:0,x=Date.now()-x.F;var Y=f.D;I=An(),Mt(I,new ri(I,w)),gi(f)}else Kh(f);else if(Y=x.m,Y==3||Y==0&&x.X>0||!(I==1&&jl(f,x)||I==2&&ka(f)))switch(w&&w.length>0&&(x=f.h,x.i=x.i.concat(w)),Y){case 1:yi(f,5);break;case 4:yi(f,10);break;case 3:yi(f,6);break;default:yi(f,2)}}}function Xh(f,x){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*x}function yi(f,x){if(f.j.info("Error code "+x),x==2){var w=m(f.bb,f),I=f.Ua;const Y=!I;I=new rr(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cn(I,"https"),Sa(I),Y?Ur(I.toString(),w):Du(I.toString(),w)}else Kt(2);f.I=0,f.l&&f.l.pa(x),Wh(f),Ll(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Wh(f){if(f.I=0,f.ja=[],f.l){const x=Su(f.h);(x.length!=0||f.i.length!=0)&&(D(f.ja,x),D(f.ja,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.oa()}}function Jh(f,x,w){var I=w instanceof rr?Xt(w):new rr(w);if(I.g!="")x&&(I.g=x+"."+I.g),gs(I,I.u);else{var Y=u.location;I=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new rr(null);I&&cn(Z,I),x&&(Z.g=x),Y&&gs(Z,Y),w&&(Z.h=w),I=Z}return w=f.G,x=f.wa,w&&x&&ot(I,w,x),ot(I,"VER",f.ka),Oa(f,I),I}function Zh(f,x,w){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new mt(new di({ab:w})):new mt(f.ma),x.Fa(f.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ef(){}n=ef.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ws(){}ws.prototype.g=function(f,x){return new kn(f,x)};function kn(f,x){Ot.call(this),this.g=new bs(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!O(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!O(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new ji(this)}_(kn,Ot),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Vu(this.g)},kn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=Ce(f),f=w);x.i.push(new $t(x.Ya++,f)),x.I==3&&gi(x)},kn.prototype.N=function(){this.g.l=null,delete this.j,Vu(this.g),delete this.g,kn.Z.N.call(this)};function tf(f){kt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const w in x){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}_(tf,kt);function nf(){on.call(this),this.status=1}_(nf,on);function ji(f){this.g=f}_(ji,ef),ji.prototype.ra=function(){Mt(this.g,"a")},ji.prototype.qa=function(f){Mt(this.g,new tf(f))},ji.prototype.pa=function(f){Mt(this.g,new nf)},ji.prototype.oa=function(){Mt(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,v1=function(){return new ws},x1=function(){return An()},E1=$e,ky={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,Sd=wa,xu.COMPLETE="complete",_1=xu,yr.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,kc=yr,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,y1=mt}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="12.9.0";function m4(n){uu=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new V_("@firebase/firestore");function Ao(){return oa.logLevel}function p4(n){oa.setLogLevel(n)}function ue(n,...e){if(oa.logLevel<=We.DEBUG){const t=e.map(B_);oa.debug(`Firestore (${uu}): ${n}`,...t)}}function qt(n,...e){if(oa.logLevel<=We.ERROR){const t=e.map(B_);oa.error(`Firestore (${uu}): ${n}`,...t)}}function Jr(n,...e){if(oa.logLevel<=We.WARN){const t=e.map(B_);oa.warn(`Firestore (${uu}): ${n}`,...t)}}function B_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,b1(n,r,t)}function b1(n,e,t){let r=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw qt(r),new Error(r)}function we(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||b1(e,a,r)}function g4(n,e){n||ve(57014,e)}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Tl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(dn.UNAUTHENTICATED)))}shutdown(){}}class _4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class E4{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let l=new bn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new bn,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new bn)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new T1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class x4{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class v4{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new x4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,u1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){we(this.o===void 0,3512);const r=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(we(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new iT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=T4(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function Vy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return iy(a)===iy(l)?ke(a,l):iy(a)?1:-1}return ke(n.length,e.length)}const w4=55296,A4=57343;function iy(n){const e=n.charCodeAt(0);return e>=w4&&e<=A4}function qo(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}function w1(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="__name__";class wi{constructor(e,t,r){t===void 0?t=0:t>e.length&&ve(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ve(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=wi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ke(e.length,t.length)}static compareSegments(e,t){const r=wi.isNumericId(e),a=wi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?wi.extractNumericId(e).compare(wi.extractNumericId(t)):Vy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return na.fromString(e.substring(4,e.length-2))}}class Ge extends wi{construct(e,t,r){return new Ge(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new Ge(t)}static emptyPath(){return new Ge([])}}const S4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends wi{construct(e,t,r){return new Ct(e,t,r)}static isValidIdentifier(e){return S4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sT}static keyField(){return new Ct([sT])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(t)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ge.fromString(e))}static fromName(e){return new ye(Ge.fromString(e).popFirst(5))}static empty(){return new ye(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n,e,t){if(!t)throw new oe(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function A1(n,e,t,r){if(e===!0&&r===!0)throw new oe(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aT(n){if(!ye.isDocumentKey(n))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lT(n){if(ye.isDocumentKey(n))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function S1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ym(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ve(12329,{type:typeof n})}function nt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ym(n);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function I1(n,e){if(e<=0)throw new oe(J.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Eh(n,e){if(!S1(n))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new oe(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=-62135596800,uT=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*uT);return new lt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<oT)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uT}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eh(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-oT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:rn("string",lt._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new lt(0,0))}static max(){return new Ie(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=-1;class qd{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function My(n){return n.fields.find((e=>e.kind===2))}function Ja(n){return n.fields.filter((e=>e.kind!==2))}qd.UNKNOWN_ID=-1;class Id{constructor(e,t){this.fieldPath=e,this.kind=t}}class th{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new th(0,pr.min())}}function N1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(r===1e9?new lt(t+1,0):new lt(t,r));return new pr(a,ye.empty(),e)}function R1(n){return new pr(n.readTime,n.key,Ho)}class pr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pr(Ie.min(),ye.empty(),Ho)}static max(){return new pr(Ie.max(),ye.empty(),Ho)}}function q_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==C1)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):G.reject(t)}static resolve(e){return new G(((t,r)=>{t(e)}))}static reject(e){return new G(((t,r)=>{r(e)}))}static waitFor(e){return new G(((t,r)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&t()}),(d=>r(d)))})),u=!0,l===a&&t()}))}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next((a=>a?G.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new G(((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;t(e[m]).next((y=>{u[m]=y,++h,h===l&&r(u)}),(y=>a(y)))}}))}static doWhile(e,t){return new G(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="SimpleDb";class _m{static open(e,t,r,a){try{return new _m(t,e.transaction(a,r))}catch(l){throw new Bc(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new bn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Bc(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=H_(r.target.error);this.S.reject(new Bc(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ue(fr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new N4(t)}}class Ri{static delete(e){return ue(fr,"Removing database:",e),tl(C_().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!t1())return!1;if(Ri.F())return!0;const e=zd(),t=Ri.M(e),r=0<t&&t<10,a=O1(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Ri.M(zd())===12.2&&qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ue(fr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;t(u)},a.onblocked=()=>{r(new Bc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?r(new oe(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new oe(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Bc(e,u))},a.onupgradeneeded=l=>{ue(fr,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,a.transaction,l.oldVersion,this.version).next((()=>{ue(fr,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,a){const l=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=_m.open(this.db,e,l?"readonly":"readwrite",r),d=a(h).next((m=>(h.C(),m))).catch((m=>(h.abort(m),G.reject(m)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,m=d.name!=="FirebaseError"&&u<3;if(ue(fr,"Transaction failed with error:",d.message,"Retrying:",m),this.close(),!m)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function O1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class I4{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return tl(this.U.delete())}}class Bc extends oe{constructor(e,t){super(J.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ga(n){return n.name==="IndexedDbTransactionError"}class N4{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue(fr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue(fr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),tl(r)}add(e){return ue(fr,"ADD",this.store.name,e,e),tl(this.store.add(e))}get(e){return tl(this.store.get(e)).next((t=>(t===void 0&&(t=null),ue(fr,"GET",this.store.name,e,t),t)))}delete(e){return ue(fr,"DELETE",this.store.name,e),tl(this.store.delete(e))}count(){return ue(fr,"COUNT",this.store.name),tl(this.store.count())}H(e,t){const r=this.options(e,t),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(r.range);return new G(((u,h)=>{l.onerror=d=>{h(d.target.error)},l.onsuccess=d=>{u(d.target.result)}}))}{const l=this.cursor(r),u=[];return this.J(l,((h,d)=>{u.push(d)})).next((()=>u))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new G(((a,l)=>{r.onerror=u=>{l(u.target.error)},r.onsuccess=u=>{a(u.target.result)}}))}X(e,t){ue(fr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const a=this.cursor(r);return this.J(a,((l,u,h)=>h.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.J(a,t)}te(e){const t=this.cursor({});return new G(((r,a)=>{t.onerror=l=>{const u=H_(l.target.error);a(u)},t.onsuccess=l=>{const u=l.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():r()})):r()}}))}J(e,t){const r=[];return new G(((a,l)=>{e.onerror=u=>{l(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const d=new I4(h),m=t(h.primaryKey,h.value,d);if(m instanceof G){const y=m.catch((_=>(d.done(),G.reject(_))));r.push(y)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>G.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function tl(n){return new G(((e,t)=>{n.onsuccess=r=>{const a=r.target.result;e(a)},n.onerror=r=>{const a=H_(r.target.error);t(a)}}))}let cT=!1;function H_(n){const e=Ri.M(zd());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cT||(cT=!0,setTimeout((()=>{throw r}),0)),r}}return n}const zc="IndexBackfiller";class R4{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ue(zc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ue(zc,`Documents written: ${t}`)}catch(t){ga(t)?ue(zc,"Ignoring IndexedDB error during index backfill: ",t):await pa(t)}await this.re(6e4)}))}}class C4{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let a=t,l=!0;return G.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!r.has(u))return ue(zc,`Processing collection: ${u}`),this.oe(e,u,a).next((h=>{a-=h,r.add(u)}));l=!1})))).next((()=>t-a))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(a,l))).next((h=>(ue(zc,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>u.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((a,l)=>{const u=R1(l);q_(u,r)>0&&(r=u)})),new pr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=-1;function xh(n){return n==null}function nh(n){return n===0&&1/n==-1/0}function k1(n){return typeof n=="number"&&Number.isInteger(n)&&!nh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="";function Cn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hT(e)),e=D4(n.get(t),e);return hT(e)}function D4(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case Hd:t+="";break;default:t+=l}}return t}function hT(n){return n+Hd+""}function Ii(n){const e=n.length;if(we(e>=2,64408,{path:n}),e===2)return we(n.charAt(0)===Hd&&n.charAt(1)==="",56145,{path:n}),Ge.emptyPath();const t=e-2,r=[];let a="";for(let l=0;l<e;){const u=n.indexOf(Hd,l);switch((u<0||u>t)&&ve(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(l,u);let d;a.length===0?d=h:(a+=h,d=a,a=""),r.push(d);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:ve(61167,{path:n})}l=u+2}return new Ge(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="remoteDocuments",vh="owner",yo="owner",rh="mutationQueues",O4="userId",Qr="mutations",fT="batchId",ll="userMutationsIndex",dT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n,e){return[n,Cn(e)]}function V1(n,e,t){return[n,Cn(e),t]}const k4={},Go="documentMutations",Gd="remoteDocumentsV14",V4=["prefixPath","collectionGroup","readTime","documentId"],Rd="documentKeyIndex",M4=["prefixPath","collectionGroup","documentId"],M1="collectionGroupIndex",P4=["collectionGroup","readTime","prefixPath","documentId"],ih="remoteDocumentGlobal",Py="remoteDocumentGlobalKey",Yo="targets",P1="queryTargetsIndex",L4=["canonicalId","targetId"],Ko="targetDocuments",j4=["targetId","path"],G_="documentTargetsIndex",U4=["path","targetId"],Yd="targetGlobalKey",cl="targetGlobal",sh="collectionParents",B4=["collectionId","parent"],Qo="clientMetadata",z4="clientId",Em="bundles",F4="bundleId",xm="namedQueries",q4="name",Y_="indexConfiguration",H4="indexId",Ly="collectionGroupIndex",G4="collectionGroup",Fc="indexState",Y4=["indexId","uid"],L1="sequenceNumberIndex",K4=["uid","sequenceNumber"],qc="indexEntries",Q4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],j1="documentKeyIndex",$4=["indexId","uid","orderedDocumentKey"],vm="documentOverlays",X4=["userId","collectionPath","documentId"],jy="collectionPathOverlayIndex",W4=["userId","collectionPath","largestBatchId"],U1="collectionGroupOverlayIndex",J4=["userId","collectionGroup","largestBatchId"],K_="globals",Z4="name",B1=[rh,Qr,Go,Za,Yo,vh,cl,Ko,Qo,ih,sh,Em,xm],eV=[...B1,vm],z1=[rh,Qr,Go,Gd,Yo,vh,cl,Ko,Qo,ih,sh,Em,xm,vm],F1=z1,Q_=[...F1,Y_,Fc,qc],tV=Q_,q1=[...Q_,K_],nV=q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends D1{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function ln(n,e){const t=Ee(n);return Ri.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function H1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ud(this.root,e,this.comparator,!0)}}class ud{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??xn.RED,this.left=a??xn.EMPTY,this.right=l??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new xn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return xn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pT(this.data.getIterator())}getIteratorFrom(e){return new pT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ft(this.comparator);return t.data=e,t}}class pT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _o(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new ft(Ct.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new G1("Invalid base64 string: "+l):l}})(e);return new jt(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const iV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(n){if(we(!!n,39018),typeof n=="string"){let e=0;const t=iV.exec(n);if(we(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function as(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="server_timestamp",K1="__type__",Q1="__previous_value__",$1="__local_write_time__";function bm(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[K1])==null?void 0:r.stringValue)===Y1}function Tm(n){const e=n.mapValue.fields[Q1];return bm(e)?Tm(e):e}function ah(n){const e=ss(n.mapValue.fields[$1].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,t,r,a,l,u,h,d,m,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=_}}const By="(default)";class ua{constructor(e,t){this.projectId=e,this.database=t||By}static empty(){return new ua("","")}get isDefaultDatabase(){return this.database===By}isEqual(e){return e instanceof ua&&e.projectId===this.projectId&&e.database===this.database}}function aV(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ua(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="__type__",X1="__max__",Zs={mapValue:{fields:{__type__:{stringValue:X1}}}},X_="__vector__",$o="value",Cd={nullValue:"NULL_VALUE"};function ca(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bm(n)?4:W1(n)?9007199254740991:wm(n)?10:11:ve(28295,{value:n})}function Di(n,e){if(n===e)return!0;const t=ca(n);if(t!==ca(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ah(n).isEqual(ah(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ss(a.timestampValue),h=ss(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return as(a.bytesValue).isEqual(as(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Rt(a.doubleValue),h=Rt(l.doubleValue);return u===h?nh(u)===nh(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return qo(n.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(mT(u)!==mT(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Di(u[d],h[d])))return!1;return!0})(n,e);default:return ve(52216,{left:n})}}function lh(n,e){return(n.values||[]).find((t=>Di(t,e)))!==void 0}function ha(n,e){if(n===e)return 0;const t=ca(n),r=ca(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Rt(l.integerValue||l.doubleValue),d=Rt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return gT(n.timestampValue,e.timestampValue);case 4:return gT(ah(n),ah(e));case 5:return Vy(n.stringValue,e.stringValue);case 6:return(function(l,u){const h=as(l),d=as(u);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=ke(h[m],d[m]);if(y!==0)return y}return ke(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=ke(Rt(l.latitude),Rt(u.latitude));return h!==0?h:ke(Rt(l.longitude),Rt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return yT(n.arrayValue,e.arrayValue);case 10:return(function(l,u){var v,b,D,M;const h=l.fields||{},d=u.fields||{},m=(v=h[$o])==null?void 0:v.arrayValue,y=(b=d[$o])==null?void 0:b.arrayValue,_=ke(((D=m==null?void 0:m.values)==null?void 0:D.length)||0,((M=y==null?void 0:y.values)==null?void 0:M.length)||0);return _!==0?_:yT(m,y)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Zs.mapValue&&u===Zs.mapValue)return 0;if(l===Zs.mapValue)return 1;if(u===Zs.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=u.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const v=Vy(d[_],y[_]);if(v!==0)return v;const b=ha(h[d[_]],m[y[_]]);if(b!==0)return b}return ke(d.length,y.length)})(n.mapValue,e.mapValue);default:throw ve(23264,{he:t})}}function gT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=ss(n),r=ss(e),a=ke(t.seconds,r.seconds);return a!==0?a:ke(t.nanos,r.nanos)}function yT(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=ha(t[a],r[a]);if(l)return l}return ke(t.length,r.length)}function Xo(n){return zy(n)}function zy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ss(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return as(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=zy(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${zy(t.fields[u])}`;return a+"}"})(n.mapValue):ve(61005,{value:n})}function Dd(n){switch(ca(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tm(n);return e?16+Dd(e):16;case 5:return 2*n.stringValue.length;case 6:return as(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Dd(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return ya(r.fields,((l,u)=>{a+=l.length+Dd(u)})),a})(n.mapValue);default:throw ve(13486,{value:n})}}function fl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fy(n){return!!n&&"integerValue"in n}function oh(n){return!!n&&"arrayValue"in n}function _T(n){return!!n&&"nullValue"in n}function ET(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Od(n){return!!n&&"mapValue"in n}function wm(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[$_])==null?void 0:r.stringValue)===X_}function Hc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ya(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Hc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hc(n.arrayValue.values[t]);return e}return{...n}}function W1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===X1}const J1={mapValue:{fields:{[$_]:{stringValue:X_},[$o]:{arrayValue:{}}}}};function lV(n){return"nullValue"in n?Cd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?fl(ua.empty(),ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?wm(n)?J1:{mapValue:{}}:ve(35942,{value:n})}function oV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?fl(ua.empty(),ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?J1:"mapValue"in n?wm(n)?{mapValue:{}}:Zs:ve(61959,{value:n})}function xT(n,e){const t=ha(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function vT(n,e){const t=ha(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Od(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hc(t)}setAll(e){let t=Ct.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,a),r={},a=[],t=h.popLast()}u?r[h.lastSegment()]=Hc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Od(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Od(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ya(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new vn(Hc(this.value))}}function Z1(n){const e=[];return ya(n.fields,((t,r)=>{const a=new Ct([t]);if(Od(r)){const l=Z1(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t,r,a,l,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new St(e,0,Ie.min(),Ie.min(),Ie.min(),vn.empty(),0)}static newFoundDocument(e,t,r,a){return new St(e,1,t,Ie.min(),r,a,0)}static newNoDocument(e,t){return new St(e,2,t,Ie.min(),Ie.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new St(e,3,t,Ie.min(),Ie.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this.position=e,this.inclusive=t}}function bT(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=ha(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function TT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Di(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t="asc"){this.field=e,this.dir=t}}function uV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{}class Qe extends eI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new cV(e,t,r):t==="array-contains"?new dV(e,r):t==="in"?new aI(e,r):t==="not-in"?new mV(e,r):t==="array-contains-any"?new pV(e,r):new Qe(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new hV(e,r):new fV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ha(t,this.value)):t!==null&&ca(this.value)===ca(t)&&this.matchesComparison(ha(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ht extends eI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ht(e,t)}matches(e){return Wo(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wo(n){return n.op==="and"}function qy(n){return n.op==="or"}function W_(n){return tI(n)&&Wo(n)}function tI(n){for(const e of n.filters)if(e instanceof ht)return!1;return!0}function Hy(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+Xo(n.value);if(W_(n))return n.filters.map((e=>Hy(e))).join(",");{const e=n.filters.map((t=>Hy(t))).join(",");return`${n.op}(${e})`}}function nI(n,e){return n instanceof Qe?(function(r,a){return a instanceof Qe&&r.op===a.op&&r.field.isEqual(a.field)&&Di(r.value,a.value)})(n,e):n instanceof ht?(function(r,a){return a instanceof ht&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,h)=>l&&nI(u,a.filters[h])),!0):!1})(n,e):void ve(19439)}function rI(n,e){const t=n.filters.concat(e);return ht.create(t,n.op)}function iI(n){return n instanceof Qe?(function(t){return`${t.field.canonicalString()} ${t.op} ${Xo(t.value)}`})(n):n instanceof ht?(function(t){return t.op.toString()+" {"+t.getFilters().map(iI).join(" ,")+"}"})(n):"Filter"}class cV extends Qe{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class hV extends Qe{constructor(e,t){super(e,"in",t),this.keys=sI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class fV extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=sI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function sI(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>ye.fromName(r.referenceValue)))}class dV extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return oh(t)&&lh(t.arrayValue,this.value)}}class aI extends Qe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&lh(this.value.arrayValue,t)}}class mV extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lh(this.value.arrayValue,t)}}class pV extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!oh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>lh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,t=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function Gy(n,e=null,t=[],r=[],a=null,l=null,u=null){return new gV(n,e,t,r,a,l,u)}function dl(n){const e=Ee(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Hy(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Xo(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Xo(r))).join(",")),e.Te=t}return e.Te}function bh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!TT(n.startAt,e.startAt)&&TT(n.endAt,e.endAt)}function Kd(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Qd(n,e){return n.filters.filter((t=>t instanceof Qe&&t.field.isEqual(e)))}function wT(n,e,t){let r=Cd,a=!0;for(const l of Qd(n,e)){let u=Cd,h=!0;switch(l.op){case"<":case"<=":u=lV(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,h=!1;break;case"!=":case"not-in":u=Cd}xT({value:r,inclusive:a},{value:u,inclusive:h})<0&&(r=u,a=h)}if(t!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];xT({value:r,inclusive:a},{value:u,inclusive:t.inclusive})<0&&(r=u,a=t.inclusive);break}}return{value:r,inclusive:a}}function AT(n,e,t){let r=Zs,a=!0;for(const l of Qd(n,e)){let u=Zs,h=!0;switch(l.op){case">=":case">":u=oV(l.value),h=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,h=!1;break;case"!=":case"not-in":u=Zs}vT({value:r,inclusive:a},{value:u,inclusive:h})>0&&(r=u,a=h)}if(t!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];vT({value:r,inclusive:a},{value:u,inclusive:t.inclusive})>0&&(r=u,a=t.inclusive);break}}return{value:r,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t=null,r=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function lI(n,e,t,r,a,l,u,h){return new os(n,e,t,r,a,l,u,h)}function cu(n){return new os(n)}function ST(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yV(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function J_(n){return n.collectionGroup!==null}function Oo(n){const e=Ee(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ft(Ct.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new uh(l,r))})),t.has(Ct.keyField().canonicalString())||e.Ie.push(new uh(Ct.keyField(),r))}return e.Ie}function jn(n){const e=Ee(n);return e.Ee||(e.Ee=_V(e,Oo(n))),e.Ee}function _V(n,e){if(n.limitType==="F")return Gy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new uh(a.field,l)}));const t=n.endAt?new fa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fa(n.startAt.position,n.startAt.inclusive):null;return Gy(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Yy(n,e){const t=n.filters.concat([e]);return new os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function EV(n,e){const t=n.explicitOrderBy.concat([e]);return new os(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function $d(n,e,t){return new os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xV(n,e){return new os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function vV(n,e){return new os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function Th(n,e){return bh(jn(n),jn(e))&&n.limitType===e.limitType}function oI(n){return`${dl(jn(n))}|lt:${n.limitType}`}function So(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>iI(a))).join(", ")}]`),xh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Xo(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Xo(a))).join(",")),`Target(${r})`})(jn(n))}; limitType=${n.limitType})`}function wh(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ye.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of Oo(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const m=bT(u,h,d);return u.inclusive?m<=0:m<0})(r.startAt,Oo(r),a)||r.endAt&&!(function(u,h,d){const m=bT(u,h,d);return u.inclusive?m>=0:m>0})(r.endAt,Oo(r),a))})(n,e)}function uI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cI(n){return(e,t)=>{let r=!1;for(const a of Oo(n)){const l=bV(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function bV(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(l,u,h){const d=u.data.field(l),m=h.data.field(l);return d!==null&&m!==null?ha(d,m):ve(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return H1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new bt(ye.comparator);function Zn(){return TV}const hI=new bt(ye.comparator);function Vc(...n){let e=hI;for(const t of n)e=e.insert(t.key,t);return e}function fI(n){let e=hI;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ni(){return Gc()}function dI(){return Gc()}function Gc(){return new us((n=>n.toString()),((n,e)=>n.isEqual(e)))}const wV=new bt(ye.comparator),AV=new ft(ye.comparator);function je(...n){let e=AV;for(const t of n)e=e.add(t);return e}const SV=new ft(ke);function Z_(){return SV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function mI(n){return{integerValue:""+n}}function pI(n,e){return k1(e)?mI(e):eE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function IV(n,e,t){return n instanceof Jo?(function(a,l){const u={fields:{[K1]:{stringValue:Y1},[$1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&bm(l)&&(l=Tm(l)),l&&(u.fields[Q1]=l),{mapValue:u}})(t,e):n instanceof ml?yI(n,e):n instanceof pl?_I(n,e):(function(a,l){const u=gI(a,l),h=IT(u)+IT(a.Ae);return Fy(u)&&Fy(a.Ae)?mI(h):eE(a.serializer,h)})(n,e)}function NV(n,e,t){return n instanceof ml?yI(n,e):n instanceof pl?_I(n,e):t}function gI(n,e){return n instanceof Zo?(function(r){return Fy(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Jo extends Am{}class ml extends Am{constructor(e){super(),this.elements=e}}function yI(n,e){const t=EI(e);for(const r of n.elements)t.some((a=>Di(a,r)))||t.push(r);return{arrayValue:{values:t}}}class pl extends Am{constructor(e){super(),this.elements=e}}function _I(n,e){let t=EI(e);for(const r of n.elements)t=t.filter((a=>!Di(a,r)));return{arrayValue:{values:t}}}class Zo extends Am{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function IT(n){return Rt(n.integerValue||n.doubleValue)}function EI(n){return oh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t){this.field=e,this.transform=t}}function RV(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof ml&&a instanceof ml||r instanceof pl&&a instanceof pl?qo(r.elements,a.elements,Di):r instanceof Zo&&a instanceof Zo?Di(r.Ae,a.Ae):r instanceof Jo&&a instanceof Jo})(n.transform,e.transform)}class CV{constructor(e,t){this.version=e,this.transformResults=t}}class Dt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dt}static exists(e){return new Dt(void 0,e)}static updateTime(e){return new Dt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Sm{}function xI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fu(n.key,Dt.none()):new hu(n.key,n.data,Dt.none());{const t=n.data,r=vn.empty();let a=new ft(Ct.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new cs(n.key,r,new Jn(a.toArray()),Dt.none())}}function DV(n,e,t){n instanceof hu?(function(a,l,u){const h=a.value.clone(),d=RT(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof cs?(function(a,l,u){if(!kd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=RT(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(vI(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Yc(n,e,t,r){return n instanceof hu?(function(l,u,h,d){if(!kd(l.precondition,u))return h;const m=l.value.clone(),y=CT(l.fieldTransforms,d,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof cs?(function(l,u,h,d){if(!kd(l.precondition,u))return h;const m=CT(l.fieldTransforms,d,u),y=u.data;return y.setAll(vI(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(l,u,h){return kd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function OV(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=gI(r.transform,a||null);l!=null&&(t===null&&(t=vn.empty()),t.set(r.field,l))}return t||null}function NT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&qo(r,a,((l,u)=>RV(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hu extends Sm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class cs extends Sm{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function vI(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function RT(n,e,t){const r=new Map;we(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,NV(u,h,t[a]))}return r}function CT(n,e,t){const r=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);r.set(a.field,IV(l,u,e))}return r}class fu extends Sm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tE extends Sm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&DV(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dI();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(a.key)?null:h;const d=xI(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,((t,r)=>NT(t,r)))&&qo(this.baseMutations,e.baseMutations,((t,r)=>NT(t,r)))}}class rE{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return wV})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new rE(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,Je;function bI(n){switch(n){case J.OK:return ve(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve(15467,{code:n})}}function TI(n){if(n===void 0)return qt("GRPC error has no .code"),J.UNKNOWN;switch(n){case tn.OK:return J.OK;case tn.CANCELLED:return J.CANCELLED;case tn.UNKNOWN:return J.UNKNOWN;case tn.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case tn.INTERNAL:return J.INTERNAL;case tn.UNAVAILABLE:return J.UNAVAILABLE;case tn.UNAUTHENTICATED:return J.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case tn.NOT_FOUND:return J.NOT_FOUND;case tn.ALREADY_EXISTS:return J.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return J.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case tn.ABORTED:return J.ABORTED;case tn.OUT_OF_RANGE:return J.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return J.UNIMPLEMENTED;case tn.DATA_LOSS:return J.DATA_LOSS;default:return ve(39323,{code:n})}}(Je=tn||(tn={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=new na([4294967295,4294967295],0);function DT(n){const e=wI().encode(n),t=new g1;return t.update(e),new Uint8Array(t.digest())}function OT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new na([t,r],0),new na([a,l],0)]}class sE{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Mc(`Invalid padding: ${t}`);if(r<0)throw new Mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Mc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=na.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(na.fromNumber(r)));return a.compare(VV)===1&&(a=new na([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=DT(e),[r,a]=OT(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new sE(l,a,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=DT(e),[r,a]=OT(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Ih.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Sh(Ie.min(),a,new bt(ke),Zn(),je())}}class Ih{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ih(r,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class AI{constructor(e,t){this.targetId=e,this.Ce=t}}class SI{constructor(e,t,r=jt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class kT{constructor(){this.ve=0,this.Fe=VT(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:ve(38017,{changeType:l})}})),new Ih(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=VT()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class MV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zn(),this.He=cd(),this.Je=cd(),this.Ze=new bt(ke)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Kd(l))if(r===0){const u=new ye(l.path);this.et(t,u,St.newNoDocument(u,Ie.min()))}else we(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let u,h;try{u=as(r).toUint8Array()}catch(d){if(d instanceof G1)return Jr("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new sE(u,a,l)}catch(d){return Jr(d instanceof Mc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Kd(h.target)){const d=new ye(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,St.newNoDocument(d,e))}l.Be&&(t.set(u,l.ke()),l.Ke())}}));let r=je();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Sh(e,t,this.Ze,this.je,r);return this.je=Zn(),this.He=cd(),this.Je=cd(),this.Ze=new bt(ke),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new kT,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new ft(ke),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new ft(ke),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function cd(){return new bt(ye.comparator)}function VT(){return new bt(ye.comparator)}const PV={asc:"ASCENDING",desc:"DESCENDING"},LV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jV={and:"AND",or:"OR"};class UV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ky(n,e){return n.useProto3Json||xh(e)?e:{value:e}}function eu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function II(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BV(n,e){return eu(n,e.toTimestamp())}function Gt(n){return we(!!n,49232),Ie.fromTimestamp((function(t){const r=ss(t);return new lt(r.seconds,r.nanos)})(n))}function aE(n,e){return Qy(n,e).canonicalString()}function Qy(n,e){const t=(function(a){return new Ge(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function NI(n){const e=Ge.fromString(n);return we(jI(e),10190,{key:e.toString()}),e}function ch(n,e){return aE(n.databaseId,e.path)}function Ci(n,e){const t=NI(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(DI(t))}function RI(n,e){return aE(n.databaseId,e)}function CI(n){const e=NI(n);return e.length===4?Ge.emptyPath():DI(e)}function $y(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DI(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function MT(n,e,t){return{name:ch(n,e),fields:t.value.mapValue.fields}}function OI(n,e,t){const r=Ci(n,e.name),a=Gt(e.updateTime),l=e.createTime?Gt(e.createTime):Ie.min(),u=new vn({mapValue:{fields:e.fields}}),h=St.newFoundDocument(r,a,l,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function zV(n,e){return"found"in e?(function(r,a){we(!!a.found,43571),a.found.name,a.found.updateTime;const l=Ci(r,a.found.name),u=Gt(a.found.updateTime),h=a.found.createTime?Gt(a.found.createTime):Ie.min(),d=new vn({mapValue:{fields:a.found.fields}});return St.newFoundDocument(l,u,h,d)})(n,e):"missing"in e?(function(r,a){we(!!a.missing,3894),we(!!a.readTime,22933);const l=Ci(r,a.missing),u=Gt(a.readTime);return St.newNoDocument(l,u)})(n,e):ve(7234,{result:e})}function FV(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ve(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(we(y===void 0||typeof y=="string",58123),jt.fromBase64String(y||"")):(we(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),jt.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const y=m.code===void 0?J.UNKNOWN:TI(m.code);return new oe(y,m.message||"")})(u);t=new SI(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ci(n,r.document.name),l=Gt(r.document.updateTime),u=r.document.createTime?Gt(r.document.createTime):Ie.min(),h=new vn({mapValue:{fields:r.document.fields}}),d=St.newFoundDocument(a,l,u,h),m=r.targetIds||[],y=r.removedTargetIds||[];t=new Vd(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Ci(n,r.document),l=r.readTime?Gt(r.readTime):Ie.min(),u=St.newNoDocument(a,l),h=r.removedTargetIds||[];t=new Vd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Ci(n,r.document),l=r.removedTargetIds||[];t=new Vd([],l,a,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new kV(a,l),h=r.targetId;t=new AI(h,u)}}return t}function hh(n,e){let t;if(e instanceof hu)t={update:MT(n,e.key,e.value)};else if(e instanceof fu)t={delete:ch(n,e.key)};else if(e instanceof cs)t={update:MT(n,e.key,e.data),updateMask:QV(e.fieldMask)};else{if(!(e instanceof tE))return ve(16599,{dt:e.type});t={verify:ch(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const h=u.transform;if(h instanceof Jo)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ml)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Zo)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw ve(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:BV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ve(27497)})(n,e.precondition)),t}function Xy(n,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?Dt.updateTime(Gt(l.updateTime)):l.exists!==void 0?Dt.exists(l.exists):Dt.none()})(e.currentDocument):Dt.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(u,h){let d=null;if("setToServerValue"in h)we(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Jo;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];d=new ml(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];d=new pl(y)}else"increment"in h?d=new Zo(u,h.increment):ve(16584,{proto:h});const m=Ct.fromServerFormat(h.fieldPath);return new Ah(m,d)})(n,a))):[];if(e.update){e.update.name;const a=Ci(n,e.update.name),l=new vn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(d){const m=d.fieldPaths||[];return new Jn(m.map((y=>Ct.fromServerFormat(y))))})(e.updateMask);return new cs(a,l,u,t,r)}return new hu(a,l,t,r)}if(e.delete){const a=Ci(n,e.delete);return new fu(a,t)}if(e.verify){const a=Ci(n,e.verify);return new tE(a,t)}return ve(1463,{proto:e})}function qV(n,e){return n&&n.length>0?(we(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?Gt(a.updateTime):Gt(l);return u.isEqual(Ie.min())&&(u=Gt(l)),new CV(u,a.transformResults||[])})(t,e)))):[]}function kI(n,e){return{documents:[RI(n,e.path)]}}function VI(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=RI(n,a);const l=(function(m){if(m.length!==0)return LI(ht.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((y=>(function(v){return{field:Io(v.field),direction:GV(v.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Ky(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function MI(n){let e=CI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){we(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(_){const v=PI(_);return v instanceof ht&&W_(v)?v.getFilters():[v]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((v=>(function(D){return new uh(No(D.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(v)))})(t.orderBy));let h=null;t.limit&&(h=(function(_){let v;return v=typeof _=="object"?_.value:_,xh(v)?null:v})(t.limit));let d=null;t.startAt&&(d=(function(_){const v=!!_.before,b=_.values||[];return new fa(b,v)})(t.startAt));let m=null;return t.endAt&&(m=(function(_){const v=!_.before,b=_.values||[];return new fa(b,v)})(t.endAt)),lI(e,a,u,l,h,"F",d,m)}function HV(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PI(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=No(t.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=No(t.unaryFilter.field);return Qe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(t.unaryFilter.field);return Qe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=No(t.unaryFilter.field);return Qe.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Qe.create(No(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ht.create(t.compositeFilter.filters.map((r=>PI(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(t.compositeFilter.op))})(n):ve(30097,{filter:n})}function GV(n){return PV[n]}function YV(n){return LV[n]}function KV(n){return jV[n]}function Io(n){return{fieldPath:n.canonicalString()}}function No(n){return Ct.fromServerFormat(n.fieldPath)}function LI(n){return n instanceof Qe?(function(t){if(t.op==="=="){if(ET(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(_T(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ET(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(_T(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:YV(t.op),value:t.value}}})(n):n instanceof ht?(function(t){const r=t.getFilters().map((a=>LI(a)));return r.length===1?r[0]:{compositeFilter:{op:KV(t.op),filters:r}}})(n):ve(54877,{filter:n})}function QV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function jI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function UI(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,t,r,a,l=Ie.min(),u=Ie.min(),h=jt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.yt=e}}function $V(n,e){let t;if(e.document)t=OI(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ye.fromSegments(e.noDocument.path),a=yl(e.noDocument.readTime);t=St.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ve(56709);{const r=ye.fromSegments(e.unknownDocument.path),a=yl(e.unknownDocument.version);t=St.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime((function(a){const l=new lt(a[0],a[1]);return Ie.fromTimestamp(l)})(e.readTime)),t}function PT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Xd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(l,u){return{name:ch(l,u.key),fields:u.data.value.mapValue.fields,updateTime:eu(l,u.version.toTimestamp()),createTime:eu(l,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:gl(e.version)};else{if(!e.isUnknownDocument())return ve(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:gl(e.version)}}return r}function Xd(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function gl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yl(n){const e=new lt(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function nl(n,e){const t=(e.baseMutations||[]).map((l=>Xy(n.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const u=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const h=e.mutations[l+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const r=e.mutations.map((l=>Xy(n.yt,l))),a=lt.fromMillis(e.localWriteTimeMs);return new nE(e.batchId,a,t,r)}function Pc(n){const e=yl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?yl(n.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return we(u===1,1966,{count:u}),jn(cu(CI(l.documents[0])))})(n.query):(function(l){return jn(MI(l))})(n.query),new es(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,jt.fromBase64String(n.resumeToken))}function zI(n,e){const t=gl(e.snapshotVersion),r=gl(e.lastLimboFreeSnapshotVersion);let a;a=Kd(e.target)?kI(n.yt,e.target):VI(n.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dl(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function lE(n){const e=MI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$d(e,e.limit,"L"):e}function sy(n,e){return new iE(e.largestBatchId,Xy(n.yt,e.overlayMutation))}function LT(n,e){const t=e.path.lastSegment();return[n,Cn(e.path.popLast()),t]}function jT(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:gl(r.readTime),documentKey:Cn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{getBundleMetadata(e,t){return UT(e).get(t).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:yl(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(e,t){return UT(e).put((function(a){return{bundleId:a.id,createTime:gl(Gt(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return BT(e).get(t).next((r=>{if(r)return(function(l){return{name:l.name,query:lE(l.bundledQuery),readTime:yl(l.readTime)}})(r)}))}saveNamedQuery(e,t){return BT(e).put((function(a){return{name:a.name,readTime:gl(Gt(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function UT(n){return ln(n,Em)}function BT(n){return ln(n,xm)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new Im(e,r)}getOverlay(e,t){return bc(e).get(LT(this.userId,t)).next((r=>r?sy(this.serializer,r):null))}getOverlays(e,t){const r=Ni();return G.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){const a=[];return r.forEach(((l,u)=>{const h=new iE(t,u);a.push(this.bt(e,h))})),G.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach((u=>a.add(Cn(u.getCollectionPath()))));const l=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);l.push(bc(e).X(jy,h))})),G.waitFor(l)}getOverlaysForCollection(e,t,r){const a=Ni(),l=Cn(t),u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return bc(e).H(jy,u).next((h=>{for(const d of h){const m=sy(this.serializer,d);a.set(m.getKey(),m)}return a}))}getOverlaysForCollectionGroup(e,t,r,a){const l=Ni();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bc(e).ee({index:U1,range:h},((d,m,y)=>{const _=sy(this.serializer,m);l.size()<a||_.largestBatchId===u?(l.set(_.getKey(),_),u=_.largestBatchId):y.done()})).next((()=>l))}bt(e,t){return bc(e).put((function(a,l,u){const[h,d,m]=LT(l,u.mutation.key);return{userId:l,collectionPath:d,documentId:m,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:hh(a.yt,u.mutation)}})(this.serializer,this.userId,t))}}function bc(n){return ln(n,vm)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{St(e){return ln(e,K_)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t==null?void 0:t.value;return r?jt.fromUint8Array(r):jt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Rt(e.integerValue));else if("doubleValue"in e){const r=Rt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),nh(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=ss(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(as(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?W1(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):wm(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):ve(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const a of Object.keys(r))this.Ot(a,t),this.Ct(r[a],t)}kt(e,t){var u,h;const r=e.fields||{};this.Ft(t,53);const a=$o,l=((h=(u=r[a].arrayValue)==null?void 0:u.values)==null?void 0:h.length)||0;this.Ft(t,15),t.Mt(Rt(l)),this.Ot(a,t),this.Ct(r[a],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const a of r)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),ye.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}rl.Wt=new rl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=255;function JV(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function zT(n){const e=64-(function(r){let a=0;for(let l=0;l<8;++l){const u=JV(255&r[l]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(e/8)}class ZV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const a=t.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(e){const t=this.en(e),r=zT(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),r=zT(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(Eo),this.sn(255)}_n(){this.an(Eo),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Eo?(this.sn(Eo),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Eo?(this.an(Eo),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class eM{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class tM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Tc{constructor(){this.cn=new ZV,this.ascending=new eM(this.cn),this.descending=new tM(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t,r,a){this.hn=e,this.Pn=t,this.Tn=r,this.In=a}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new il(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:Md(this.Tn),directionalValue:Md(this.In),orderedDocumentKey:Md(t),documentKey:r.path.toArray()}}An(e,t,r){const a=this.Rn(e,t,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ks(n,e){let t=n.hn-e.hn;return t!==0?t:(t=FT(n.Tn,e.Tn),t!==0?t:(t=FT(n.In,e.In),t!==0?t:ye.comparator(n.Pn,e.Pn)))}function FT(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Md(n){return e1()?(function(t){let r="";for(let a=0;a<t.length;a++)r+=String.fromCharCode(t[a]);return r})(n):n}function qT(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(n)}class HT{constructor(e){this.Vn=new ft(((t,r)=>Ct.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(we(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=My(e);if(t!==void 0&&!this.pn(t))return!1;const r=Ja(e);let a=new Set,l=0,u=0;for(;l<r.length&&this.pn(r[l]);++l)a=a.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=r[l];if(!this.yn(h,d)||!this.wn(this.dn[u++],d))return!1}++l}for(;l<r.length;++l){const h=r[l];if(u>=this.dn.length||!this.wn(this.dn[u++],h))return!1}return!0}bn(){if(this.fn)return null;let e=new ft(Ct.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Id(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Id(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Id(r.field,r.dir==="asc"?0:1)));return new qd(qd.UNKNOWN_ID,this.collectionId,t,th.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(n){var t,r;if(we(n instanceof Qe||n instanceof ht,20012),n instanceof Qe){if(n instanceof aI){const a=((r=(t=n.value.arrayValue)==null?void 0:t.values)==null?void 0:r.map((l=>Qe.create(n.field,"==",l))))||[];return ht.create(a,"or")}return n}const e=n.filters.map((a=>FI(a)));return ht.create(e,n.op)}function nM(n){if(n.getFilters().length===0)return[];const e=Zy(FI(n));return we(qI(e),7391),Wy(e)||Jy(e)?[e]:e.getFilters()}function Wy(n){return n instanceof Qe}function Jy(n){return n instanceof ht&&W_(n)}function qI(n){return Wy(n)||Jy(n)||(function(t){if(t instanceof ht&&qy(t)){for(const r of t.getFilters())if(!Wy(r)&&!Jy(r))return!1;return!0}return!1})(n)}function Zy(n){if(we(n instanceof Qe||n instanceof ht,34018),n instanceof Qe)return n;if(n.filters.length===1)return Zy(n.filters[0]);const e=n.filters.map((r=>Zy(r)));let t=ht.create(e,n.op);return t=Wd(t),qI(t)?t:(we(t instanceof ht,64498),we(Wo(t),40251),we(t.filters.length>1,57927),t.filters.reduce(((r,a)=>oE(r,a))))}function oE(n,e){let t;return we(n instanceof Qe||n instanceof ht,38388),we(e instanceof Qe||e instanceof ht,25473),t=n instanceof Qe?e instanceof Qe?(function(a,l){return ht.create([a,l],"and")})(n,e):GT(n,e):e instanceof Qe?GT(e,n):(function(a,l){if(we(a.filters.length>0&&l.filters.length>0,48005),Wo(a)&&Wo(l))return rI(a,l.getFilters());const u=qy(a)?a:l,h=qy(a)?l:a,d=u.filters.map((m=>oE(m,h)));return ht.create(d,"or")})(n,e),Wd(t)}function GT(n,e){if(Wo(e))return rI(e,n.getFilters());{const t=e.filters.map((r=>oE(n,r)));return ht.create(t,"or")}}function Wd(n){if(we(n instanceof Qe||n instanceof ht,11850),n instanceof Qe)return n;const e=n.getFilters();if(e.length===1)return Wd(e[0]);if(tI(n))return n;const t=e.map((a=>Wd(a))),r=[];return t.forEach((a=>{a instanceof Qe?r.push(a):a instanceof ht&&(a.op===n.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:ht.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.Sn=new uE}addToCollectionParentIndex(e,t){return this.Sn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(pr.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class uE{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new ft(Ge.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ft(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="IndexedDbIndexManager",hd=new Uint8Array(0);class iM{constructor(e,t){this.databaseId=t,this.Dn=new uE,this.Cn=new us((r=>dl(r)),((r,a)=>bh(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const l={collectionId:r,parent:Cn(a)};return KT(e).put(l)}return G.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[w1(t),""],!1,!0);return KT(e).H(a).next((l=>{for(const u of l){if(u.collectionId!==t)break;r.push(Ii(u.parent))}return r}))}addFieldIndex(e,t){const r=wc(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete a.indexId;const l=r.add(a);if(t.indexState){const u=vo(e);return l.next((h=>{u.put(jT(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const r=wc(e),a=vo(e),l=xo(e);return r.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=wc(e),r=xo(e),a=vo(e);return t.X().next((()=>r.X())).next((()=>a.X()))}createTargetIndexes(e,t){return G.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const l=new HT(r).bn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const r=xo(e);let a=!0;const l=new Map;return G.forEach(this.vn(t),(u=>this.Fn(e,u).next((h=>{a&&(a=!!h),l.set(u,h)})))).next((()=>{if(a){let u=je();const h=[];return G.forEach(l,((d,m)=>{ue(YT,`Using index ${(function(q){return`id=${q.indexId}|cg=${q.collectionGroup}|f=${q.fields.map((me=>`${me.fieldPath}:${me.kind}`)).join(",")}`})(d)} to execute ${dl(t)}`);const y=(function(q,me){const fe=My(me);if(fe===void 0)return null;for(const K of Qd(q,fe.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null})(m,d),_=(function(q,me){const fe=new Map;for(const K of Ja(me))for(const S of Qd(q,K.fieldPath))switch(S.op){case"==":case"in":fe.set(K.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return fe.set(K.fieldPath.canonicalString(),S.value),Array.from(fe.values())}return null})(m,d),v=(function(q,me){const fe=[];let K=!0;for(const S of Ja(me)){const N=S.kind===0?wT(q,S.fieldPath,q.startAt):AT(q,S.fieldPath,q.startAt);fe.push(N.value),K&&(K=N.inclusive)}return new fa(fe,K)})(m,d),b=(function(q,me){const fe=[];let K=!0;for(const S of Ja(me)){const N=S.kind===0?AT(q,S.fieldPath,q.endAt):wT(q,S.fieldPath,q.endAt);fe.push(N.value),K&&(K=N.inclusive)}return new fa(fe,K)})(m,d),D=this.Mn(d,m,v),M=this.Mn(d,m,b),V=this.xn(d,m,_),z=this.On(d.indexId,y,D,v.inclusive,M,b.inclusive,V);return G.forEach(z,(ee=>r.Z(ee,t.limit).next((q=>{q.forEach((me=>{const fe=ye.fromSegments(me.documentKey);u.has(fe)||(u=u.add(fe),h.push(fe))}))}))))})).next((()=>h))}return G.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=nM(ht.create(e.filters,"and")).map((r=>Gy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,a,l,u,h){const d=(t!=null?t.length:1)*Math.max(r.length,l.length),m=d/(t!=null?t.length:1),y=[];for(let _=0;_<d;++_){const v=t?this.Nn(t[_/m]):hd,b=this.Bn(e,v,r[_%m],a),D=this.Ln(e,v,l[_%m],u),M=h.map((V=>this.Bn(e,v,V,!0)));y.push(...this.createRange(b,D,M))}return y}Bn(e,t,r,a){const l=new il(e,ye.empty(),t,r);return a?l:l.En()}Ln(e,t,r,a){const l=new il(e,ye.empty(),t,r);return a?l.En():l}Fn(e,t){const r=new HT(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((l=>{let u=null;for(const h of l)r.gn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,t){let r=2;const a=this.vn(t);return G.forEach(a,(l=>this.Fn(e,l).next((u=>{u?r!==0&&u.fields.length<(function(d){let m=new ft(Ct.comparator),y=!1;for(const _ of d.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?y=!0:m=m.add(v.field));for(const _ of d.orderBy)_.field.isKeyField()||(m=m.add(_.field));return m.size+(y?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(u){return u.limit!==null})(t)&&a.length>1&&r===2?1:r))}kn(e,t){const r=new Tc;for(const a of Ja(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const u=r.ln(a.kind);rl.Wt.Dt(l,u)}return r.un()}Nn(e){const t=new Tc;return rl.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new Tc;return rl.Wt.Dt(fl(this.databaseId,t),r.ln((function(l){const u=Ja(l);return u.length===0?0:u[u.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let a=[];a.push(new Tc);let l=0;for(const u of Ja(e)){const h=r[l++];for(const d of a)if(this.qn(t,u.fieldPath)&&oh(h))a=this.Un(a,u,h);else{const m=d.ln(u.kind);rl.Wt.Dt(h,m)}}return this.$n(a)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const a=[...e],l=[];for(const u of r.arrayValue.values||[])for(const h of a){const d=new Tc;d.seed(h.un()),rl.Wt.Dt(u,d.ln(t.kind)),l.push(d)}return l}qn(e,t){return!!e.filters.find((r=>r instanceof Qe&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=wc(e),a=vo(e);return(t?r.H(Ly,IDBKeyRange.bound(t,t)):r.H()).next((l=>{const u=[];return G.forEach(l,(h=>a.get([h.indexId,this.uid]).next((d=>{u.push((function(y,_){const v=_?new th(_.sequenceNumber,new pr(yl(_.readTime),new ye(Ii(_.documentKey)),_.largestBatchId)):th.empty(),b=y.fields.map((([D,M])=>new Id(Ct.fromServerFormat(D),M)));return new qd(y.indexId,y.collectionGroup,b,v)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,a)=>{const l=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:ke(r.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const a=wc(e),l=vo(e);return this.Wn(e).next((u=>a.H(Ly,IDBKeyRange.bound(t,t)).next((h=>G.forEach(h,(d=>l.put(jT(d.indexId,this.uid,u,r))))))))}updateIndexEntries(e,t){const r=new Map;return G.forEach(t,((a,l)=>{const u=r.get(a.collectionGroup);return(u?G.resolve(u):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(r.set(a.collectionGroup,h),G.forEach(h,(d=>this.Qn(e,a,d).next((m=>{const y=this.Gn(l,d);return m.isEqual(y)?G.resolve():this.zn(e,l,d,m,y)})))))))}))}jn(e,t,r,a){return xo(e).put(a.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,a){return xo(e).delete(a.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const a=xo(e);let l=new ft(Ks);return a.ee({index:j1,range:IDBKeyRange.only([r.indexId,this.uid,Md(this.Kn(r,t))])},((u,h)=>{l=l.add(new il(r.indexId,t,qT(h.arrayValue),qT(h.directionalValue)))})).next((()=>l))}Gn(e,t){let r=new ft(Ks);const a=this.kn(t,e);if(a==null)return r;const l=My(t);if(l!=null){const u=e.data.field(l.fieldPath);if(oh(u))for(const h of u.arrayValue.values||[])r=r.add(new il(t.indexId,e.key,this.Nn(h),a))}else r=r.add(new il(t.indexId,e.key,hd,a));return r}zn(e,t,r,a,l){ue(YT,"Updating index entries for document '%s'",t.key);const u=[];return(function(d,m,y,_,v){const b=d.getIterator(),D=m.getIterator();let M=_o(b),V=_o(D);for(;M||V;){let z=!1,ee=!1;if(M&&V){const q=y(M,V);q<0?ee=!0:q>0&&(z=!0)}else M!=null?ee=!0:z=!0;z?(_(V),V=_o(D)):ee?(v(M),M=_o(b)):(M=_o(b),V=_o(D))}})(a,l,Ks,(h=>{u.push(this.jn(e,t,r,h))}),(h=>{u.push(this.Hn(e,t,r,h))})),G.waitFor(u)}Wn(e){let t=1;return vo(e).ee({index:L1,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,l)=>{l.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((u,h)=>Ks(u,h))).filter(((u,h,d)=>!h||Ks(u,d[h-1])!==0));const a=[];a.push(e);for(const u of r){const h=Ks(u,e),d=Ks(u,t);if(h===0)a[0]=e.En();else if(h>0&&d<0)a.push(u),a.push(u.En());else if(d>0)break}a.push(t);const l=[];for(let u=0;u<a.length;u+=2){if(this.Jn(a[u],a[u+1]))return[];const h=a[u].An(this.uid,hd,ye.empty()),d=a[u+1].An(this.uid,hd,ye.empty());l.push(IDBKeyRange.bound(h,d))}return l}Jn(e,t){return Ks(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(QT)}getMinOffset(e,t){return G.mapArray(this.vn(t),(r=>this.Fn(e,r).next((a=>a||ve(44426))))).next(QT)}}function KT(n){return ln(n,sh)}function xo(n){return ln(n,qc)}function wc(n){return ln(n,Y_)}function vo(n){return ln(n,Fc)}function QT(n){we(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const a=n[r].indexState.offset;q_(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new pr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HI=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(n,e,t){const r=n.store(Qr),a=n.store(Go),l=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=r.ee({range:u},((y,_,v)=>(h++,v.delete())));l.push(d.next((()=>{we(h===1,47070,{batchId:t.batchId})})));const m=[];for(const y of t.mutations){const _=V1(e,y.key.path,t.batchId);l.push(a.delete(_)),m.push(y.key)}return G.waitFor(l).next((()=>m))}function Jd(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ve(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(HI,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class Nm{constructor(e,t,r,a){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=a,this.Zn={}}static wt(e,t,r,a){we(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new Nm(l,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qs(e).ee({index:ll,range:r},((a,l,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,r,a){const l=Ro(e),u=Qs(e);return u.add({}).next((h=>{we(typeof h=="number",49019);const d=new nE(h,t,r,a),m=(function(b,D,M){const V=M.baseMutations.map((ee=>hh(b.yt,ee))),z=M.mutations.map((ee=>hh(b.yt,ee)));return{userId:D,batchId:M.batchId,localWriteTimeMs:M.localWriteTime.toMillis(),baseMutations:V,mutations:z}})(this.serializer,this.userId,d),y=[];let _=new ft(((v,b)=>ke(v.canonicalString(),b.canonicalString())));for(const v of a){const b=V1(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),y.push(u.put(m)),y.push(l.put(b,k4))}return _.forEach((v=>{y.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Zn[h]=d.keys()})),G.waitFor(y).next((()=>d))}))}lookupMutationBatch(e,t){return Qs(e).get(t).next((r=>r?(we(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),nl(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?G.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const a=r.keys();return this.Zn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Qs(e).ee({index:ll,range:a},((u,h,d)=>{h.userId===this.userId&&(we(h.batchId>=r,47524,{Yn:r}),l=nl(this.serializer,h)),d.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ra;return Qs(e).ee({index:ll,range:t,reverse:!0},((a,l,u)=>{r=l.batchId,u.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ra],[this.userId,Number.POSITIVE_INFINITY]);return Qs(e).H(ll,t).next((r=>r.map((a=>nl(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Nd(this.userId,t.path),a=IDBKeyRange.lowerBound(r),l=[];return Ro(e).ee({range:a},((u,h,d)=>{const[m,y,_]=u,v=Ii(y);if(m===this.userId&&t.path.isEqual(v))return Qs(e).get(_).next((b=>{if(!b)throw ve(61480,{er:u,batchId:_});we(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:_}),l.push(nl(this.serializer,b))}));d.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ft(ke);const a=[];return t.forEach((l=>{const u=Nd(this.userId,l.path),h=IDBKeyRange.lowerBound(u),d=Ro(e).ee({range:h},((m,y,_)=>{const[v,b,D]=m,M=Ii(b);v===this.userId&&l.path.isEqual(M)?r=r.add(D):_.done()}));a.push(d)})),G.waitFor(a).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,l=Nd(this.userId,r),u=IDBKeyRange.lowerBound(l);let h=new ft(ke);return Ro(e).ee({range:u},((d,m,y)=>{const[_,v,b]=d,D=Ii(v);_===this.userId&&r.isPrefixOf(D)?D.length===a&&(h=h.add(b)):y.done()})).next((()=>this.tr(e,h)))}tr(e,t){const r=[],a=[];return t.forEach((l=>{a.push(Qs(e).get(l).next((u=>{if(u===null)throw ve(35274,{batchId:l});we(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),r.push(nl(this.serializer,u))})))})),G.waitFor(a).next((()=>r))}removeMutationBatch(e,t){return GI(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),G.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return G.resolve();const r=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return Ro(e).ee({range:r},((l,u,h)=>{if(l[0]===this.userId){const d=Ii(l[1]);a.push(d)}else h.done()})).next((()=>{we(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return YI(e,this.userId,t)}ir(e){return KI(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:ra,lastStreamToken:""}))}}function YI(n,e,t){const r=Nd(e,t.path),a=r[1],l=IDBKeyRange.lowerBound(r);let u=!1;return Ro(n).ee({range:l,Y:!0},((h,d,m)=>{const[y,_,v]=h;y===e&&_===a&&(u=!0),m.done()})).next((()=>u))}function Qs(n){return ln(n,Qr)}function Ro(n){return ln(n,Go)}function KI(n){return ln(n,rh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _l(0)}static ar(){return new _l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new _l(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Ie.fromTimestamp(new lt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.cr(e,a))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>bo(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(we(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let a=0;const l=[];return bo(e).ee(((u,h)=>{const d=Pc(h);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(a++,l.push(this.removeTargetData(e,d)))})).next((()=>G.waitFor(l))).next((()=>a))}forEachTarget(e,t){return bo(e).ee(((r,a)=>{const l=Pc(a);t(l)}))}ur(e){return XT(e).get(Yd).next((t=>(we(t!==null,2888),t)))}cr(e,t){return XT(e).put(Yd,t)}lr(e,t){return bo(e).put(zI(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=dl(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return bo(e).ee({range:a,index:P1},((u,h,d)=>{const m=Pc(h);bh(t,m.target)&&(l=m,d.done())})).next((()=>l))}addMatchingKeys(e,t,r){const a=[],l=Js(e);return t.forEach((u=>{const h=Cn(u.path);a.push(l.put({targetId:r,path:h})),a.push(this.referenceDelegate.addReference(e,r,u))})),G.waitFor(a)}removeMatchingKeys(e,t,r){const a=Js(e);return G.forEach(t,(l=>{const u=Cn(l.path);return G.waitFor([a.delete([r,u]),this.referenceDelegate.removeReference(e,r,l)])}))}removeMatchingKeysForTargetId(e,t){const r=Js(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Js(e);let l=je();return a.ee({range:r,Y:!0},((u,h,d)=>{const m=Ii(u[1]),y=new ye(m);l=l.add(y)})).next((()=>l))}containsKey(e,t){const r=Cn(t.path),a=IDBKeyRange.bound([r],[w1(r)],!1,!0);let l=0;return Js(e).ee({index:G_,Y:!0,range:a},(([u,h],d,m)=>{u!==0&&(l++,m.done())})).next((()=>l>0))}At(e,t){return bo(e).get(t).next((r=>r?Pc(r):null))}}function bo(n){return ln(n,Yo)}function XT(n){return ln(n,cl)}function Js(n){return ln(n,Ko)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="LruGarbageCollector",aM=1048576;function JT([n,e],[t,r]){const a=ke(n,t);return a===0?ke(e,r):a}class lM{constructor(e){this.Pr=e,this.buffer=new ft(JT),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();JT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(WT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ga(t)?ue(WT,"Ignoring IndexedDB error during garbage collection: ",t):await pa(t)}await this.Ar(3e5)}))}}class oM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Wn.ce);const r=new lM(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve($T)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$T):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,l,u,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,t)))).next((_=>(l=_,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(m=Date.now(),Ao()<=We.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function $I(n,e){return new oM(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t){this.db=e,this.garbageCollector=$I(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,a)=>t(a)))}addReference(e,t,r){return fd(e,r)}removeReference(e,t,r){return fd(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return fd(e,t)}wr(e,t){return(function(a,l){let u=!1;return KI(a).te((h=>YI(a,h,l).next((d=>(d&&(u=!0),G.resolve(!d)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(e,((u,h)=>{if(h<=t){const d=this.wr(e,u).next((m=>{if(!m)return l++,r.getEntry(e,u).next((()=>(r.removeEntry(u,Ie.min()),Js(e).delete((function(_){return[0,Cn(_.path)]})(u)))))}));a.push(d)}})).next((()=>G.waitFor(a))).next((()=>r.apply(e))).next((()=>l))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return fd(e,t)}yr(e,t){const r=Js(e);let a,l=Wn.ce;return r.ee({index:G_},(([u,h],{path:d,sequenceNumber:m})=>{u===0?(l!==Wn.ce&&t(new ye(Ii(a)),l),l=m,a=d):l=Wn.ce})).next((()=>{l!==Wn.ce&&t(new ye(Ii(a)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fd(n,e){return Js(n).put((function(r,a){return{targetId:0,path:Cn(r.path),sequenceNumber:a}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.changes=new us((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Xa(e).put(r)}removeEntry(e,t,r){return Xa(e).delete((function(l,u){const h=l.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Xd(u),h[h.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=St.newInvalidDocument(t);return Xa(e).ee({index:Rd,range:IDBKeyRange.only(Ac(t))},((a,l)=>{r=this.Sr(t,l)})).next((()=>r))}Dr(e,t){let r={size:0,document:St.newInvalidDocument(t)};return Xa(e).ee({index:Rd,range:IDBKeyRange.only(Ac(t))},((a,l)=>{r={document:this.Sr(t,l),size:Jd(l)}})).next((()=>r))}getEntries(e,t){let r=Zn();return this.Cr(e,t,((a,l)=>{const u=this.Sr(a,l);r=r.insert(a,u)})).next((()=>r))}vr(e,t){let r=Zn(),a=new bt(ye.comparator);return this.Cr(e,t,((l,u)=>{const h=this.Sr(l,u);r=r.insert(l,h),a=a.insert(l,Jd(u))})).next((()=>({documents:r,Fr:a})))}Cr(e,t,r){if(t.isEmpty())return G.resolve();let a=new ft(tw);t.forEach((d=>a=a.add(d)));const l=IDBKeyRange.bound(Ac(a.first()),Ac(a.last())),u=a.getIterator();let h=u.getNext();return Xa(e).ee({index:Rd,range:l},((d,m,y)=>{const _=ye.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;h&&tw(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,m),h=u.hasNext()?u.getNext():null),h?y.j(Ac(h)):y.done()})).next((()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,r,a,l){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Xd(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xa(e).H(IDBKeyRange.bound(h,d,!0)).next((m=>{l==null||l.incrementDocumentReadCount(m.length);let y=Zn();for(const _ of m){const v=this.Sr(ye.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(wh(t,v)||a.has(v.key))&&(y=y.insert(v.key,v))}return y}))}getAllFromCollectionGroup(e,t,r,a){let l=Zn();const u=ew(t,r),h=ew(t,pr.max());return Xa(e).ee({index:M1,range:IDBKeyRange.bound(u,h,!0)},((d,m,y)=>{const _=this.Sr(ye.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);l=l.insert(_.key,_),l.size===a&&y.done()})).next((()=>l))}newChangeBuffer(e){return new hM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return ZT(e).get(Py).next((t=>(we(!!t,20021),t)))}br(e,t){return ZT(e).put(Py,t)}Sr(e,t){if(t){const r=$V(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return St.newInvalidDocument(e)}}function WI(n){return new cM(n)}class hM extends XI{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new us((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const t=[];let r=0,a=new ft(((l,u)=>ke(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const h=this.Or.get(l);if(t.push(this.Mr.removeEntry(e,l,h.readTime)),u.isValidDocument()){const d=PT(this.Mr.serializer,u);a=a.add(l.path.popLast());const m=Jd(d);r+=m-h.size,t.push(this.Mr.addEntry(e,l,d))}else if(r-=h.size,this.trackRemovals){const d=PT(this.Mr.serializer,u.convertToNoDocument(Ie.min()));t.push(this.Mr.addEntry(e,l,d))}})),a.forEach((l=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Mr.updateMetadata(e,r)),G.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:a})=>(a.forEach(((l,u)=>{this.Or.set(l,{size:u,readTime:r.get(l).readTime})})),r)))}}function ZT(n){return ln(n,ih)}function Xa(n){return ln(n,Gd)}function Ac(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ew(n,e){const t=e.documentKey.path.toArray();return[n,Xd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tw(n,e){const t=n.path.toArray(),r=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(a=ke(t[l],r[l]),a)return a;return a=ke(t.length,r.length),a||(a=ke(t[t.length-2],r[r.length-2]),a||ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Yc(r.mutation,a,Jn.empty(),lt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const a=Ni();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let u=Vc();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Ni();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,a){let l=Zn();const u=Gc(),h=(function(){return Gc()})();return t.forEach(((d,m)=>{const y=r.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof cs)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Yc(y.mutation,m,y.mutation.getFieldMask(),lt.now())):u.set(m.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>h.set(m,new fM(y,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Gc();let a=new bt(((u,h)=>u-h)),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((d=>{const m=t.get(d);if(m===null)return;let y=r.get(d)||Jn.empty();y=h.applyToLocalView(m,y),r.set(d,y);const _=(a.get(h.batchId)||je()).add(d);a=a.insert(h.batchId,_)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,_=dI();y.forEach((v=>{if(!l.has(v)){const b=xI(t.get(v),r.get(v));b!==null&&_.set(v,b),l=l.add(v)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,_))}return G.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return yV(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):J_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):G.resolve(Ni());let h=Ho,d=l;return u.next((m=>G.forEach(m,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?G.resolve():this.remoteDocumentCache.getEntry(e,y).next((v=>{d=d.insert(y,v)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,je()))).next((y=>({batchId:h,changes:fI(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((r=>{let a=Vc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let u=Vc();return this.indexManager.getCollectionParents(e,l).next((h=>G.forEach(h,(d=>{const m=(function(_,v){return new os(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((y=>{y.forEach(((_,v)=>{u=u.insert(_,v)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((u=>{l.forEach(((d,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,St.newInvalidDocument(y)))}));let h=Vc();return u.forEach(((d,m)=>{const y=l.get(d);y!==void 0&&Yc(y.mutation,m,Jn.empty(),lt.now()),wh(t,m)&&(h=h.insert(d,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return G.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Gt(a.createTime)}})(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:lE(a.bundledQuery),readTime:Gt(a.readTime)}})(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.overlays=new bt(ye.comparator),this.Lr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ni();return G.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.bt(e,t,l)})),G.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const a=Ni(),l=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return G.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new bt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=l.get(m.largestBatchId);y===null&&(y=Ni(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Ni(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return G.resolve(h)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new iE(t,r));let l=this.Lr.get(t);l===void 0&&(l=je(),this.Lr.set(t,l)),this.Lr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.kr=new ft(fn.Kr),this.qr=new ft(fn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new fn(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new fn(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new ye(new Ge([])),r=new fn(t,e),a=new fn(t,e+1),l=[];return this.qr.forEachInRange([r,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ye(new Ge([])),r=new fn(t,e),a=new fn(t,e+1);let l=je();return this.qr.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new fn(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ye.comparator(e.key,t.key)||ke(e.Hr,t.Hr)}static Ur(e,t){return ke(e.Hr,t.Hr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new ft(fn.Kr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new nE(l,t,r,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new fn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return G.resolve(u)}lookupMutationBatch(e,t){return G.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),l=a<0?0:a;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?ra:this.Yn-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fn(t,0),a=new fn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(u=>{const h=this.Zr(u.Hr);l.push(h)})),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ft(ke);return t.forEach((a=>{const l=new fn(a,0),u=new fn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{r=r.add(h.Hr)}))})),G.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;ye.isDocumentKey(l)||(l=l.child(""));const u=new fn(new ye(l),0);let h=new ft(ke);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),u),G.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){we(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return G.forEach(t.mutations,(a=>{const l=new fn(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new fn(t,0),a=this.Jr.firstAfterOrEqual(r);return G.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.ti=e,this.docs=(function(){return new bt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():St.newInvalidDocument(t))}getEntries(e,t){let r=Zn();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():St.newInvalidDocument(a))})),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Zn();const u=t.path,h=new ye(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||q_(R1(y),r)<=0||(a.has(y.key)||wh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,r,a){ve(9500)}ni(e,t){return G.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new _M(this)}getSize(e){return G.resolve(this.size)}}class _M extends XI{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),G.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.persistence=e,this.ri=new us((t=>dl(t)),bh),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ii=0,this.si=new cE,this.targetCount=0,this.oi=_l._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),G.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new _l(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.lr(t),G.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),G.waitFor(l).next((()=>a))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,t){this._i={},this.overlays={},this.ai=new Wn(0),this.ui=!1,this.ui=!0,this.ci=new pM,this.referenceDelegate=e(this),this.li=new EM(this),this.indexManager=new rM,this.remoteDocumentCache=(function(a){return new yM(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new BI(t),this.Pi=new dM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new gM(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const a=new xM(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return G.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class xM extends D1{constructor(e){super(),this.currentSequenceNumber=e}}class Rm{constructor(e){this.persistence=e,this.Ri=new cE,this.Ai=null}static Vi(e){return new Rm(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),G.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.di,(r=>{const a=ye.fromPath(r);return this.mi(e,a).next((l=>{l||t.removeEntry(a,Ie.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return G.or([()=>G.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Zd{constructor(e,t){this.persistence=e,this.fi=new us((r=>Cn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=$I(this,t)}static Vi(e,t){return new Zd(e,t)}Ti(){}Ii(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return G.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?G.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,t).next((h=>{h||(r++,l.removeEntry(u,Ie.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),G.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dd(e.data.value)),t}wr(e,t,r){return G.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return G.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.serializer=e}k(e,t,r,a){const l=new _m("createOrUpgrade",t);r<1&&a>=1&&((function(d){d.createObjectStore(vh)})(e),(function(d){d.createObjectStore(rh,{keyPath:O4}),d.createObjectStore(Qr,{keyPath:fT,autoIncrement:!0}).createIndex(ll,dT,{unique:!0}),d.createObjectStore(Go)})(e),nw(e),(function(d){d.createObjectStore(Za)})(e));let u=G.resolve();return r<3&&a>=3&&(r!==0&&((function(d){d.deleteObjectStore(Ko),d.deleteObjectStore(Yo),d.deleteObjectStore(cl)})(e),nw(e)),u=u.next((()=>(function(d){const m=d.store(cl),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return m.put(Yd,y)})(l)))),r<4&&a>=4&&(r!==0&&(u=u.next((()=>(function(d,m){return m.store(Qr).H().next((_=>{d.deleteObjectStore(Qr),d.createObjectStore(Qr,{keyPath:fT,autoIncrement:!0}).createIndex(ll,dT,{unique:!0});const v=m.store(Qr),b=_.map((D=>v.put(D)));return G.waitFor(b)}))})(e,l)))),u=u.next((()=>{(function(d){d.createObjectStore(Qo,{keyPath:z4})})(e)}))),r<5&&a>=5&&(u=u.next((()=>this.gi(l)))),r<6&&a>=6&&(u=u.next((()=>((function(d){d.createObjectStore(ih)})(e),this.pi(l))))),r<7&&a>=7&&(u=u.next((()=>this.yi(l)))),r<8&&a>=8&&(u=u.next((()=>this.wi(e,l)))),r<9&&a>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(u=u.next((()=>this.bi(l)))),r<11&&a>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(Em,{keyPath:F4})})(e),(function(d){d.createObjectStore(xm,{keyPath:q4})})(e)}))),r<12&&a>=12&&(u=u.next((()=>{(function(d){const m=d.createObjectStore(vm,{keyPath:X4});m.createIndex(jy,W4,{unique:!1}),m.createIndex(U1,J4,{unique:!1})})(e)}))),r<13&&a>=13&&(u=u.next((()=>(function(d){const m=d.createObjectStore(Gd,{keyPath:V4});m.createIndex(Rd,M4),m.createIndex(M1,P4)})(e))).next((()=>this.Si(e,l))).next((()=>e.deleteObjectStore(Za)))),r<14&&a>=14&&(u=u.next((()=>this.Di(e,l)))),r<15&&a>=15&&(u=u.next((()=>(function(d){d.createObjectStore(Y_,{keyPath:H4,autoIncrement:!0}).createIndex(Ly,G4,{unique:!1}),d.createObjectStore(Fc,{keyPath:Y4}).createIndex(L1,K4,{unique:!1}),d.createObjectStore(qc,{keyPath:Q4}).createIndex(j1,$4,{unique:!1})})(e)))),r<16&&a>=16&&(u=u.next((()=>{t.objectStore(Fc).clear()})).next((()=>{t.objectStore(qc).clear()}))),r<17&&a>=17&&(u=u.next((()=>{(function(d){d.createObjectStore(K_,{keyPath:Z4})})(e)}))),r<18&&a>=18&&e1()&&(u=u.next((()=>{t.objectStore(Fc).clear()})).next((()=>{t.objectStore(qc).clear()}))),u}pi(e){let t=0;return e.store(Za).ee(((r,a)=>{t+=Jd(a)})).next((()=>{const r={byteSize:t};return e.store(ih).put(Py,r)}))}gi(e){const t=e.store(rh),r=e.store(Qr);return t.H().next((a=>G.forEach(a,(l=>{const u=IDBKeyRange.bound([l.userId,ra],[l.userId,l.lastAcknowledgedBatchId]);return r.H(ll,u).next((h=>G.forEach(h,(d=>{we(d.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const m=nl(this.serializer,d);return GI(e,l.userId,m).next((()=>{}))}))))}))))}yi(e){const t=e.store(Ko),r=e.store(Za);return e.store(cl).get(Yd).next((a=>{const l=[];return r.ee(((u,h)=>{const d=new Ge(u),m=(function(_){return[0,Cn(_)]})(d);l.push(t.get(m).next((y=>y?G.resolve():(_=>t.put({targetId:0,path:Cn(_),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>G.waitFor(l)))}))}wi(e,t){e.createObjectStore(sh,{keyPath:B4});const r=t.store(sh),a=new uE,l=u=>{if(a.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:Cn(d)})}};return t.store(Za).ee({Y:!0},((u,h)=>{const d=new Ge(u);return l(d.popLast())})).next((()=>t.store(Go).ee({Y:!0},(([u,h,d],m)=>{const y=Ii(h);return l(y.popLast())}))))}bi(e){const t=e.store(Yo);return t.ee(((r,a)=>{const l=Pc(a),u=zI(this.serializer,l);return t.put(u)}))}Si(e,t){const r=t.store(Za),a=[];return r.ee(((l,u)=>{const h=t.store(Gd),d=(function(_){return _.document?new ye(Ge.fromString(_.document.name).popFirst(5)):_.noDocument?ye.fromSegments(_.noDocument.path):_.unknownDocument?ye.fromSegments(_.unknownDocument.path):ve(36783)})(u).path.toArray(),m={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(m))})).next((()=>G.waitFor(a)))}Di(e,t){const r=t.store(Qr),a=WI(this.serializer),l=new hE(Rm.Vi,this.serializer.yt);return r.H().next((u=>{const h=new Map;return u.forEach((d=>{let m=h.get(d.userId)??je();nl(this.serializer,d).keys().forEach((y=>m=m.add(y))),h.set(d.userId,m)})),G.forEach(h,((d,m)=>{const y=new dn(m),_=Im.wt(this.serializer,y),v=l.getIndexManager(y),b=Nm.wt(y,this.serializer,v,l.referenceDelegate);return new JI(a,b,_,v).recalculateAndSaveOverlaysForDocumentKeys(new Uy(t,Wn.ce),d).next()}))}))}}function nw(n){n.createObjectStore(Ko,{keyPath:j4}).createIndex(G_,U4,{unique:!0}),n.createObjectStore(Yo,{keyPath:"targetId"}).createIndex(P1,L4,{unique:!0}),n.createObjectStore(cl)}const $s="IndexedDbPersistence",ay=18e5,ly=5e3,oy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ZI="main";class fE{constructor(e,t,r,a,l,u,h,d,m,y,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=l,this.window=u,this.document=h,this.Fi=m,this.Mi=y,this.xi=_,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=v=>Promise.resolve(),!fE.v())throw new oe(J.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uM(this,a),this.Ki=t+ZI,this.serializer=new BI(d),this.qi=new Ri(this.Ki,this.xi,new vM(this.serializer)),this.ci=new WV,this.li=new sM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=WI(this.serializer),this.Pi=new XV,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&qt($s,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oe(J.FAILED_PRECONDITION,oy);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new Wn(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>dd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(ga(e))return ue($s,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue($s,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Sc(e).get(yo).next((t=>G.resolve(this.Xi(t))))}Yi(e){return dd(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,ay)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=ln(t,Qo);return r.H().next((a=>{const l=this.ns(a,ay),u=a.filter((h=>l.indexOf(h)===-1));return G.forEach(u,(h=>r.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?G.resolve(!0):Sc(e).get(yo).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,ly)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new oe(J.FAILED_PRECONDITION,oy);return!1}}return!(!this.networkEnabled||!this.inForeground)||dd(e).H().next((r=>this.ns(r,ly).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(l||u&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ue($s,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[vh,Qo],(e=>{const t=new Uy(e,Wn.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>dd(e).H().next((t=>this.ns(t,ay).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return Nm.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new iM(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Im.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){ue($s,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=(function(d){return d===18?nV:d===17?q1:d===16?tV:d===15?Q_:d===14?F1:d===13?z1:d===12?eV:d===11?B1:void ve(60245)})(this.xi);let u;return this.qi.runTransaction(e,a,l,(h=>(u=new Uy(h,this.ai?this.ai.next():Wn.ce),t==="readwrite-primary"?this.ji(u).next((d=>!!d||this.Hi(u))).next((d=>{if(!d)throw qt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new oe(J.FAILED_PRECONDITION,C1);return r(u)})).next((d=>this.Zi(u).next((()=>d)))):this.Ps(u).next((()=>r(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Ps(e){return Sc(e).get(yo).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,ly)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new oe(J.FAILED_PRECONDITION,oy)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sc(e).put(yo,t)}static v(){return Ri.v()}Ji(e){const t=Sc(e);return t.get(yo).next((r=>this.Xi(r)?(ue($s,"Releasing primary lease."),t.delete(yo)):G.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(qt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;ZS()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var t;try{const r=((t=this.Ui)==null?void 0:t.getItem(this.rs(e)))!==null;return ue($s,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return qt($s,"Failed to get zombied client id.",r),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){qt("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sc(n){return ln(n,vh)}function dd(n){return ln(n,Qo)}function dE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=je(),a=je();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new mE(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ZS()?8:O1(zd())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.gs(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,t,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new bM;return this.ys(e,t,u).next((h=>{if(l.result=h,this.As)return this.ws(e,t,u,h.size)}))})).next((()=>l.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(Ao()<=We.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",So(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),G.resolve()):(Ao()<=We.DEBUG&&ue("QueryEngine","Query:",So(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Ao()<=We.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",So(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(t))):G.resolve())}gs(e,t){if(ST(t))return G.resolve(null);let r=jn(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=$d(t,null,"F"),r=jn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=je(...l);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const m=this.bs(t,h);return this.Ss(t,m,u,d.readTime)?this.gs(e,$d(t,null,"F")):this.Ds(e,m,t,d)}))))})))))}ps(e,t,r,a){return ST(t)||a.isEqual(Ie.min())?G.resolve(null):this.fs.getDocuments(e,r).next((l=>{const u=this.bs(t,l);return this.Ss(t,u,r,a)?G.resolve(null):(Ao()<=We.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),So(t)),this.Ds(e,u,t,N1(a,Ho)).next((h=>h)))}))}bs(e,t){let r=new ft(cI(e));return t.forEach(((a,l)=>{wh(e,l)&&(r=r.add(l))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,r){return Ao()<=We.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",So(t)),this.fs.getDocumentsMatchingQuery(e,t,pr.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="LocalStore",TM=3e8;class wM{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new bt(ke),this.Fs=new us((l=>dl(l)),bh),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function tN(n,e,t,r){return new wM(n,e,t,r)}async function nN(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],h=[];let d=je();for(const m of a){u.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(r,d).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function AM(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,y){const _=m.batch,v=_.keys();let b=G.resolve();return v.forEach((D=>{b=b.next((()=>y.getEntry(d,D))).next((M=>{const V=m.docVersions.get(D);we(V!==null,48541),M.version.compareTo(V)<0&&(_.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),y.addEntry(M)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=je();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function rN(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function SM(n,e){const t=Ee(n),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const h=[];e.targetChanges.forEach(((y,_)=>{const v=a.get(_);if(!v)return;h.push(t.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>t.li.addMatchingKeys(l,y.addedDocuments,_))));let b=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(jt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,r)),a=a.insert(_,b),(function(M,V,z){return M.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=TM?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(v,b,y)&&h.push(t.li.updateTargetData(l,b))}));let d=Zn(),m=je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(iN(l,u,e.documentUpdates).next((y=>{d=y.Bs,m=y.Ls}))),!r.isEqual(Ie.min())){const y=t.li.getLastRemoteSnapshotVersion(l).next((_=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(y)}return G.waitFor(h).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(t.vs=a,l)))}function iN(n,e,t){let r=je(),a=je();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let u=Zn();return t.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ie.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ue(pE,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:u,Ls:a}}))}function IM(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ra),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tu(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((l=>l?(a=l,G.resolve(a)):t.li.allocateTargetId(r).next((u=>(a=new es(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function nu(n,e,t){const r=Ee(n),a=r.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ga(u))throw u;ue(pE,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function em(n,e,t){const r=Ee(n);let a=Ie.min(),l=je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,m,y){const _=Ee(d),v=_.Fs.get(y);return v!==void 0?G.resolve(_.vs.get(v)):_.li.getTargetData(m,y)})(r,u,jn(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?a:Ie.min(),t?l:je()))).next((h=>(lN(r,uI(e),h),{documents:h,ks:l})))))}function sN(n,e){const t=Ee(n),r=Ee(t.li),a=t.vs.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",(l=>r.At(l,e).next((u=>u?u.target:null))))}function aN(n,e){const t=Ee(n),r=t.Ms.get(e)||Ie.min();return t.persistence.runTransaction("Get new document changes","readonly",(a=>t.xs.getAllFromCollectionGroup(a,e,N1(r,Ho),Number.MAX_SAFE_INTEGER))).then((a=>(lN(t,e,a),a)))}function lN(n,e,t){let r=n.Ms.get(e)||Ie.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Ms.set(e,r)}async function NM(n,e,t,r){const a=Ee(n);let l=je(),u=Zn();for(const m of t){const y=e.Ks(m.metadata.name);m.document&&(l=l.add(y));const _=e.qs(m);_.setReadTime(e.Us(m.metadata.readTime)),u=u.insert(y,_)}const h=a.xs.newChangeBuffer({trackRemovals:!0}),d=await tu(a,(function(y){return jn(cu(Ge.fromString(`__bundle__/docs/${y}`)))})(r));return a.persistence.runTransaction("Apply bundle documents","readwrite",(m=>iN(m,h,u).next((y=>(h.apply(m),y))).next((y=>a.li.removeMatchingKeysForTargetId(m,d.targetId).next((()=>a.li.addMatchingKeys(m,l,d.targetId))).next((()=>a.localDocuments.getLocalViewOfDocuments(m,y.Bs,y.Ls))).next((()=>y.Bs))))))}async function RM(n,e,t=je()){const r=await tu(n,jn(lE(e.bundledQuery))),a=Ee(n);return a.persistence.runTransaction("Save named query","readwrite",(l=>{const u=Gt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return a.Pi.saveNamedQuery(l,e);const h=r.withResumeToken(jt.EMPTY_BYTE_STRING,u);return a.vs=a.vs.insert(h.targetId,h),a.li.updateTargetData(l,h).next((()=>a.li.removeMatchingKeysForTargetId(l,r.targetId))).next((()=>a.li.addMatchingKeys(l,t,r.targetId))).next((()=>a.Pi.saveNamedQuery(l,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firestore_clients";function rw(n,e){return`${oN}_${n}_${e}`}const uN="firestore_mutations";function iw(n,e,t){let r=`${uN}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const cN="firestore_targets";function uy(n,e){return`${cN}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="SharedClientState";class tm{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let l,u=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return u&&a.error&&(u=typeof a.error.message=="string"&&typeof a.error.code=="string",u&&(l=new oe(a.error.code,a.error.message))),u?new tm(e,t,a.state,l):(qt(Ai,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kc{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(a=new oe(r.error.code,r.error.message))),l?new Kc(e,r.state,a):(qt(Ai,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a=typeof r=="object"&&r.activeTargetIds instanceof Array,l=Z_();for(let u=0;a&&u<r.activeTargetIds.length;++u)a=k1(r.activeTargetIds[u]),l=l.add(r.activeTargetIds[u]);return a?new nm(e,l):(qt(Ai,`Failed to parse client data for instance '${e}': ${t}`),null)}}class gE{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new gE(t.clientId,t.onlineState):(qt(Ai,`Failed to parse online state: ${e}`),null)}}class e_{constructor(){this.activeTargetIds=Z_()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cy{constructor(e,t,r,a,l){this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new bt(ke),this.started=!1,this.Zs=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Xs=rw(this.persistenceKey,this.zs),this.Ys=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new e_),this.eo=new RegExp(`^${oN}_${u}_([^_]*)$`),this.no=new RegExp(`^${uN}_${u}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${cN}_${u}_(\\d+)$`),this.io=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this.so=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const a=this.getItem(rw(this.persistenceKey,r));if(a){const l=nm.$s(r,a);l&&(this.Js=this.Js.insert(l.clientId,l))}}this.oo();const t=this.storage.getItem(this.io);if(t){const r=this._o(t);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(uy(this.persistenceKey,e));if(a){const l=Kc.$s(e,a);l&&(r=l.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uy(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach((a=>{this.lo(a)})),this.currentUser=e,r.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(Ai,"READ",e,t),t}setItem(e,t){ue(Ai,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(Ai,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(ue(Ai,"EVENT",t.key,t.newValue),t.key===this.Xs)return void qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const r=this.Eo(t.key);return this.Ro(r,null)}{const r=this.Ao(t.key,t.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(t.key)){if(t.newValue!==null){const r=this.Vo(t.key,t.newValue);if(r)return this.mo(r)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(t.key===this.io){if(t.newValue!==null){const r=this._o(t.newValue);if(r)return this.ao(r)}}else if(t.key===this.Ys){const r=(function(l){let u=Wn.ce;if(l!=null)try{const h=JSON.parse(l);we(typeof h=="number",30636,{yo:l}),u=h}catch(h){qt(Ai,"Failed to read sequence number from WebStorage",h)}return u})(t.newValue);r!==Wn.ce&&this.sequenceNumberHandler(r)}else if(t.key===this.so){const r=this.wo(t.newValue);await Promise.all(r.map((a=>this.syncEngine.bo(a))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){const a=new tm(this.currentUser,e,t,r),l=iw(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Ws())}lo(e){const t=iw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){const a=uy(this.persistenceKey,e),l=new Kc(e,t,r);this.setItem(a,l.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const r=this.Eo(e);return nm.$s(r,t)}Vo(e,t){const r=this.no.exec(e),a=Number(r[1]),l=r[2]!==void 0?r[2]:null;return tm.$s(new dn(l),a,t)}fo(e,t){const r=this.ro.exec(e),a=Number(r[1]);return Kc.$s(a,t)}_o(e){return gE.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);ue(Ai,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const r=t?this.Js.insert(e,t):this.Js.remove(e),a=this.uo(this.Js),l=this.uo(r),u=[],h=[];return l.forEach((d=>{a.has(d)||u.push(d)})),a.forEach((d=>{l.has(d)||h.push(d)})),this.syncEngine.Co(u,h).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=Z_();return e.forEach(((r,a)=>{t=t.unionWith(a.activeTargetIds)})),t}}class hN{constructor(){this.vo=new e_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new e_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="ConnectivityMonitor";class aw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(sw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(sw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md=null;function t_(){return md===null?md=(function(){return 268435456+Math.round(2147483648*Math.random())})():md++,"0x"+md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="RestConnection",DM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class OM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===By?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,l){const u=t_(),h=this.Qo(e,t.toUriEncodedString());ue(hy,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:m}=new URL(h),y=O_(m);return this.zo(e,h,d,r,y).then((_=>(ue(hy,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Jr(hy,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_}))}jo(e,t,r,a,l,u){return this.Wo(e,t,r,a,l)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const r=DM[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection",Ic=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class ko extends OM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ko.c_){const e=x1();Ic(e,E1.STAT_EVENT,(t=>{t.stat===ky.PROXY?ue(In,"STAT_EVENT: detected buffering proxy"):t.stat===ky.NOPROXY&&ue(In,"STAT_EVENT: detected no buffering proxy")})),ko.c_=!0}}zo(e,t,r,a,l){const u=t_();return new Promise(((h,d)=>{const m=new y1;m.setWithCredentials(!0),m.listenOnce(_1.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Sd.NO_ERROR:const _=m.getResponseJson();ue(In,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Sd.TIMEOUT:ue(In,`RPC '${e}' ${u} timed out`),d(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Sd.HTTP_ERROR:const v=m.getStatus();if(ue(In,`RPC '${e}' ${u} failed with status:`,v,"response text:",m.getResponseText()),v>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const D=b==null?void 0:b.error;if(D&&D.status&&D.message){const M=(function(z){const ee=z.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ee)>=0?ee:J.UNKNOWN})(D.status);d(new oe(M,D.message))}else d(new oe(J.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new oe(J.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ue(In,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);ue(In,`RPC '${e}' ${u} sending request:`,a),m.send(t,"POST",y,r,15)}))}T_(e,t,r){const a=t_(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=l.join("");ue(In,`Creating RPC '${e}' stream ${a}: ${m}`,h);const y=u.createWebChannel(m,h);this.I_(y);let _=!1,v=!1;const b=new kM({Ho:D=>{v?ue(In,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(_||(ue(In,`Opening RPC '${e}' stream ${a} transport.`),y.open(),_=!0),ue(In,`RPC '${e}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return Ic(y,kc.EventType.OPEN,(()=>{v||(ue(In,`RPC '${e}' stream ${a} transport opened.`),b.i_())})),Ic(y,kc.EventType.CLOSE,(()=>{v||(v=!0,ue(In,`RPC '${e}' stream ${a} transport closed`),b.o_(),this.E_(y))})),Ic(y,kc.EventType.ERROR,(D=>{v||(v=!0,Jr(In,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),b.o_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),Ic(y,kc.EventType.MESSAGE,(D=>{var M;if(!v){const V=D.data[0];we(!!V,16349);const z=V,ee=(z==null?void 0:z.error)||((M=z[0])==null?void 0:M.error);if(ee){ue(In,`RPC '${e}' stream ${a} received error:`,ee);const q=ee.status;let me=(function(S){const N=tn[S];if(N!==void 0)return TI(N)})(q),fe=ee.message;q==="NOT_FOUND"&&fe.includes("database")&&fe.includes("does not exist")&&fe.includes(this.databaseId.database)&&Jr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),me===void 0&&(me=J.INTERNAL,fe="Unknown error status: "+q+" with message "+ee.message),v=!0,b.o_(new oe(me,fe)),y.close()}else ue(In,`RPC '${e}' stream ${a} received:`,V),b.__(V)}})),ko.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return v1()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(n){return new ko(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return typeof window<"u"?window:null}function Pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(n){return new UV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko.c_=!1;class yE{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="PersistentStream";class dN{constructor(e,t,r,a,l,u,h,d){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(qt(t.toString()),qt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new oe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(lw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ue(lw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MM extends dN{constructor(e,t,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=FV(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ie.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Gt(u.readTime):Ie.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=$y(this.serializer),t.addTarget=(function(l,u){let h;const d=u.target;if(h=Kd(d)?{documents:kI(l,d)}:{query:VI(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=II(l,u.resumeToken);const m=Ky(l,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=eu(l,u.snapshotVersion.toTimestamp());const m=Ky(l,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=HV(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=$y(this.serializer),t.removeTarget=e,this.K_(t)}}class PM extends dN{constructor(e,t,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=qV(e.writeResults,e.commitTime),r=Gt(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=$y(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>hh(this.serializer,r)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{}class jM extends LM{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Qy(t,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new oe(J.UNKNOWN,l.toString())}))}jo(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,Qy(t,r),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function UM(n,e,t,r){return new jM(n,e,t,r)}class BM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qt(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="RemoteStore";class zM{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{_a(this)&&(ue(El,"Restarting streams for network reachability change."),await(async function(d){const m=Ee(d);m.Ea.add(4),await du(m),m.Va.set("Unknown"),m.Ea.delete(4),await Rh(m)})(this))}))})),this.Va=new BM(r,a)}}async function Rh(n){if(_a(n))for(const e of n.Ra)await e(!0)}async function du(n){for(const e of n.Ra)await e(!1)}function Cm(n,e){const t=Ee(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),xE(t)?EE(t):pu(t).O_()&&_E(t,e))}function ru(n,e){const t=Ee(n),r=pu(t);t.Ia.delete(e),r.O_()&&mN(t,e),t.Ia.size===0&&(r.O_()?r.L_():_a(t)&&t.Va.set("Unknown"))}function _E(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pu(n).Z_(e)}function mN(n,e){n.da.$e(e),pu(n).X_(e)}function EE(n){n.da=new MV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),pu(n).start(),n.Va.ua()}function xE(n){return _a(n)&&!pu(n).x_()&&n.Ia.size>0}function _a(n){return Ee(n).Ea.size===0}function pN(n){n.da=void 0}async function FM(n){n.Va.set("Online")}async function qM(n){n.Ia.forEach(((e,t)=>{_E(n,e)}))}async function HM(n,e){pN(n),xE(n)?(n.Va.ha(e),EE(n)):n.Va.set("Unknown")}async function GM(n,e,t){if(n.Va.set("Online"),e instanceof SI&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(n,e)}catch(r){ue(El,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rm(n,r)}else if(e instanceof Vd?n.da.Xe(e):e instanceof AI?n.da.st(e):n.da.tt(e),!t.isEqual(Ie.min()))try{const r=await rN(n.localStore);t.compareTo(r)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(jt.EMPTY_BYTE_STRING,y.snapshotVersion)),mN(l,d);const _=new es(y.target,d,m,y.sequenceNumber);_E(l,_)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ue(El,"Failed to raise snapshot:",r),await rm(n,r)}}async function rm(n,e,t){if(!ga(e))throw e;n.Ea.add(1),await du(n),n.Va.set("Offline"),t||(t=()=>rN(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(El,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Rh(n)}))}function gN(n,e){return e().catch((t=>rm(n,t,e)))}async function mu(n){const e=Ee(n),t=da(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ra;for(;YM(e);)try{const a=await IM(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,KM(e,a)}catch(a){await rm(e,a)}yN(e)&&_N(e)}function YM(n){return _a(n)&&n.Ta.length<10}function KM(n,e){n.Ta.push(e);const t=da(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function yN(n){return _a(n)&&!da(n).x_()&&n.Ta.length>0}function _N(n){da(n).start()}async function QM(n){da(n).ra()}async function $M(n){const e=da(n);for(const t of n.Ta)e.ea(t.mutations)}async function XM(n,e,t){const r=n.Ta.shift(),a=rE.from(r,e,t);await gN(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await mu(n)}async function WM(n,e){e&&da(n).Y_&&await(async function(r,a){if((function(u){return bI(u)&&u!==J.ABORTED})(a.code)){const l=r.Ta.shift();da(r).B_(),await gN(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await mu(r)}})(n,e),yN(n)&&_N(n)}async function ow(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),ue(El,"RemoteStore received new credentials");const r=_a(t);t.Ea.add(3),await du(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Rh(t)}async function n_(n,e){const t=Ee(n);e?(t.Ea.delete(2),await Rh(t)):e||(t.Ea.add(2),await du(t),t.Va.set("Unknown"))}function pu(n){return n.ma||(n.ma=(function(t,r,a){const l=Ee(t);return l.sa(),new MM(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:FM.bind(null,n),Yo:qM.bind(null,n),t_:HM.bind(null,n),J_:GM.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),xE(n)?EE(n):n.Va.set("Unknown")):(await n.ma.stop(),pN(n))}))),n.ma}function da(n){return n.fa||(n.fa=(function(t,r,a){const l=Ee(t);return l.sa(),new PM(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:QM.bind(null,n),t_:WM.bind(null,n),ta:$M.bind(null,n),na:XM.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await mu(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(El,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const u=Date.now()+r,h=new vE(e,t,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gu(n,e){if(qt("AsyncQueue",`${e}: ${n}`),ga(n))return new oe(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Vc(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.ga=new bt(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class iu{constructor(e,t,r,a,l,u,h,d,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,l){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new iu(e,t,Vo.emptySet(t),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ZM{constructor(){this.queries=cw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ee(t),l=a.queries;a.queries=cw(),l.forEach(((u,h)=>{for(const d of h.ba)d.onError(r)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function cw(){return new us((n=>oI(n)),Th)}async function bE(n,e){const t=Ee(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new JM,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=gu(u,`Initialization of query '${So(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&wE(t)}async function TE(n,e){const t=Ee(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function eP(n,e){const t=Ee(n);let r=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const h of u.ba)h.Fa(a)&&(r=!0);u.wa=a}}r&&wE(t)}function tP(n,e,t){const r=Ee(n),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(t);r.queries.delete(e)}function wE(n){n.Ca.forEach((e=>{e.next()}))}var r_,hw;(hw=r_||(r_={})).Ma="default",hw.Cache="cache";class AE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==r_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t){this.qa=e,this.byteLength=t}Ua(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.serializer=e}Ks(e){return Ci(this.serializer,e)}qs(e){return e.metadata.exists?OI(this.serializer,e.document,!1):St.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return Gt(e)}}class rP{constructor(e,t){this.$a=e,this.serializer=t,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=EN(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;const r=Ge.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new fw(this.serializer);for(const a of e)if(a.metadata.queries){const l=r.Ks(a.metadata.name);for(const u of a.metadata.queries){const h=(t.get(u)||je()).add(l);t.set(u,h)}}return t}async ja(e){const t=await NM(e,new fw(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const a of this.Wa)await RM(e,a,r.get(a.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:t}}}function EN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.key=e}}class vN{constructor(e){this.key=e}}class bN{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=cI(e),this.tu=new Vo(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new uw,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const v=a.get(y),b=wh(this.query,_)?_:null,D=!!v&&this.mutatedKeys.has(v.key),M=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let V=!1;v&&b?v.data.isEqual(b.data)?D!==M&&(r.track({type:3,doc:b}),V=!0):this.su(v,b)||(r.track({type:2,doc:b}),V=!0,(d&&this.eu(b,d)>0||m&&this.eu(b,m)<0)&&(h=!0)):!v&&b?(r.track({type:0,doc:b}),V=!0):v&&!b&&(r.track({type:1,doc:v}),V=!0,(d||m)&&(h=!0)),V&&(b?(u=u.add(b),l=M?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Ss:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(b,D){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:V})}};return M(b)-M(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),a=a??!1;const h=t&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,u.length!==0||m?{snapshot:new iu(this.query,e.tu,l,u,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new vN(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new xN(r))})),t}cu(e){this.Za=e.ks,this.Ya=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return iu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ea="SyncEngine";class iP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class sP{constructor(e){this.key=e,this.hu=!1}}class aP{constructor(e,t,r,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new us((h=>oI(h)),Th),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(ye.comparator),this.Au=new Map,this.Vu=new cE,this.du={},this.mu=new Map,this.fu=_l.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lP(n,e,t=!0){const r=Dm(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await TN(r,e,t,!0),a}async function oP(n,e){const t=Dm(n);await TN(t,e,!0,!1)}async function TN(n,e,t,r){const a=await tu(n.localStore,jn(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let h;return r&&(h=await SE(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&Cm(n.remoteStore,a),h}async function SE(n,e,t,r,a){n.pu=(_,v,b)=>(async function(M,V,z,ee){let q=V.view.ru(z);q.Ss&&(q=await em(M.localStore,V.query,!1).then((({documents:S})=>V.view.ru(S,q))));const me=ee&&ee.targetChanges.get(V.targetId),fe=ee&&ee.targetMismatches.get(V.targetId)!=null,K=V.view.applyChanges(q,M.isPrimaryClient,me,fe);return i_(M,V.targetId,K.au),K.snapshot})(n,_,v,b);const l=await em(n.localStore,e,!0),u=new bN(e,l.ks),h=u.ru(l.documents),d=Ih.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),m=u.applyChanges(h,n.isPrimaryClient,d);i_(n,t,m.au);const y=new iP(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function uP(n,e,t){const r=Ee(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!Th(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await nu(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&ru(r.remoteStore,a.targetId),su(r,a.targetId)})).catch(pa)):(su(r,a.targetId),await nu(r.localStore,a.targetId,!0))}async function cP(n,e){const t=Ee(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ru(t.remoteStore,r.targetId))}async function hP(n,e,t){const r=CE(n);try{const a=await(function(u,h){const d=Ee(u),m=lt.now(),y=h.reduce(((b,D)=>b.add(D.key)),je());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let D=Zn(),M=je();return d.xs.getEntries(b,y).next((V=>{D=V,D.forEach(((z,ee)=>{ee.isValidDocument()||(M=M.add(z))}))})).next((()=>d.localDocuments.getOverlayedDocuments(b,D))).next((V=>{_=V;const z=[];for(const ee of h){const q=OV(ee,_.get(ee.key).overlayedDocument);q!=null&&z.push(new cs(ee.key,q,Z1(q.value.mapValue),Dt.exists(!0)))}return d.mutationQueue.addMutationBatch(b,m,z,h)})).next((V=>{v=V;const z=V.applyToLocalDocumentSet(_,M);return d.documentOverlayCache.saveOverlays(b,V.batchId,z)}))})).then((()=>({batchId:v.batchId,changes:fI(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let m=u.du[u.currentUser.toKey()];m||(m=new bt(ke)),m=m.insert(h,d),u.du[u.currentUser.toKey()]=m})(r,a.batchId,t),await hs(r,a.changes),await mu(r.remoteStore)}catch(a){const l=gu(a,"Failed to persist write");t.reject(l)}}async function wN(n,e){const t=Ee(n);try{const r=await SM(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(we(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?we(u.hu,14607):a.removedDocuments.size>0&&(we(u.hu,42227),u.hu=!1))})),await hs(t,r,e)}catch(r){await pa(r)}}function dw(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Ee(u);d.onlineState=h;let m=!1;d.queries.forEach(((y,_)=>{for(const v of _.ba)v.va(h)&&(m=!0)})),m&&wE(d)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fP(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new bt(ye.comparator);u=u.insert(l,St.newNoDocument(l,Ie.min()));const h=je().add(l),d=new Sh(Ie.min(),new Map,new bt(ke),u,h);await wN(r,d),r.Ru=r.Ru.remove(l),r.Au.delete(e),RE(r)}else await nu(r.localStore,e,!1).then((()=>su(r,e,t))).catch(pa)}async function dP(n,e){const t=Ee(n),r=e.batch.batchId;try{const a=await AM(t.localStore,e);NE(t,r,null),IE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await hs(t,a)}catch(a){await pa(a)}}async function mP(n,e,t){const r=Ee(n);try{const a=await(function(u,h){const d=Ee(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next((_=>(we(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(m,_)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);NE(r,e,t),IE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await hs(r,a)}catch(a){await pa(a)}}async function pP(n,e){const t=Ee(n);_a(t.remoteStore)||ue(Ea,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(d=>h.mutationQueue.getHighestUnacknowledgedBatchId(d)))})(t.localStore);if(r===ra)return void e.resolve();const a=t.mu.get(r)||[];a.push(e),t.mu.set(r,a)}catch(r){const a=gu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function IE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function NE(n,e,t){const r=Ee(n);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function su(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||AN(n,r)}))}function AN(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(ru(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),RE(n))}function i_(n,e,t){for(const r of t)r instanceof xN?(n.Vu.addReference(r.key,e),gP(n,r)):r instanceof vN?(ue(Ea,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||AN(n,r.key)):ve(19791,{wu:r})}function gP(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(ue(Ea,"New document in limbo: "+t),n.Eu.add(r),RE(n))}function RE(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Ge.fromString(e)),r=n.fu.next();n.Au.set(r,new sP(t)),n.Ru=n.Ru.insert(t,r),Cm(n.remoteStore,new es(jn(cu(t.path)),r,"TargetPurposeLimboResolution",Wn.ce))}}async function hs(n,e,t){const r=Ee(n),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,t).then((m=>{var y;if((m||t)&&r.isPrimaryClient){const _=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(d.targetId))==null?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(m){a.push(m);const _=mE.Es(d.targetId,m);l.push(_)}})))})),await Promise.all(u),r.Pu.J_(a),await(async function(d,m){const y=Ee(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>G.forEach(m,(v=>G.forEach(v.Ts,(b=>y.persistence.referenceDelegate.addReference(_,v.targetId,b))).next((()=>G.forEach(v.Is,(b=>y.persistence.referenceDelegate.removeReference(_,v.targetId,b)))))))))}catch(_){if(!ga(_))throw _;ue(pE,"Failed to update sequence numbers: "+_)}for(const _ of m){const v=_.targetId;if(!_.fromCache){const b=y.vs.get(v),D=b.snapshotVersion,M=b.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(v,M)}}})(r.localStore,l))}async function yP(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){ue(Ea,"User change. New user:",e.toKey());const r=await nN(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new oe(J.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hs(t,r.Ns)}}function _P(n,e){const t=Ee(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let a=je();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const h=t.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}async function EP(n,e){const t=Ee(n),r=await em(t.localStore,e.query,!0),a=e.view.cu(r);return t.isPrimaryClient&&i_(t,e.targetId,a.au),a}async function xP(n,e){const t=Ee(n);return aN(t.localStore,e).then((r=>hs(t,r)))}async function vP(n,e,t,r){const a=Ee(n),l=await(function(h,d){const m=Ee(h),y=Ee(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",(_=>y.Xn(_,d).next((v=>v?m.localDocuments.getDocuments(_,v):G.resolve(null)))))})(a.localStore,e);l!==null?(t==="pending"?await mu(a.remoteStore):t==="acknowledged"||t==="rejected"?(NE(a,e,r||null),IE(a,e),(function(h,d){Ee(Ee(h).mutationQueue).nr(d)})(a.localStore,e)):ve(6720,"Unknown batchState",{bu:t}),await hs(a,l)):ue(Ea,"Cannot apply mutation batch with id: "+e)}async function bP(n,e){const t=Ee(n);if(Dm(t),CE(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),a=await mw(t,r.toArray());t.gu=!0,await n_(t.remoteStore,!0);for(const l of a)Cm(t.remoteStore,l)}else if(e===!1&&t.gu!==!1){const r=[];let a=Promise.resolve();t.Iu.forEach(((l,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):a=a.then((()=>(su(t,u),nu(t.localStore,u,!0)))),ru(t.remoteStore,u)})),await a,await mw(t,r),(function(u){const h=Ee(u);h.Au.forEach(((d,m)=>{ru(h.remoteStore,m)})),h.Vu.zr(),h.Au=new Map,h.Ru=new bt(ye.comparator)})(t),t.gu=!1,await n_(t.remoteStore,!1)}}async function mw(n,e,t){const r=Ee(n),a=[],l=[];for(const u of e){let h;const d=r.Iu.get(u);if(d&&d.length!==0){h=await tu(r.localStore,jn(d[0]));for(const m of d){const y=r.Tu.get(m),_=await EP(r,y);_.snapshot&&l.push(_.snapshot)}}else{const m=await sN(r.localStore,u);h=await tu(r.localStore,m),await SE(r,SN(m),u,!1,h.resumeToken)}a.push(h)}return r.Pu.J_(l),a}function SN(n){return lI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function TP(n){return(function(t){return Ee(Ee(t).persistence).hs()})(Ee(n).localStore)}async function wP(n,e,t,r){const a=Ee(n);if(a.gu)return void ue(Ea,"Ignoring unexpected query state notification.");const l=a.Iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const u=await aN(a.localStore,uI(l[0])),h=Sh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",jt.EMPTY_BYTE_STRING);await hs(a,u,h);break}case"rejected":await nu(a.localStore,e,!0),su(a,e,r);break;default:ve(64155,t)}}async function AP(n,e,t){const r=Dm(n);if(r.gu){for(const a of e){if(r.Iu.has(a)&&r.sharedClientState.isActiveQueryTarget(a)){ue(Ea,"Adding an already active target "+a);continue}const l=await sN(r.localStore,a),u=await tu(r.localStore,l);await SE(r,SN(l),u.targetId,!1,u.resumeToken),Cm(r.remoteStore,u)}for(const a of t)r.Iu.has(a)&&await nu(r.localStore,a,!1).then((()=>{ru(r.remoteStore,a),su(r,a)})).catch(pa)}}function Dm(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_P.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fP.bind(null,e),e.Pu.J_=eP.bind(null,e.eventManager),e.Pu.yu=tP.bind(null,e.eventManager),e}function CE(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mP.bind(null,e),e}function SP(n,e,t){const r=Ee(n);(async function(l,u,h){try{const d=await u.getMetadata();if(await(function(b,D){const M=Ee(b),V=Gt(D.createTime);return M.persistence.runTransaction("hasNewerBundle","readonly",(z=>M.Pi.getBundleMetadata(z,D.id))).then((z=>!!z&&z.createTime.compareTo(V)>=0))})(l.localStore,d))return await u.close(),h._completeWith((function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}})(d)),Promise.resolve(new Set);h._updateProgress(EN(d));const m=new rP(d,u.serializer);let y=await u.Su();for(;y;){const v=await m.Ga(y);v&&h._updateProgress(v),y=await u.Su()}const _=await m.ja(l.localStore);return await hs(l,_.Ja,void 0),await(function(b,D){const M=Ee(b);return M.persistence.runTransaction("Save bundle","readwrite",(V=>M.Pi.saveBundleMetadata(V,D)))})(l.localStore,d),h._completeWith(_.progress),Promise.resolve(_.Ha)}catch(d){return Jr(Ea,`Loading bundle failed with ${d}`),h._failWith(d),Promise.resolve(new Set)}})(r,e,t).then((a=>{r.sharedClientState.notifyBundleLoaded(a)}))}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return tN(this.persistence,new eN,e.initialUser,this.serializer)}Cu(e){return new hE(Rm.Vi,this.serializer)}Du(e){return new hN}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class IP extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){we(this.persistence.referenceDelegate instanceof Zd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QI(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new hE((r=>Zd.Vi(r,t)),this.serializer)}}class IN extends fh{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await CE(this.xu.syncEngine),await mu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return tN(this.persistence,new eN,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new QI(r,e.asyncQueue,t)}Mu(e,t){const r=new C4(t,this.persistence);return new R4(e.asyncQueue,r)}Cu(e){const t=dE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new fE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,fN(),Pd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new hN}}class NP extends IN{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof cy&&(this.sharedClientState.syncEngine={So:vP.bind(null,t),Do:wP.bind(null,t),Co:AP.bind(null,t),hs:TP.bind(null,t),bo:xP.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await bP(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=fN();if(!cy.v(t))throw new oe(J.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=dE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class dh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yP.bind(null,this.syncEngine),await n_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZM})()}createDatastore(e){const t=Nh(e.databaseInfo.databaseId),r=VM(e.databaseInfo);return UM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,u,h){return new zM(r,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>dw(this.syncEngine,t,0)),(function(){return aw.v()?new aw:new CM})())}createSyncEngine(e,t){return(function(a,l,u,h,d,m,y){const _=new aP(a,l,u,h,d,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const l=Ee(a);ue(El,"RemoteStore shutting down."),l.Ea.add(5),await du(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}dh.provider={build:()=>new dh};function pw(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new bn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.qu(`length string (${t}) is not valid number`);const a=await this.Uu(r);return new nP(JSON.parse(a),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CP=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new oe(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,l){const u=Ee(a),h={documents:l.map((_=>ch(u.serializer,_)))},d=await u.jo("BatchGetDocuments",u.serializer.databaseId,Ge.emptyPath(),h,l.length),m=new Map;d.forEach((_=>{const v=zV(u.serializer,_);m.set(v.key.toString(),v)}));const y=[];return l.forEach((_=>{const v=m.get(_.toString());we(!!v,55234,{key:_}),y.push(v)})),y})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new fu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const a=ye.fromPath(r);this.mutations.push(new tE(a,this.precondition(a)))})),await(async function(r,a){const l=Ee(r),u={writes:a.map((h=>hh(l.serializer,h)))};await l.Wo("Commit",l.serializer.databaseId,Ge.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ve(50498,{Gu:e.constructor.name});t=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new oe(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?Dt.exists(!1):Dt.updateTime(t):Dt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new oe(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dt.updateTime(t)}return Dt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t,r,a,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=a,this.deferred=l,this.zu=r.maxAttempts,this.M_=new yE(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new CP(this.datastore),t=this.Ju(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((a=>{this.Zu(a)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const t=this.updateFunction(e);return!xh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!bI(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="FirestoreClient";class OP{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=z_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{ue(ma,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ue(ma,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=gu(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fy(n,e){n.asyncQueue.verifyOperationInProgress(),ue(ma,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await nN(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function gw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await DE(n);ue(ma,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>ow(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>ow(e.remoteStore,a))),n._onlineComponents=e}async function DE(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(ma,"Using user provided OfflineComponentProvider");try{await fy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Jr("Error using user provided cache. Falling back to memory cache: "+t),await fy(n,new fh)}}else ue(ma,"Using default OfflineComponentProvider"),await fy(n,new IP(void 0));return n._offlineComponents}async function km(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(ma,"Using user provided OnlineComponentProvider"),await gw(n,n._uninitializedComponentsProvider._online)):(ue(ma,"Using default OnlineComponentProvider"),await gw(n,new dh))),n._onlineComponents}function NN(n){return DE(n).then((e=>e.persistence))}function OE(n){return DE(n).then((e=>e.localStore))}function RN(n){return km(n).then((e=>e.remoteStore))}function kE(n){return km(n).then((e=>e.syncEngine))}function kP(n){return km(n).then((e=>e.datastore))}async function au(n){const e=await km(n),t=e.eventManager;return t.onListen=lP.bind(null,e.syncEngine),t.onUnlisten=uP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cP.bind(null,e.syncEngine),t}function VP(n){return n.asyncQueue.enqueue((async()=>{const e=await NN(n),t=await RN(n);return e.setNetworkEnabled(!0),(function(a){const l=Ee(a);return l.Ea.delete(0),Rh(l)})(t)}))}function MP(n){return n.asyncQueue.enqueue((async()=>{const e=await NN(n),t=await RN(n);return e.setNetworkEnabled(!1),(async function(a){const l=Ee(a);l.Ea.add(0),await du(l),l.Va.set("Offline")})(t)}))}function PP(n,e,t,r){const a=new Om(r),l=new AE(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>bE(await au(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>TE(await au(n),l)))}}function LP(n,e){const t=new bn;return n.asyncQueue.enqueueAndForget((async()=>(async function(a,l,u){try{const h=await(function(m,y){const _=Ee(m);return _.persistence.runTransaction("read document","readonly",(v=>_.localDocuments.getDocument(v,y)))})(a,l);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new oe(J.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const d=gu(h,`Failed to get document '${l} from cache`);u.reject(d)}})(await OE(n),e,t))),t.promise}function CN(n,e,t={}){const r=new bn;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,m){const y=new Om({next:v=>{y.Nu(),u.enqueueAndForget((()=>TE(l,_)));const b=v.docs.has(h);!b&&v.fromCache?m.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&d&&d.source==="server"?m.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(v)},error:v=>m.reject(v)}),_=new AE(cu(h.path),y,{includeMetadataChanges:!0,Ka:!0});return bE(l,_)})(await au(n),n.asyncQueue,e,t,r))),r.promise}function jP(n,e){const t=new bn;return n.asyncQueue.enqueueAndForget((async()=>(async function(a,l,u){try{const h=await em(a,l,!0),d=new bN(l,h.ks),m=d.ru(h.documents),y=d.applyChanges(m,!1);u.resolve(y.snapshot)}catch(h){const d=gu(h,`Failed to execute query '${l} against cache`);u.reject(d)}})(await OE(n),e,t))),t.promise}function DN(n,e,t={}){const r=new bn;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,m){const y=new Om({next:v=>{y.Nu(),u.enqueueAndForget((()=>TE(l,_))),v.fromCache&&d.source==="server"?m.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(v)},error:v=>m.reject(v)}),_=new AE(h,y,{includeMetadataChanges:!0,Ka:!0});return bE(l,_)})(await au(n),n.asyncQueue,e,t,r))),r.promise}function UP(n,e){const t=new bn;return n.asyncQueue.enqueueAndForget((async()=>hP(await kE(n),e,t))),t.promise}function BP(n,e){const t=new Om(e);return n.asyncQueue.enqueueAndForget((async()=>(function(a,l){Ee(a).Ca.add(l),l.next()})(await au(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(a,l){Ee(a).Ca.delete(l)})(await au(n),t)))}}function zP(n,e,t){const r=new bn;return n.asyncQueue.enqueueAndForget((async()=>{const a=await kP(n);new DP(n.asyncQueue,a,t,e,r).ju()})),r.promise}function FP(n,e,t,r){const a=(function(u,h){let d;return d=typeof u=="string"?wI().encode(u):u,(function(y,_){return new RP(y,_)})((function(y,_){if(y instanceof Uint8Array)return pw(y,_);if(y instanceof ArrayBuffer)return pw(new Uint8Array(y),_);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(d),h)})(t,Nh(e));n.asyncQueue.enqueueAndForget((async()=>{SP(await kE(n),a,r)}))}function qP(n,e){return n.asyncQueue.enqueue((async()=>(function(r,a){const l=Ee(r);return l.persistence.runTransaction("Get named query","readonly",(u=>l.Pi.getNamedQuery(u,a)))})(await OE(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="ComponentProvider",yw=new Map;function GP(n,e,t,r,a){return new sV(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,ON(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firestore.googleapis.com",_w=!0;class Ew{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kN,this.ssl=_w}else this.host=e.host,this.ssl=e.ssl??_w;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aM)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ON(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ew({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ew(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new y4;switch(r.type){case"firstParty":return new v4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=yw.get(t);r&&(ue(HP,"Removing Datastore"),yw.delete(t),r.terminate())})(this),Promise.resolve()}}function YP(n,e,t,r={}){var m;n=nt(n,Ch);const a=O_(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(k2(`https://${h}`),L2("Firestore",!0)),l.host!==kN&&l.host!==h&&Jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:r};if(!jo(d,u)&&(n._setSettings(d),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=dn.MOCK_USER;else{y=V2(r.mockUserToken,(m=n._app)==null?void 0:m.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(v)}n._authCredentials=new _4(new T1(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Un=class VN{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new VN(this.firestore,e,this._query)}},vt=class Lc{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lc(this.firestore,e,this._key)}toJSON(){return{type:Lc._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Eh(t,Lc._jsonSchema))return new Lc(e,r||null,new ye(Ge.fromString(t.referencePath)))}};vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:rn("string",vt._jsonSchemaVersion),referencePath:rn("string")};let ia=class MN extends Un{constructor(e,t,r){super(e,t,cu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ye(e))}withConverter(e){return new MN(this.firestore,e,this._path)}};function PN(n,e,...t){if(n=sn(n),F_("collection","path",e),n instanceof Ch){const r=Ge.fromString(e,...t);return lT(r),new ia(n,null,r)}{if(!(n instanceof vt||n instanceof ia))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ge.fromString(e,...t));return lT(r),new ia(n.firestore,null,r)}}function KP(n,e){if(n=nt(n,Ch),F_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Un(n,null,(function(r){return new os(Ge.emptyPath(),r)})(e))}function im(n,e,...t){if(n=sn(n),arguments.length===1&&(e=z_.newId()),F_("doc","path",e),n instanceof Ch){const r=Ge.fromString(e,...t);return aT(r),new vt(n,null,new ye(r))}{if(!(n instanceof vt||n instanceof ia))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ge.fromString(e,...t));return aT(r),new vt(n.firestore,n instanceof ia?n.converter:null,new ye(r))}}function LN(n,e){return n=sn(n),e=sn(e),(n instanceof vt||n instanceof ia)&&(e instanceof vt||e instanceof ia)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function jN(n,e){return n=sn(n),e=sn(e),n instanceof Un&&e instanceof Un&&n.firestore===e.firestore&&Th(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="AsyncQueue";class vw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yE(this,"async_queue_retry"),this._c=()=>{const r=Pd();r&&ue(xw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Pd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new bn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ga(e))throw e;ue(xw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qt("INTERNAL UNHANDLED ERROR: ",bw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=vE.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&ve(47125,{Pc:bw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function bw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this._progressObserver={},this._taskCompletionResolver=new bn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=-1;let Yt=class extends Ch{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new vw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vw(e),this._firestoreClient=void 0,await e}}};function Dn(n){if(n._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||UN(n),n._firestoreClient}function UN(n){var r,a,l,u;const e=n._freezeSettings(),t=GP(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(a=n._app)==null?void 0:a.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new OP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}})(n._componentsProvider))}function XP(n,e){Jr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return BN(n,dh.provider,{build:r=>new IN(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function WP(n){Jr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();BN(n,dh.provider,{build:t=>new NP(t,e.cacheSizeBytes)})}function BN(n,e,t){if((n=nt(n,Yt))._firestoreClient||n._terminated)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new oe(J.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},UN(n)}function JP(n){if(n._initialized&&!n._terminated)throw new oe(J.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bn;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Ri.v())return Promise.resolve();const a=r+ZI;await Ri.delete(a)})(dE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function ZP(n){return(function(t){const r=new bn;return t.asyncQueue.enqueueAndForget((async()=>pP(await kE(t),r))),r.promise})(Dn(n=nt(n,Yt)))}function eL(n){return VP(Dn(n=nt(n,Yt)))}function tL(n){return MP(Dn(n=nt(n,Yt)))}function nL(n,e){const t=Dn(n=nt(n,Yt)),r=new QP;return FP(t,n._databaseId,e,r),r}function rL(n,e){return qP(Dn(n=nt(n,Yt)),e).then((t=>t?new Un(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rn(jt.fromBase64String(e))}catch(t){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eh(e,Rn._jsonSchema))return Rn.fromBase64String(e.bytes)}}Rn._jsonSchemaVersion="firestore/bytes/1.0",Rn._jsonSchema={type:rn("string",Rn._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$r._jsonSchemaVersion}}static fromJSON(e){if(Eh(e,$r._jsonSchema))return new $r(e.latitude,e.longitude)}}$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:rn("string",$r._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eh(e,Xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Xr(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:rn("string",Xr._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=/^__.*__$/;class sL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}class zN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:n})}}class Vm{constructor(e,t,r,a,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Vm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const t=(a=this.path)==null?void 0:a.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var a;const t=(a=this.path)==null?void 0:a.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return sm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(FN(this.dataSource)&&iL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class aL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Nh(e)}createContext(e,t,r,a=!1){return new Vm({dataSource:e,methodName:t,targetDoc:r,path:Ct.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Al(n){const e=n._freezeSettings(),t=Nh(n._databaseId);return new aL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Mm(n,e,t,r,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,e,t,a);BE("Data must be an object, but it was:",u,r);const h=GN(r,u);let d,m;if(l.merge)d=new Jn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const v=vl(e,_,t);if(!u.contains(v))throw new oe(J.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);QN(y,v)||y.push(v)}d=new Jn(y),m=u.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,m=u.fieldTransforms;return new sL(new vn(h),d,m)}class Dh extends wl{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function qN(n,e,t){return new Vm({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class VE extends wl{_toFieldTransform(e){return new Ah(e.path,new Jo)}isEqual(e){return e instanceof VE}}class ME extends wl{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=qN(this,e,!0),r=this.Ac.map((l=>Sl(l,t))),a=new ml(r);return new Ah(e.path,a)}isEqual(e){return e instanceof ME&&jo(this.Ac,e.Ac)}}class PE extends wl{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=qN(this,e,!0),r=this.Ac.map((l=>Sl(l,t))),a=new pl(r);return new Ah(e.path,a)}isEqual(e){return e instanceof PE&&jo(this.Ac,e.Ac)}}class LE extends wl{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Zo(e.serializer,pI(e.serializer,this.Vc));return new Ah(e.path,t)}isEqual(e){return e instanceof LE&&this.Vc===e.Vc}}function jE(n,e,t,r){const a=n.createContext(1,e,t);BE("Data must be an object, but it was:",a,r);const l=[],u=vn.empty();ya(r,((d,m)=>{const y=KN(e,d,t);m=sn(m);const _=a.childContextForFieldPath(y);if(m instanceof Dh)l.push(y);else{const v=Sl(m,_);v!=null&&(l.push(y),u.set(y,v))}}));const h=new Jn(l);return new zN(u,h,a.fieldTransforms)}function UE(n,e,t,r,a,l){const u=n.createContext(1,e,t),h=[vl(e,r,t)],d=[a];if(l.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)h.push(vl(e,l[v])),d.push(l[v+1]);const m=[],y=vn.empty();for(let v=h.length-1;v>=0;--v)if(!QN(m,h[v])){const b=h[v];let D=d[v];D=sn(D);const M=u.childContextForFieldPath(b);if(D instanceof Dh)m.push(b);else{const V=Sl(D,M);V!=null&&(m.push(b),y.set(b,V))}}const _=new Jn(m);return new zN(y,_,u.fieldTransforms)}function HN(n,e,t,r=!1){return Sl(t,n.createContext(r?4:3,e))}function Sl(n,e){if(YN(n=sn(n)))return BE("Unsupported field value:",e,n),GN(n,e);if(n instanceof wl)return(function(r,a){if(!FN(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const h of r){let d=Sl(h,a.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pI(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=lt.fromDate(r);return{timestampValue:eu(a.serializer,l)}}if(r instanceof lt){const l=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eu(a.serializer,l)}}if(r instanceof $r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rn)return{bytesValue:II(a.serializer,r._byteString)};if(r instanceof vt){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:aE(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Xr)return(function(u,h){const d=u instanceof Xr?u.toArray():u;return{mapValue:{fields:{[$_]:{stringValue:X_},[$o]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return eE(h.serializer,y)}))}}}}}})(r,a);if(UI(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${ym(r)}`)})(n,e)}function GN(n,e){const t={};return H1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(n,((r,a)=>{const l=Sl(a,e.childContextForField(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function YN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof lt||n instanceof $r||n instanceof Rn||n instanceof vt||n instanceof wl||n instanceof Xr||UI(n))}function BE(n,e,t){if(!YN(t)||!S1(t)){const r=ym(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function vl(n,e,t){if((e=sn(e))instanceof xl)return e._internalPath;if(typeof e=="string")return KN(n,e);throw sm("Field path arguments must be of type string or ",n,!1,void 0,t)}const lL=new RegExp("[~\\*/\\[\\]]");function KN(n,e,t){if(e.search(lL)>=0)throw sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xl(...e.split("."))._internalPath}catch{throw sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sm(n,e,t,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new oe(J.INVALID_ARGUMENT,h+n+d)}function QN(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{convertValue(e,t="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ya(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){var r,a,l;const t=(l=(a=(r=e.fields)==null?void 0:r[$o].arrayValue)==null?void 0:a.values)==null?void 0:l.map((u=>Rt(u.doubleValue)));return new Xr(t)}convertGeoPoint(e){return new $r(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Tm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ah(e));default:return null}}convertTimestamp(e){const t=ss(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ge.fromString(e);we(jI(r),9688,{name:e});const a=new ua(r.get(1),r.get(3)),l=new ye(r.popFirst(5));return a.isEqual(t)||qt(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends zE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(){return new Dh("deleteField")}function uL(){return new VE("serverTimestamp")}function cL(...n){return new ME("arrayUnion",n)}function hL(...n){return new PE("arrayRemove",n)}function fL(n){return new LE("increment",n)}const Tw="@firebase/firestore",ww="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(vl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dL extends mh{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FE{}class Oh extends FE{}function Xs(n,e,...t){let r=[];e instanceof FE&&r.push(e),r=r.concat(t),(function(l){const u=l.filter((d=>d instanceof qE)).length,h=l.filter((d=>d instanceof Pm)).length;if(u>1||u>0&&h>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Pm extends Oh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Pm(e,t,r)}_apply(e){const t=this._parse(e);return WN(e._query,t),new Un(e.firestore,e.converter,Yy(e._query,t))}_parse(e){const t=Al(e.firestore);return(function(l,u,h,d,m,y,_){let v;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Sw(_,y);const D=[];for(const M of _)D.push(Aw(d,l,M));v={arrayValue:{values:D}}}else v=Aw(d,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Sw(_,y),v=HN(h,u,_,y==="in"||y==="not-in");return Qe.create(m,y,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function mL(n,e,t){const r=e,a=vl("where",n);return Pm._create(a,r,t)}class qE extends FE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qE(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ht.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)WN(u,d),u=Yy(u,d)})(e._query,t),new Un(e.firestore,e.converter,Yy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class HE extends Oh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new HE(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uh(l,u)})(e._query,this._field,this._direction);return new Un(e.firestore,e.converter,EV(e._query,t))}}function pL(n,e="asc"){const t=e,r=vl("orderBy",n);return HE._create(r,t)}class Lm extends Oh{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Lm(e,t,r)}_apply(e){return new Un(e.firestore,e.converter,$d(e._query,this._limit,this._limitType))}}function gL(n){return I1("limit",n),Lm._create("limit",n,"F")}function yL(n){return I1("limitToLast",n),Lm._create("limitToLast",n,"L")}class jm extends Oh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new jm(e,t,r)}_apply(e){const t=XN(e,this.type,this._docOrFields,this._inclusive);return new Un(e.firestore,e.converter,xV(e._query,t))}}function _L(...n){return jm._create("startAt",n,!0)}function EL(...n){return jm._create("startAfter",n,!1)}class Um extends Oh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Um(e,t,r)}_apply(e){const t=XN(e,this.type,this._docOrFields,this._inclusive);return new Un(e.firestore,e.converter,vV(e._query,t))}}function xL(...n){return Um._create("endBefore",n,!1)}function vL(...n){return Um._create("endAt",n,!0)}function XN(n,e,t,r){if(t[0]=sn(t[0]),t[0]instanceof mh)return(function(l,u,h,d,m){if(!d)throw new oe(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const _ of Oo(l))if(_.field.isKeyField())y.push(fl(u,d.key));else{const v=d.data.field(_.field);if(bm(v))throw new oe(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const b=_.field.canonicalString();throw new oe(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}y.push(v)}return new fa(y,m)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Al(n.firestore);return(function(u,h,d,m,y,_){const v=u.explicitOrderBy;if(y.length>v.length)throw new oe(J.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let D=0;D<y.length;D++){const M=y[D];if(v[D].field.isKeyField()){if(typeof M!="string")throw new oe(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof M}`);if(!J_(u)&&M.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${M}' contains a slash.`);const V=u.path.child(Ge.fromString(M));if(!ye.isDocumentKey(V))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const z=new ye(V);b.push(fl(h,z))}else{const V=HN(d,m,M);b.push(V)}}return new fa(b,_)})(n._query,n.firestore._databaseId,a,e,t,r)}}function Aw(n,e,t){if(typeof(t=sn(t))=="string"){if(t==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J_(e)&&t.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ge.fromString(t));if(!ye.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fl(n,new ye(r))}if(t instanceof vt)return fl(n,t._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ym(t)}.`)}function Sw(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WN(n,e){const t=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Bm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class bL extends zE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}class ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Or=class JN extends mh{constructor(e,t,r,a,l,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=JN._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Or._jsonSchemaVersion="firestore/documentSnapshot/1.0",Or._jsonSchema={type:rn("string",Or._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};let Qc=class extends Or{data(e={}){return super.data(e)}},Wr=class ZN{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ol(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Qc(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Qc(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ol(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Qc(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ol(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:TL(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ZN._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=z_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function TL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:n})}}function eR(n,e){return n instanceof Or&&e instanceof Or?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wr&&e instanceof Wr&&n._firestore===e._firestore&&jN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr._jsonSchemaVersion="firestore/querySnapshot/1.0",Wr._jsonSchema={type:rn("string",Wr._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};const wL={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AL=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Al(e)}set(e,t,r){this._verifyNotCommitted();const a=ea(e,this._firestore),l=Bm(a.converter,t,r),u=Mm(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(u.toMutation(a._key,Dt.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=ea(e,this._firestore);let u;return u=typeof(t=sn(t))=="string"||t instanceof xl?UE(this._dataReader,"WriteBatch.update",l._key,t,r,a):jE(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,Dt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ea(e,this._firestore);return this._mutations=this._mutations.concat(new fu(t._key,Dt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ea(n,e){if((n=sn(n)).firestore!==e)throw new oe(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Al(e)}get(e){const t=ea(e,this._firestore),r=new bL(this._firestore);return this._transaction.lookup([t._key]).then((a=>{if(!a||a.length!==1)return ve(24041);const l=a[0];if(l.isFoundDocument())return new mh(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new mh(this._firestore,r,t._key,null,t.converter);throw ve(18433,{doc:l})}))}set(e,t,r){const a=ea(e,this._firestore),l=Bm(a.converter,t,r),u=Mm(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,r);return this._transaction.set(a._key,u),this}update(e,t,r,...a){const l=ea(e,this._firestore);let u;return u=typeof(t=sn(t))=="string"||t instanceof xl?UE(this._dataReader,"Transaction.update",l._key,t,r,a):jE(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=ea(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IL=class extends SL{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ea(e,this._firestore),r=new Il(this._firestore);return super.get(e).then((a=>new Or(this._firestore,r,t._key,a._document,new ol(!1,!1),t.converter)))}};function NL(n,e,t){n=nt(n,Yt);const r={...wL,...t};(function(u){if(u.maxAttempts<1)throw new oe(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const a=Dn(n);return zP(a,(l=>e(new IL(n,l))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(n){n=nt(n,vt);const e=nt(n.firestore,Yt),t=Dn(e);return CN(t,n._key).then((r=>GE(e,n,r)))}function CL(n){n=nt(n,vt);const e=nt(n.firestore,Yt),t=Dn(e),r=new Il(e);return LP(t,n._key).then((a=>new Or(e,r,n._key,a,new ol(a!==null&&a.hasLocalMutations,!0),n.converter)))}function DL(n){n=nt(n,vt);const e=nt(n.firestore,Yt),t=Dn(e);return CN(t,n._key,{source:"server"}).then((r=>GE(e,n,r)))}function OL(n){n=nt(n,Un);const e=nt(n.firestore,Yt),t=Dn(e),r=new Il(e);return $N(n._query),DN(t,n._query).then((a=>new Wr(e,r,n,a)))}function kL(n){n=nt(n,Un);const e=nt(n.firestore,Yt),t=Dn(e),r=new Il(e);return jP(t,n._query).then((a=>new Wr(e,r,n,a)))}function VL(n){n=nt(n,Un);const e=nt(n.firestore,Yt),t=Dn(e),r=new Il(e);return DN(t,n._query,{source:"server"}).then((a=>new Wr(e,r,n,a)))}function Iw(n,e,t){n=nt(n,vt);const r=nt(n.firestore,Yt),a=Bm(n.converter,e,t),l=Al(r);return kh(r,[Mm(l,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Dt.none())])}function Nw(n,e,t,...r){n=nt(n,vt);const a=nt(n.firestore,Yt),l=Al(a);let u;return u=typeof(e=sn(e))=="string"||e instanceof xl?UE(l,"updateDoc",n._key,e,t,r):jE(l,"updateDoc",n._key,e),kh(a,[u.toMutation(n._key,Dt.exists(!0))])}function ML(n){return kh(nt(n.firestore,Yt),[new fu(n._key,Dt.none())])}function PL(n,e){const t=nt(n.firestore,Yt),r=im(n),a=Bm(n.converter,e),l=Al(n.firestore);return kh(t,[Mm(l,"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Dt.exists(!1))]).then((()=>r))}function tR(n,...e){var m,y,_;n=sn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||s_(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(s_(e[r])){const v=e[r];e[r]=(m=v.next)==null?void 0:m.bind(v),e[r+1]=(y=v.error)==null?void 0:y.bind(v),e[r+2]=(_=v.complete)==null?void 0:_.bind(v)}let l,u,h;if(n instanceof vt)u=nt(n.firestore,Yt),h=cu(n._key.path),l={next:v=>{e[r]&&e[r](GE(u,n,v))},error:e[r+1],complete:e[r+2]};else{const v=nt(n,Un);u=nt(v.firestore,Yt),h=v._query;const b=new Il(u);l={next:D=>{e[r]&&e[r](new Wr(u,b,v,D))},error:e[r+1],complete:e[r+2]},$N(n._query)}const d=Dn(u);return PP(d,h,a,l)}function LL(n,e){n=nt(n,Yt);const t=Dn(n),r=s_(e)?e:{next:e};return BP(t,r)}function kh(n,e){const t=Dn(n);return UP(t,e)}function GE(n,e,t){const r=t.docs.get(e._key),a=new Il(n);return new Or(n,a,e._key,r,new ol(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){m4(L_),zo(new hl("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new Yt(new E4(r.getProvider("auth-internal")),new b4(u,r.getProvider("app-check-internal")),aV(u,a),u);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ns(Tw,ww,e),ns(Tw,ww,"esm2020")})();const jL="@firebase/firestore-compat",UL="0.4.5";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(){if(typeof Uint8Array>"u")throw new oe("unimplemented","Uint8Arrays are not available in this environment.")}function Cw(){if(!rV())throw new oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}let nR=class a_{constructor(e){this._delegate=e}static fromBase64String(e){return Cw(),new a_(Rn.fromBase64String(e))}static fromUint8Array(e){return Rw(),new a_(Rn.fromUint8Array(e))}toBase64(){return Cw(),this._delegate.toBase64()}toUint8Array(){return Rw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n){return BL(n,["next","error","complete"])}function BL(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{enableIndexedDbPersistence(e,t){return XP(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return WP(e._delegate)}clearIndexedDbPersistence(e){return JP(e._delegate)}}class rR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ua||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Jr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){YP(this._delegate,e,t,r)}enableNetwork(){return eL(this._delegate)}disableNetwork(){return tL(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,A1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return ZP(this._delegate)}onSnapshotsInSync(e){return LL(this._delegate,e)}get app(){if(!this._appCompat)throw new oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new lu(this,PN(this._delegate,e))}catch(t){throw Ln(t,"collection()","Firestore.collection()")}}doc(e){try{return new Dr(this,im(this._delegate,e))}catch(t){throw Ln(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Pn(this,KP(this._delegate,e))}catch(t){throw Ln(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return NL(this._delegate,t=>e(new iR(this,t)))}batch(){return Dn(this._delegate),new sR(new AL(this._delegate,e=>kh(this._delegate,e)))}loadBundle(e){return nL(this._delegate,e)}namedQuery(e){return rL(this._delegate,e).then(t=>t?new Pn(this,t):null)}}class zm extends zE{constructor(e){super(),this.firestore=e}convertBytes(e){return new nR(new Rn(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Dr.forKey(t,this.firestore,null)}}function FL(n){p4(n)}class iR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new zm(e)}get(e){const t=ul(e);return this._delegate.get(t).then(r=>new ph(this._firestore,new Or(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=ul(e);return r?(YE("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=ul(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=ul(e);return this._delegate.delete(t),this}}class sR{constructor(e){this._delegate=e}set(e,t,r){const a=ul(e);return r?(YE("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=ul(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=ul(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class bl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Qc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gh(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=bl.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let l=a.get(t);return l||(l=new bl(e,new zm(e),t),a.set(t,l)),l}}bl.INSTANCES=new WeakMap;class Dr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zm(e)}static forPath(e,t,r){if(e.length%2!==0)throw new oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Dr(t,new vt(t._delegate,r,new ye(e)))}static forKey(e,t,r){return new Dr(t,new vt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new lu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new lu(this.firestore,PN(this._delegate,e))}catch(t){throw Ln(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=sn(e),e instanceof vt?LN(this._delegate,e):!1}set(e,t){t=YE("DocumentReference.set",t);try{return t?Iw(this._delegate,e,t):Iw(this._delegate,e)}catch(r){throw Ln(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?Nw(this._delegate,e):Nw(this._delegate,e,t,...r)}catch(a){throw Ln(a,"updateDoc()","DocumentReference.update()")}}delete(){return ML(this._delegate)}onSnapshot(...e){const t=aR(e),r=lR(e,a=>new ph(this.firestore,new Or(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return tR(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=CL(this._delegate):(e==null?void 0:e.source)==="server"?t=DL(this._delegate):t=RL(this._delegate),t.then(r=>new ph(this.firestore,new Or(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Dr(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ln(n,e,t){return n.message=n.message.replace(e,t),n}function aR(n){for(const e of n)if(typeof e=="object"&&!l_(e))return e;return{}}function lR(n,e){var r,a;let t;return l_(n[0])?t=n[0]:l_(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:l=>{t.next&&t.next(e(l))},error:(r=t.error)==null?void 0:r.bind(t),complete:(a=t.complete)==null?void 0:a.bind(t)}}class ph{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Dr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return eR(this._delegate,e._delegate)}}class gh extends ph{data(e){const t=this._delegate.data(e);return this._delegate._converter||g4(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Pn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zm(e)}where(e,t,r){try{return new Pn(this.firestore,Xs(this._delegate,mL(e,t,r)))}catch(a){throw Ln(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Pn(this.firestore,Xs(this._delegate,pL(e,t)))}catch(r){throw Ln(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Pn(this.firestore,Xs(this._delegate,gL(e)))}catch(t){throw Ln(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Pn(this.firestore,Xs(this._delegate,yL(e)))}catch(t){throw Ln(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Pn(this.firestore,Xs(this._delegate,_L(...e)))}catch(t){throw Ln(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Pn(this.firestore,Xs(this._delegate,EL(...e)))}catch(t){throw Ln(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Pn(this.firestore,Xs(this._delegate,xL(...e)))}catch(t){throw Ln(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Pn(this.firestore,Xs(this._delegate,vL(...e)))}catch(t){throw Ln(t,"endAt()","Query.endAt()")}}isEqual(e){return jN(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=kL(this._delegate):(e==null?void 0:e.source)==="server"?t=VL(this._delegate):t=OL(this._delegate),t.then(r=>new o_(this.firestore,new Wr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=aR(e),r=lR(e,a=>new o_(this.firestore,new Wr(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return tR(this._delegate,t,r)}withConverter(e){return new Pn(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class qL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new gh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class o_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Pn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new gh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new qL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new gh(this._firestore,r))})}isEqual(e){return eR(this._delegate,e._delegate)}}class lu extends Pn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Dr(this.firestore,e):null}doc(e){try{return e===void 0?new Dr(this.firestore,im(this._delegate)):new Dr(this.firestore,im(this._delegate,e))}catch(t){throw Ln(t,"doc()","CollectionReference.doc()")}}add(e){return PL(this._delegate,e).then(t=>new Dr(this.firestore,t))}isEqual(e){return LN(this._delegate,e._delegate)}withConverter(e){return new lu(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ul(n){return nt(n,vt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(...e){this._delegate=new xl(...e)}static documentId(){return new KE(Ct.keyField().canonicalString())}isEqual(e){return e=sn(e),e instanceof xl?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static serverTimestamp(){const e=uL();return e._methodName="FieldValue.serverTimestamp",new sl(e)}static delete(){const e=oL();return e._methodName="FieldValue.delete",new sl(e)}static arrayUnion(...e){const t=cL(...e);return t._methodName="FieldValue.arrayUnion",new sl(t)}static arrayRemove(...e){const t=hL(...e);return t._methodName="FieldValue.arrayRemove",new sl(t)}static increment(e){const t=fL(e);return t._methodName="FieldValue.increment",new sl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={Firestore:rR,GeoPoint:$r,Timestamp:lt,Blob:nR,Transaction:iR,WriteBatch:sR,DocumentReference:Dr,DocumentSnapshot:ph,Query:Pn,QueryDocumentSnapshot:gh,QuerySnapshot:o_,CollectionReference:lu,FieldPath:KE,FieldValue:sl,setLogLevel:FL,CACHE_SIZE_UNLIMITED:$P};function GL(n,e){n.INTERNAL.registerComponent(new hl("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(r,a)},"PUBLIC").setServiceProps({...HL}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(n){GL(n,(e,t)=>new rR(e,t,new zL)),n.registerVersion(jL,UL)}YL(Fo);const KL={apiKey:"AIzaSyBQlXE3ZTGzEDp3U1YucSfbCUOz4oRRUEw",authDomain:"aasra-messaging-system.firebaseapp.com",projectId:"aasra-messaging-system",storageBucket:"aasra-messaging-system.appspot.com",messagingSenderId:"724660037659",appId:"1:724660037659:web:491959639bc5c298d0b0be",measurementId:"G-R1EPPS4QXT"};Fo.apps.length||Fo.initializeApp(KL);const al=Fo.firestore(),oR=Fo.firestore.FieldValue.serverTimestamp;var QL={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dw;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Dw||(Dw={}));var Ow;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Ow||(Ow={}));var kw;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(kw||(kw={}));var Vw;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Vw||(Vw={}));var Mw;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Mw||(Mw={}));var Pw;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Pw||(Pw={}));var Lw;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Lw||(Lw={}));var jw;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(jw||(jw={}));var Uw;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Uw||(Uw={}));var Bw;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Bw||(Bw={}));var zw;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(zw||(zw={}));var Fw;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Fw||(Fw={}));var qw;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(qw||(qw={}));var Hw;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Hw||(Hw={}));var Gw;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Gw||(Gw={}));var Yw;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(Yw||(Yw={}));var Kw;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Kw||(Kw={}));var Qw;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Qw||(Qw={}));var $w;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})($w||($w={}));var Xw;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Xw||(Xw={}));var Ww;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ww||(Ww={}));var Jw;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Jw||(Jw={}));var Zw;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Zw||(Zw={}));var eA;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(eA||(eA={}));var tA;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(tA||(tA={}));var nA;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(nA||(nA={}));var rA;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(rA||(rA={}));var iA;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(iA||(iA={}));var sA;(function(n){n.COLLECTION="COLLECTION"})(sA||(sA={}));var aA;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(aA||(aA={}));var lA;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(lA||(lA={}));var oA;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(oA||(oA={}));var uA;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(uA||(uA={}));var cA;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(cA||(cA={}));var hA;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hA||(hA={}));var fA;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fA||(fA={}));var dA;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(dA||(dA={}));var mA;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(mA||(mA={}));var pA;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(pA||(pA={}));var gA;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(gA||(gA={}));var yA;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(yA||(yA={}));var _A;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(_A||(_A={}));var EA;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING",n.DISTILLATION="DISTILLATION"})(EA||(EA={}));var xA;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(xA||(xA={}));var vA;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(vA||(vA={}));var bA;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(bA||(bA={}));var TA;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(TA||(TA={}));var wA;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(wA||(wA={}));var AA;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(AA||(AA={}));var SA;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(SA||(SA={}));var IA;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(IA||(IA={}));var NA;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(NA||(NA={}));var RA;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(RA||(RA={}));var CA;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(CA||(CA={}));var DA;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(DA||(DA={}));var OA;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(OA||(OA={}));var kA;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(kA||(kA={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var VA;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(VA||(VA={}));function am(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function MA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vt(n){return this instanceof Vt?(this.v=n,this):new Vt(n)}function $c(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(b){return function(D){return Promise.resolve(D).then(b,_)}}function h(b,D){r[b]&&(a[b]=function(M){return new Promise(function(V,z){l.push([b,M,V,z])>1||d(b,M)})},D&&(a[b]=D(a[b])))}function d(b,D){try{m(r[b](D))}catch(M){v(l[0][3],M)}}function m(b){b.value instanceof Vt?Promise.resolve(b.value.v).then(y,_):v(l[0][2],b)}function y(b){d("next",b)}function _(b){d("throw",b)}function v(b,D){b(D),l.shift(),l.length&&d(l[0][0],l[0][1])}}function Mo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof MA=="function"?MA(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(l){t[l]=n[l]&&function(u){return new Promise(function(h,d){u=n[l](u),a(h,d,u.done,u.value)})}}function a(l,u,h,d){Promise.resolve(d).then(function(m){l({value:m,done:h})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let uR=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return uR=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^t()&15>>+r/4).toString(16))};const $L=()=>uR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u_(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const c_=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kr extends Error{}class Bn extends kr{constructor(e,t,r,a){super(`${Bn.makeMessage(e,t,r)}`),this.status=e,this.headers=a,this.error=t}static makeMessage(e,t,r){const a=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,t,r,a){if(!e||!a)return new Fm({message:r,cause:c_(t)});const l=t;return e===400?new hR(e,l,r,a):e===401?new fR(e,l,r,a):e===403?new dR(e,l,r,a):e===404?new mR(e,l,r,a):e===409?new pR(e,l,r,a):e===422?new gR(e,l,r,a):e===429?new yR(e,l,r,a):e>=500?new _R(e,l,r,a):new Bn(e,l,r,a)}}class h_ extends Bn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Fm extends Bn{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class cR extends Fm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class hR extends Bn{}class fR extends Bn{}class dR extends Bn{}class mR extends Bn{}class pR extends Bn{}class gR extends Bn{}class yR extends Bn{}class _R extends Bn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XL=/^[a-z][a-z0-9+.-]*:/i,WL=n=>XL.test(n);let f_=n=>(f_=Array.isArray,f_(n));const JL=f_;let ZL=JL;const PA=ZL;function ej(n){if(!n)return!0;for(const e in n)return!1;return!0}function tj(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const nj=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new kr(`${n} must be an integer`);if(e<0)throw new kr(`${n} must be a positive integer`);return e},rj=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ij=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Co="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sj(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const aj=()=>{var n,e,t,r,a;const l=sj();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":jA(Deno.build.os),"X-Stainless-Arch":LA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":jA((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":LA((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const u=lj();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function lj(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const a=r[1]||0,l=r[2]||0,u=r[3]||0;return{browser:e,version:`${a}.${l}.${u}`}}}return null}const LA=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",jA=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let pd;const oj=()=>pd??(pd=aj());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uj(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function ER(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function cj(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return ER({start(){},async pull(t){const{done:r,value:a}=await e.next();r?t.close():t.enqueue(a)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function xR(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function hj(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const r=n.getReader(),a=r.cancel();r.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fj=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vR=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function dy(n,e,t){return vR(),new File(n,e??"unknown_file",t)}function dj(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const mj=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bR=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",pj=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&bR(n),gj=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function yj(n,e,t){if(vR(),n=await n,pj(n))return n instanceof File?n:dy([await n.arrayBuffer()],n.name);if(gj(n)){const a=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),dy(await d_(a),e,t)}const r=await d_(n);if(e||(e=dj(n)),!(t!=null&&t.type)){const a=r.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof a=="string"&&(t=Object.assign(Object.assign({},t),{type:a}))}return dy(r,e,t)}async function d_(n){var e,t,r,a,l;let u=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)u.push(n);else if(bR(n))u.push(n instanceof Blob?n:await n.arrayBuffer());else if(mj(n))try{for(var h=!0,d=Mo(n),m;m=await d.next(),e=m.done,!e;h=!0){a=m.value,h=!1;const y=a;u.push(...await d_(y))}}catch(y){t={error:y}}finally{try{!h&&!e&&(r=d.return)&&await r.call(d)}finally{if(t)throw t.error}}else{const y=(l=n==null?void 0:n.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof n}${y?`; constructor: ${y}`:""}${_j(n)}`)}return u}function _j(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TR{constructor(e){this._client=e}}TR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wR(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const UA=Object.freeze(Object.create(null)),Ej=(n=wR)=>(function(t,...r){if(t.length===1)return t[0];let a=!1;const l=[],u=t.reduce((y,_,v)=>{var b,D,M;/[?#]/.test(_)&&(a=!0);const V=r[v];let z=(a?encodeURIComponent:n)(""+V);return v!==r.length&&(V==null||typeof V=="object"&&V.toString===((M=Object.getPrototypeOf((D=Object.getPrototypeOf((b=V.hasOwnProperty)!==null&&b!==void 0?b:UA))!==null&&D!==void 0?D:UA))===null||M===void 0?void 0:M.toString))&&(z=V+"",l.push({start:y.length+_.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(V).slice(8,-1)} is not a valid path parameter`})),y+_+(v===r.length?"":z)},""),h=u.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=d.exec(h))!==null;)l.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(l.sort((y,_)=>y.start-_.start),l.length>0){let y=0;const _=l.reduce((v,b)=>{const D=" ".repeat(b.start-y),M="^".repeat(b.length);return y=b.start+b.length,v+D+M},"");throw new kr(`Path parameters result in path with invalid segments:
${l.map(v=>v.error).join(`
`)}
${u}
${_}`)}return u}),gd=Ej(wR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AR extends TR{create(e,t){var r;const{api_version:a=this._client.apiVersion}=e,l=am(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new kr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new kr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(gd`/${a}/interactions`,Object.assign(Object.assign({body:l},t),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,t={},r){const{api_version:a=this._client.apiVersion}=t??{};return this._client.delete(gd`/${a}/interactions/${e}`,r)}cancel(e,t={},r){const{api_version:a=this._client.apiVersion}=t??{};return this._client.post(gd`/${a}/interactions/${e}/cancel`,r)}get(e,t={},r){var a;const l=t??{},{api_version:u=this._client.apiVersion}=l,h=am(l,["api_version"]);return this._client.get(gd`/${u}/interactions/${e}`,Object.assign(Object.assign({query:h},r),{stream:(a=t==null?void 0:t.stream)!==null&&a!==void 0?a:!1}))}}AR._key=Object.freeze(["interactions"]);class SR extends AR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xj(n){let e=0;for(const a of n)e+=a.length;const t=new Uint8Array(e);let r=0;for(const a of n)t.set(a,r),r+=a.length;return t}let yd;function QE(n){let e;return(yd??(e=new globalThis.TextEncoder,yd=e.encode.bind(e)))(n)}let _d;function BA(n){let e;return(_d??(e=new globalThis.TextDecoder,_d=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qm{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?QE(e):e;this.buffer=xj([this.buffer,t]);const r=[];let a;for(;(a=vj(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){r.push(BA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,u=BA(this.buffer.subarray(0,l));r.push(u),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}qm.NEWLINE_CHARS=new Set([`
`,"\r"]);qm.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function vj(n,e){for(let a=e??0;a<n.length;a++){if(n[a]===10)return{preceding:a,index:a+1,carriage:!1};if(n[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function bj(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lm={off:0,error:200,warn:300,info:400,debug:500},zA=(n,e,t)=>{if(n){if(tj(lm,n))return n;Mn(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(lm))}`)}};function jc(){}function Ed(n,e,t){return!e||lm[n]>lm[t]?jc:e[n].bind(e)}const Tj={error:jc,warn:jc,info:jc,debug:jc};let FA=new WeakMap;function Mn(n){var e;const t=n.logger,r=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return Tj;const a=FA.get(t);if(a&&a[0]===r)return a[1];const l={error:Ed("error",t,r),warn:Ed("warn",t,r),info:Ed("info",t,r),debug:Ed("debug",t,r)};return FA.set(t,[r,l]),l}const el=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Do{constructor(e,t,r){this.iterator=e,this.controller=t,this.client=r}static fromSSEResponse(e,t,r){let a=!1;const l=r?Mn(r):console;function u(){return $c(this,arguments,function*(){var d,m,y,_;if(a)throw new kr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let v=!1;try{try{for(var b=!0,D=Mo(wj(e,t)),M;M=yield Vt(D.next()),d=M.done,!d;b=!0){_=M.value,b=!1;const V=_;if(!v)if(V.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield Vt(JSON.parse(V.data))}catch(z){throw l.error("Could not parse message into JSON:",V.data),l.error("From chunk:",V.raw),z}}}catch(V){m={error:V}}finally{try{!b&&!d&&(y=D.return)&&(yield Vt(y.call(D)))}finally{if(m)throw m.error}}v=!0}catch(V){if(u_(V))return yield Vt(void 0);throw V}finally{v||t.abort()}})}return new Do(u,t,r)}static fromReadableStream(e,t,r){let a=!1;function l(){return $c(this,arguments,function*(){var d,m,y,_;const v=new qm,b=xR(e);try{for(var D=!0,M=Mo(b),V;V=yield Vt(M.next()),d=V.done,!d;D=!0){_=V.value,D=!1;const z=_;for(const ee of v.decode(z))yield yield Vt(ee)}}catch(z){m={error:z}}finally{try{!D&&!d&&(y=M.return)&&(yield Vt(y.call(M)))}finally{if(m)throw m.error}}for(const z of v.flush())yield yield Vt(z)})}function u(){return $c(this,arguments,function*(){var d,m,y,_;if(a)throw new kr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let v=!1;try{try{for(var b=!0,D=Mo(l()),M;M=yield Vt(D.next()),d=M.done,!d;b=!0){_=M.value,b=!1;const V=_;v||V&&(yield yield Vt(JSON.parse(V)))}}catch(V){m={error:V}}finally{try{!b&&!d&&(y=D.return)&&(yield Vt(y.call(D)))}finally{if(m)throw m.error}}v=!0}catch(V){if(u_(V))return yield Vt(void 0);throw V}finally{v||t.abort()}})}return new Do(u,t,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),a=l=>({next:()=>{if(l.length===0){const u=r.next();e.push(u),t.push(u)}return l.shift()}});return[new Do(()=>a(e),this.controller,this.client),new Do(()=>a(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return ER({async start(){t=e[Symbol.asyncIterator]()},async pull(r){try{const{value:a,done:l}=await t.next();if(l)return r.close();const u=QE(JSON.stringify(a)+`
`);r.enqueue(u)}catch(a){r.error(a)}},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}}function wj(n,e){return $c(this,arguments,function*(){var r,a,l,u;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new kr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new kr("Attempted to iterate over a response with no body");const h=new Sj,d=new qm,m=xR(n.body);try{for(var y=!0,_=Mo(Aj(m)),v;v=yield Vt(_.next()),r=v.done,!r;y=!0){u=v.value,y=!1;const b=u;for(const D of d.decode(b)){const M=h.decode(D);M&&(yield yield Vt(M))}}}catch(b){a={error:b}}finally{try{!y&&!r&&(l=_.return)&&(yield Vt(l.call(_)))}finally{if(a)throw a.error}}for(const b of d.flush()){const D=h.decode(b);D&&(yield yield Vt(D))}})}function Aj(n){return $c(this,arguments,function*(){var t,r,a,l;let u=new Uint8Array;try{for(var h=!0,d=Mo(n),m;m=yield Vt(d.next()),t=m.done,!t;h=!0){l=m.value,h=!1;const y=l;if(y==null)continue;const _=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?QE(y):y;let v=new Uint8Array(u.length+_.length);v.set(u),v.set(_,u.length),u=v;let b;for(;(b=bj(u))!==-1;)yield yield Vt(u.slice(0,b)),u=u.slice(b)}}catch(y){r={error:y}}finally{try{!h&&!t&&(a=d.return)&&(yield Vt(a.call(d)))}finally{if(r)throw r.error}}u.length>0&&(yield yield Vt(u))})}class Sj{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,a]=Ij(e,":");return a.startsWith(" ")&&(a=a.substring(1)),t==="event"?this.event=a:t==="data"&&this.data.push(a),null}}function Ij(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Nj(n,e){const{response:t,requestLogID:r,retryOfRequestLogID:a,startTime:l}=e,u=await(async()=>{var h;if(e.options.stream)return Mn(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Do.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const d=t.headers.get("content-type"),m=(h=d==null?void 0:d.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?t.headers.get("content-length")==="0"?void 0:await t.json():await t.text()})();return Mn(n).debug(`[${r}] response parsed`,el({retryOfRequestLogID:a,url:t.url,status:t.status,body:u,durationMs:Date.now()-l})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $E extends Promise{constructor(e,t,r=Nj){super(a=>{a(null)}),this.responsePromise=t,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new $E(this.client,this.responsePromise,async(t,r)=>e(await this.parseResponse(t,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IR=Symbol("brand.privateNullableHeaders");function*Rj(n){if(!n)return;if(IR in n){const{values:r,nulls:a}=n;yield*r.entries();for(const l of a)yield[l,null];return}let e=!1,t;n instanceof Headers?t=n.entries():PA(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let r of t){const a=r[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const l=PA(r[1])?r[1]:[r[1]];let u=!1;for(const h of l)h!==void 0&&(e&&!u&&(u=!0,yield[a,null]),yield[a,h])}}const Nc=n=>{const e=new Headers,t=new Set;for(const r of n){const a=new Set;for(const[l,u]of Rj(r)){const h=l.toLowerCase();a.has(h)||(e.delete(l),a.add(h)),u===null?(e.delete(l),t.add(h)):(e.append(l,u),t.delete(h))}}return{[IR]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const my=n=>{var e,t,r,a,l,u;if(typeof globalThis.process<"u")return(r=(t=(e=QL)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(u=(l=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||l===void 0?void 0:l.call(a,n))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var NR;class Hm{constructor(e){var t,r,a,l,u,h,d,{baseURL:m=my("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(t=my("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:_="v1beta"}=e,v=am(e,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:y,apiVersion:_},v),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(r=b.timeout)!==null&&r!==void 0?r:Hm.DEFAULT_TIMEOUT,this.logger=(a=b.logger)!==null&&a!==void 0?a:console;const D="warn";this.logLevel=D,this.logLevel=(u=(l=zA(b.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:zA(my("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:D,this.fetchOptions=b.fetchOptions,this.maxRetries=(h=b.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(d=b.fetch)!==null&&d!==void 0?d:uj(),this.encoder=fj,this._options=b,this.apiKey=y,this.apiVersion=_,this.clientAdapter=b.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=Nc([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return Nc([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Nc([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,r])=>typeof r<"u").map(([t,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(t)}=`;throw new kr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Co}`}defaultIdempotencyKey(){return`stainless-node-retry-${$L()}`}makeStatusError(e,t,r,a){return Bn.generate(e,t,r,a)}buildURL(e,t,r){const a=!this.baseURLOverridden()&&r||this.baseURL,l=WL(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return ej(u)||(t=Object.assign(Object.assign({},u),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(l.search=this.stringifyQuery(t)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(a=>Object.assign({method:e,path:t},a)))}request(e,t=null){return new $E(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){var a,l,u;const h=await e,d=(a=h.maxRetries)!==null&&a!==void 0?a:this.maxRetries;t==null&&(t=d),await this.prepareOptions(h);const{req:m,url:y,timeout:_}=await this.buildRequest(h,{retryCount:d-t});await this.prepareRequest(m,{url:y,options:h});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=r===void 0?"":`, retryOf: ${r}`,D=Date.now();if(Mn(this).debug(`[${v}] sending request`,el({retryOfRequestLogID:r,method:h.method,url:y,options:h,headers:m.headers})),!((l=h.signal)===null||l===void 0)&&l.aborted)throw new h_;const M=new AbortController,V=await this.fetchWithTimeout(y,m,_,M).catch(c_),z=Date.now();if(V instanceof globalThis.Error){const q=`retrying, ${t} attempts remaining`;if(!((u=h.signal)===null||u===void 0)&&u.aborted)throw new h_;const me=u_(V)||/timed? ?out/i.test(String(V)+("cause"in V?String(V.cause):""));if(t)return Mn(this).info(`[${v}] connection ${me?"timed out":"failed"} - ${q}`),Mn(this).debug(`[${v}] connection ${me?"timed out":"failed"} (${q})`,el({retryOfRequestLogID:r,url:y,durationMs:z-D,message:V.message})),this.retryRequest(h,t,r??v);throw Mn(this).info(`[${v}] connection ${me?"timed out":"failed"} - error; no more retries left`),Mn(this).debug(`[${v}] connection ${me?"timed out":"failed"} (error; no more retries left)`,el({retryOfRequestLogID:r,url:y,durationMs:z-D,message:V.message})),me?new cR:new Fm({cause:V})}const ee=`[${v}${b}] ${m.method} ${y} ${V.ok?"succeeded":"failed"} with status ${V.status} in ${z-D}ms`;if(!V.ok){const q=await this.shouldRetry(V);if(t&&q){const C=`retrying, ${t} attempts remaining`;return await hj(V.body),Mn(this).info(`${ee} - ${C}`),Mn(this).debug(`[${v}] response error (${C})`,el({retryOfRequestLogID:r,url:V.url,status:V.status,headers:V.headers,durationMs:z-D})),this.retryRequest(h,t,r??v,V.headers)}const me=q?"error; no more retries left":"error; not retryable";Mn(this).info(`${ee} - ${me}`);const fe=await V.text().catch(C=>c_(C).message),K=rj(fe),S=K?void 0:fe;throw Mn(this).debug(`[${v}] response error (${me})`,el({retryOfRequestLogID:r,url:V.url,status:V.status,headers:V.headers,message:S,durationMs:Date.now()-D})),this.makeStatusError(V.status,K,S,V.headers)}return Mn(this).info(ee),Mn(this).debug(`[${v}] response start`,el({retryOfRequestLogID:r,url:V.url,status:V.status,headers:V.headers,durationMs:z-D})),{response:V,options:h,controller:M,requestLogID:v,retryOfRequestLogID:r,startTime:D}}async fetchWithTimeout(e,t,r,a){const l=t||{},{signal:u,method:h}=l,d=am(l,["signal","method"]),m=this._makeAbort(a);u&&u.addEventListener("abort",m,{once:!0});const y=setTimeout(m,r),_=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,v=Object.assign(Object.assign(Object.assign({signal:a.signal},_?{duplex:"half"}:{}),{method:"GET"}),d);h&&(v.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(y)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r,a){var l;let u;const h=a==null?void 0:a.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(u=m)}const d=a==null?void 0:a.get("retry-after");if(d&&!u){const m=parseFloat(d);Number.isNaN(m)?u=Date.parse(d)-Date.now():u=m*1e3}if(!(u&&0<=u&&u<60*1e3)){const m=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(t,m)}return await ij(u),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){const l=t-e,u=Math.min(.5*Math.pow(2,l),8),h=1-Math.random()*.25;return u*h*1e3}async buildRequest(e,{retryCount:t=0}={}){var r,a,l;const u=Object.assign({},e),{method:h,path:d,query:m,defaultBaseURL:y}=u,_=this.buildURL(d,m,y);"timeout"in u&&nj("timeout",u.timeout),u.timeout=(r=u.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:b}=this.buildBody({options:u}),D=await this.buildHeaders({options:e,method:h,bodyHeaders:v,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:D},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(l=u.fetchOptions)!==null&&l!==void 0?l:{}),url:_,timeout:u.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:a}){let l={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let h=Nc([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),oj()),this._options.defaultHeaders,r,e.headers,u]);return this.validateHeaders(h),h.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Nc([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:cj(e)}:this.encoder({body:e,headers:r})}}Hm.DEFAULT_TIMEOUT=6e4;class Tn extends Hm{constructor(){super(...arguments),this.interactions=new SR(this)}}NR=Tn;Tn.GeminiNextGenAPIClient=NR;Tn.GeminiNextGenAPIClientError=kr;Tn.APIError=Bn;Tn.APIConnectionError=Fm;Tn.APIConnectionTimeoutError=cR;Tn.APIUserAbortError=h_;Tn.NotFoundError=mR;Tn.ConflictError=pR;Tn.RateLimitError=yR;Tn.BadRequestError=hR;Tn.AuthenticationError=fR;Tn.InternalServerError=_R;Tn.PermissionDeniedError=dR;Tn.UnprocessableEntityError=gR;Tn.toFile=yj;Tn.Interactions=SR;const Cj=({end:n,duration:e=2e3})=>{const[t,r]=ne.useState(0),a=ne.useRef(null),[l,u]=ne.useState(!1);return ne.useEffect(()=>{const h=new IntersectionObserver(d=>{if(d[0].isIntersecting&&!l){let m=0;const y=n/(e/16),_=setInterval(()=>{m+=y,m>=n?(r(n),clearInterval(_)):r(Math.floor(m))},16);u(!0)}},{threshold:.1});return a.current&&h.observe(a.current),()=>h.disconnect()},[n,e,l]),E.jsx("span",{ref:a,children:t.toLocaleString()})},Dj=({data:n})=>{const[e,t]=ne.useState(0);return ne.useEffect(()=>{const r=setInterval(()=>{t(a=>(a+1)%n.sliders.length)},6e3);return()=>clearInterval(r)},[n.sliders.length]),E.jsxs("div",{className:"overflow-hidden",children:[E.jsxs("section",{className:"relative h-[80vh] md:h-[90vh] overflow-hidden",children:[n.sliders.map((r,a)=>E.jsxs("div",{className:`absolute inset-0 transition-all duration-1000 transform ${a===e?"opacity-100 scale-100 z-10":"opacity-0 scale-105 z-0"}`,children:[E.jsx("img",{src:r.url,alt:r.title,className:"w-full h-full object-cover"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent flex items-center",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 w-full",children:E.jsxs("div",{className:`max-w-4xl transition-all duration-1000 delay-300 transform ${a===e?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,children:[E.jsx("span",{className:"inline-block bg-[#07847F] text-white text-[10px] font-black uppercase tracking-[0.5em] px-6 py-2.5 rounded-full mb-8 shadow-2xl",children:"SERVING WITH IHSAN"}),E.jsx("h2",{className:"text-white text-5xl md:text-8xl font-black mb-8 leading-[1.0] md:leading-[0.9] drop-shadow-2xl tracking-tighter text-balance uppercase",children:r.title}),E.jsx("p",{className:"text-slate-200 text-base md:text-2xl mb-10 opacity-95 font-medium max-w-2xl border-l-8 border-[#07847F] pl-8 leading-relaxed font-serif italic",children:r.subtitle}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[E.jsxs(At,{to:"/donate",className:"bg-orange-600 hover:bg-orange-700 text-white px-12 py-5 rounded-2xl font-black text-xs shadow-2xl transition-all flex items-center justify-center gap-4 group uppercase tracking-widest",children:[E.jsx("i",{className:"fa-solid fa-heart group-hover:scale-125 transition-transform"}),"Donate Now"]}),E.jsx(At,{to:"/about",className:"bg-white/10 backdrop-blur-3xl text-white border-2 border-white/20 hover:bg-white hover:text-[#07847F] px-12 py-5 rounded-2xl font-black text-xs transition-all flex items-center justify-center shadow-2xl uppercase tracking-widest",children:"Learn More"})]})]})})})]},r.id)),E.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 z-20 flex space-x-4",children:n.sliders.map((r,a)=>E.jsx("button",{onClick:()=>t(a),className:`h-2 transition-all duration-700 rounded-full ${a===e?"bg-orange-500 w-20 shadow-xl shadow-orange-500/50":"bg-white/30 w-8 hover:bg-white/60"}`},a))})]}),E.jsxs("section",{className:"bg-white py-24 border-b border-slate-100 relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 pointer-events-none",children:E.jsx("i",{className:"fa-solid fa-hands-praying text-[20rem]"})}),E.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center reveal",children:E.jsxs("p",{className:"text-sky-950 text-xl md:text-4xl font-medium tracking-tight italic opacity-95 font-serif max-w-5xl mx-auto leading-tight drop-shadow-sm",children:['"The example of those who spend their wealth in the way of Allah is like a seed of grain which grows seven ears; in each ear is a hundred grains."',E.jsx("span",{className:"block mt-8 text-[#07847F] not-italic font-black text-[10px] md:text-xs uppercase tracking-[0.5em]",children:" Surah Al-Baqarah 2:261"})]})})]}),E.jsx("section",{className:"py-24 bg-slate-50 relative",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-16 md:gap-24",children:[E.jsx("div",{className:"lg:w-1/2 reveal-left",children:E.jsxs("div",{className:"relative",children:[E.jsx("img",{src:"https://i.postimg.cc/ZYcbpqJd/about.png",alt:"About AASRA",className:"w-full h-[400px] md:h-[650px] object-cover rounded-[3rem] shadow-2xl relative z-10 "}),E.jsxs("div",{className:"absolute -bottom-10 -right-10 bg-orange-600 p-8 rounded-[2rem] shadow-2xl z-20 text-white animate-float hidden md:block",children:[E.jsx("p",{className:"text-4xl font-black tracking-tighter",children:"5+"}),E.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:"Years of Service"})]})]})}),E.jsxs("div",{className:"lg:w-1/2 reveal-right",children:[E.jsx("span",{className:"text-[#07847F] font-black uppercase tracking-[0.4em] text-[9px] mb-6 block",children:"WHO WE ARE"}),E.jsxs("h2",{className:"text-4xl md:text-6xl font-black text-sky-950 tracking-tighter leading-none mb-10",children:["Healing Hearts, ",E.jsx("br",{}),E.jsx("span",{className:"text-[#07847F] italic font-serif",children:"Restoring Hope."})]}),E.jsx("p",{className:"text-slate-500 text-lg md:text-xl font-medium mb-10 leading-relaxed font-serif italic border-l-4 border-slate-100 pl-8",children:"AASRA Welfare Society is more than an organization; it is a movement of compassion dedicated to uplifting the most vulnerable members of our society."}),E.jsx("div",{className:"space-y-6 mb-12",children:E.jsx("p",{className:"text-slate-600 leading-relaxed text-base",children:"Founded in 20, we began with a simple mission: to ensure no child is left behind. Today, we manage holistic programs spanning across orphan care, clean water, and food security."})}),E.jsxs(At,{to:"/about",className:"bg-[#07847F] text-white px-12 py-5 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:opacity-90 transition-all flex items-center justify-center lg:inline-flex gap-3 group",children:["Read Full Story ",E.jsx("i",{className:"fa-solid fa-arrow-right group-hover:translate-x-2 transition-transform"})]})]})]})})}),E.jsx("section",{className:"py-24 bg-[#07847F] reveal-zoom",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[{label:"Orphans Supported",value:32,icon:"fa-child-reaching"},{label:"Water Projects",value:170,icon:"fa-faucet-drip"},{label:"Food Served",value:5e3,icon:"fa-bowl-food"},{label:"Beneficiaries",value:12e3,icon:"fa-people-group"}].map((r,a)=>E.jsxs("div",{className:"bg-white p-10 rounded-[2.5rem] shadow-2xl flex flex-col items-center text-center gap-6 group hover:-translate-y-2 transition-all duration-500 border border-white/10",children:[E.jsx("div",{className:"w-16 h-16 bg-[#07847F] text-white rounded-2xl flex items-center justify-center text-2xl shadow-lg group-hover:scale-110 transition-all border border-white/20",children:E.jsx("i",{className:`fa-solid ${r.icon} text-white`})}),E.jsxs("div",{children:[E.jsxs("p",{className:"text-3xl md:text-4xl font-black text-sky-950 tracking-tighter mb-2",children:[E.jsx(Cj,{end:r.value}),"+"]}),E.jsx("p",{className:"text-[9px] font-semibold text-sky-950 uppercase tracking-[0.3em]",children:r.label})]})]},a))})})}),E.jsx("section",{className:"py-24 bg-white relative overflow-hidden",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[E.jsxs("div",{className:"text-center mb-16 reveal",children:[E.jsx("span",{className:"text-[#07847F] font-black uppercase tracking-[0.4em] text-[9px] mb-4 block",children:"OUR JOURNEY"}),E.jsx("h2",{className:"text-4xl md:text-6xl font-black text-sky-950 tracking-tighter leading-none mb-6 uppercase",children:"Major Achievements"}),E.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto text-lg",children:"Milestones that define our commitment to excellence and service."})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:n.achievements.map(r=>E.jsxs("div",{className:"group bg-white rounded-[2.5rem] overflow-hidden border border-slate-100 shadow-xl hover:-translate-y-2 transition-all duration-500 flex flex-col reveal-zoom",children:[E.jsx("div",{className:"h-64 overflow-hidden relative",children:E.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-[2000ms]"})}),E.jsxs("div",{className:"p-10 flex flex-col flex-grow",children:[E.jsx("h3",{className:"text-xl font-black text-sky-950 mb-2 tracking-tight uppercase leading-tight group-hover:text-[#07847F] transition-colors",children:r.title}),E.jsx("span",{className:"text-[#07847F] font-semibold text-[10px] uppercase tracking-widest mb-4",children:r.date}),E.jsx("p",{className:"text-slate-500 text-sm leading-relaxed opacity-90",children:r.text}),E.jsx("div",{className:"mt-8 pt-8 border-t border-slate-50",children:E.jsxs("span",{className:"text-[#07847F] font-black text-[9px] uppercase tracking-[0.3em] flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-award"})," AASRA Milestone"]})})]})]},r.id))})]})}),E.jsx("section",{className:"py-24 bg-sky-950 overflow-hidden",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-12 gap-8 reveal",children:[E.jsxs("div",{className:"max-w-2xl",children:[E.jsx("span",{className:"text-teal-400 font-black uppercase tracking-[0.4em] text-[10px] mb-4 block",children:"ACTIVE APPEALS"}),E.jsxs("h2",{className:"text-3xl md:text-5xl font-black text-white tracking-tighter leading-none uppercase",children:["Our Current ",E.jsx("span",{className:"text-teal-400 italic font-serif",children:"Appeals"})]})]}),E.jsxs("div",{className:"hidden md:flex flex-col items-end gap-2 pb-2",children:[E.jsxs("div",{className:"flex gap-1.5",children:[E.jsx("div",{className:"w-8 h-1 rounded-full bg-teal-400"}),E.jsx("div",{className:"w-2 h-1 rounded-full bg-white/20"}),E.jsx("div",{className:"w-2 h-1 rounded-full bg-white/20"})]}),E.jsx("p",{className:"text-slate-400 text-[9px] font-black uppercase tracking-[0.2em] mr-1",children:"Swipe for more"})]})]}),E.jsxs("div",{className:"flex gap-5 md:gap-8 overflow-x-auto pb-10 no-scrollbar snap-x snap-mandatory",children:[n.campaigns.map((r,a)=>E.jsxs("div",{className:`
                    w-[75%] md:w-[calc(33.333%-1.35rem)] 
                    bg-white rounded-[2.5rem] 
                    overflow-hidden shadow-2xl
                    border border-white/5 flex-shrink-0 snap-center group flex flex-col
                 `,children:[E.jsx("div",{className:"w-full aspect-[4/3] overflow-hidden",children:E.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"})}),E.jsxs("div",{className:"p-6 md:p-8 flex flex-col flex-grow bg-white",children:[E.jsx("span",{className:"inline-block text-[#07847F] text-[7px] md:text-[8px] font-black mb-3 uppercase tracking-widest",children:"Urgent Need"}),E.jsx("h3",{className:"text-sky-950 text-base md:text-xl font-black mb-6 leading-tight tracking-tight uppercase line-clamp-2 h-12 md:h-14",children:r.title}),E.jsxs(At,{to:r.link,className:"inline-flex items-center gap-2 bg-[#07847F] text-white px-6 py-4 rounded-xl font-black text-[8px] md:text-[9px] uppercase tracking-widest text-center shadow-md hover:bg-orange-600 transition-all w-full justify-center",children:["Donate Now ",E.jsx("i",{className:"fa-solid fa-arrow-right text-[8px]"})]})]})]},r.id)),E.jsx("div",{className:"min-w-[5%] md:hidden flex-shrink-0"})]})]})}),E.jsx("section",{className:"py-24 bg-white",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[E.jsxs("div",{className:"text-center mb-16 reveal",children:[E.jsx("span",{className:"text-[#07847F] font-black uppercase tracking-[0.4em] text-[9px] mb-4 block",children:"TRANSFORMATIVE ACTION"}),E.jsx("h2",{className:"text-4xl md:text-6xl font-black text-sky-950 tracking-tighter leading-none mb-6 uppercase",children:"Our Impact Programs"}),E.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto text-lg",children:"Holistic solutions tackling poverty at its roots."})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.programs.map(r=>E.jsxs("div",{className:"group bg-white rounded-[2.5rem] overflow-hidden border border-slate-100 hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 flex flex-col reveal-zoom",children:[E.jsx("div",{className:"h-56 overflow-hidden relative",children:E.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-[2000ms]"})}),E.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[E.jsx("h3",{className:"text-xl font-black text-sky-950 mb-4 tracking-tight uppercase leading-tight",children:r.title}),E.jsx("p",{className:"text-slate-500 text-sm leading-relaxed mb-8 flex-grow",children:r.description}),E.jsxs(At,{to:`/programs/${r.id}`,className:"text-[#07847F] font-black text-[10px] uppercase tracking-widest flex items-center gap-2 group-hover:gap-4 transition-all",children:["View Impact ",E.jsx("i",{className:"fa-solid fa-arrow-right"})]})]})]},r.id))})]})}),E.jsx("section",{className:"py-12 bg-slate-50",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsxs("div",{className:"bg-[#07847F] rounded-[3rem] p-10 md:p-16 text-white relative overflow-hidden flex flex-col lg:flex-row items-center gap-12 reveal-zoom border border-[#05635f] shadow-2xl",children:[E.jsxs("div",{className:"lg:w-1/2 relative z-10 text-center lg:text-left",children:[E.jsx("span",{className:"text-orange-400 font-black uppercase tracking-[0.4em] text-[10px] mb-6 block",children:"ZAKAT OBLIGATION"}),E.jsxs("h2",{className:"text-4xl md:text-5xl font-black tracking-tighter mb-8 uppercase leading-[1.1]",children:["Purify Your Wealth with ",E.jsx("span",{className:"text-orange-400 italic font-serif",children:"AASRA Zakat Fund."})]}),E.jsx("p",{className:"text-slate-300 text-base md:text-lg font-medium mb-10 leading-relaxed",children:"Your Zakat is distributed according to Sharia principles to orphans, widows, and those in extreme poverty."}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[E.jsx(At,{to:"/zakat",className:"bg-orange-600 text-white px-10 py-5 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:bg-orange-700 transition-all text-center",children:"Calculate Zakat"}),E.jsx(At,{to:"/donate",className:"bg-white/10 text-white border border-white/20 px-10 py-5 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-white hover:text-sky-950 transition-all text-center",children:"Donate Zakat"})]})]}),E.jsxs("div",{className:"lg:w-1/2 relative flex justify-center",children:[E.jsx("div",{className:"w-full max-w-sm aspect-square bg-white/5 rounded-full blur-[100px] absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"}),E.jsx("img",{src:"https://i.postimg.cc/ZKqWqM1z/IMG-4188.webp",alt:"Background",className:"w-100 md:w-100 rounded-3xl object-cover relative z-10"})]})]})})}),E.jsxs("section",{className:"bg-[#07847F] py-24 text-white relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 opacity-10 flex items-center justify-center scale-150 pointer-events-none",children:E.jsx("i",{className:"fa-solid fa-kaaba text-[30rem]"})}),E.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center relative z-10 reveal",children:E.jsxs("p",{className:"text-2xl md:text-5xl font-medium tracking-tight italic font-serif max-w-4xl mx-auto leading-tight",children:['"Protect yourself from hell-fire even by giving a piece of a date in charity."',E.jsx("span",{className:"block mt-8 text-orange-400 not-italic font-black text-[10px] md:text-xs uppercase tracking-[0.5em]",children:" Al-Bukhari & Muslim"})]})})]}),E.jsx("section",{className:"py-24 bg-white relative overflow-hidden",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[E.jsxs("div",{className:"text-center mb-16 reveal",children:[E.jsx("span",{className:"text-[#07847F] font-black uppercase tracking-[0.4em] text-[9px] mb-4 block",children:"EXECUTIVE LEADERSHIP"}),E.jsx("h2",{className:"text-4xl md:text-6xl font-black text-sky-950 tracking-tighter leading-none mb-6 uppercase",children:"The Hearts of AASRA"})]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 md:gap-8",children:n.team.map(r=>E.jsxs("div",{className:"group flex flex-col items-center reveal-zoom",children:[E.jsx("div",{className:"w-full aspect-[4/5] overflow-hidden rounded-[2rem] shadow-lg border border-slate-100 mb-6 bg-slate-50",children:E.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 grayscale hover:grayscale-0"})}),E.jsxs("div",{className:"text-center",children:[E.jsx("h3",{className:"text-sm md:text-base font-black text-sky-950 tracking-tight uppercase leading-tight mb-1",children:r.name}),E.jsx("p",{className:"text-[#07847F] font-black text-[8px] md:text-[9px] uppercase tracking-[0.2em]",children:r.role})]})]},r.id))})]})}),E.jsx("section",{className:"py-24 bg-slate-50",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-8 reveal",children:[E.jsxs("div",{className:"max-w-2xl",children:[E.jsx("span",{className:"text-orange-600 font-black uppercase tracking-[0.4em] text-[9px] mb-6 block",children:"VOICES OF CHANGE"}),E.jsx("h2",{className:"text-4xl md:text-6xl font-black text-sky-950 tracking-tighter leading-none uppercase",children:"Recent Stories"})]}),E.jsxs(At,{to:"/gallery",className:"text-[#07847F] font-black text-[10px] uppercase tracking-widest hover:underline flex items-center gap-2 mb-2",children:["View All ",E.jsx("i",{className:"fa-solid fa-arrow-right"})]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.posts.map(r=>E.jsxs("div",{className:"bg-white rounded-[2rem] overflow-hidden shadow-lg border border-slate-100 flex flex-col group reveal-zoom",children:[E.jsx("div",{className:"h-56 overflow-hidden",children:E.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000"})}),E.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("span",{className:"text-[#07847F] font-black text-[9px] uppercase tracking-widest",children:r.category}),E.jsx("span",{className:"text-slate-400 text-[9px] font-bold",children:r.date})]}),E.jsx("h3",{className:"text-lg font-black text-sky-950 mb-4 tracking-tight leading-tight group-hover:text-[#07847F] transition-colors uppercase h-12 overflow-hidden",children:r.title}),E.jsx("p",{className:"text-slate-500 text-xs line-clamp-2 mb-8 leading-relaxed opacity-80",children:r.excerpt}),E.jsxs(At,{to:`/posts/${r.id}`,className:"text-[#07847F] font-black text-[10px] uppercase tracking-[0.2em] flex items-center gap-3 mt-auto",children:["Read More ",E.jsx("i",{className:"fa-solid fa-arrow-right text-[#07847F]"})]})]})]},r.id))})]})}),E.jsx("section",{className:"py-24 bg-white",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsxs("div",{className:"bg-sky-950 rounded-[3rem] p-10 md:p-20 text-white relative overflow-hidden flex flex-col lg:flex-row items-center gap-12 reveal-zoom",children:[E.jsxs("div",{className:"lg:w-1/2 relative z-10 text-center lg:text-left",children:[E.jsx("span",{className:"text-[#07847F] font-black uppercase tracking-[0.5em] text-[9px] mb-8 block",children:"BECOME AN AMBASSADOR"}),E.jsxs("h2",{className:"text-4xl md:text-6xl font-black tracking-tighter mb-10 uppercase",children:["Lend Your ",E.jsx("br",{}),E.jsx("span",{className:"text-[#07847F] italic font-serif",children:"Hands & Heart."})]}),E.jsx("p",{className:"text-slate-300 text-lg md:text-xl font-medium mb-12 leading-relaxed max-w-xl mx-auto lg:mx-0",children:"AASRA is built on the passion of selfless volunteers. Join our local and international network of change-makers today."}),E.jsx("button",{className:"bg-orange-600 text-white px-12 py-5 rounded-2xl font-black text-xs uppercase tracking-widest shadow-2xl hover:bg-orange-700 transition-all",children:"Register to Volunteer"})]}),E.jsx("div",{className:"lg:w-1/2 relative",children:E.jsx("img",{src:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=1200&fit=crop",alt:"Volunteer",className:"w-full h-[400px] md:h-[550px] object-cover rounded-[3rem] shadow-2xl relative z-10 grayscale hover:grayscale-0 transition-all duration-700"})})]})})})]})},Oj=({data:n})=>E.jsxs("div",{className:"bg-white",children:[E.jsx("section",{className:"bg-sky-950 text-white py-24 text-center",children:E.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[E.jsx("h1",{className:"text-5xl font-extrabold mb-6",children:"Our Mission & Values"}),E.jsx("p",{className:"text-slate-300 text-xl font-light italic",children:'"Restoring dignity to every soul we touch."'})]})}),E.jsx("section",{className:"py-24 max-w-7xl mx-auto px-4",children:E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsx("h2",{className:"text-4xl font-extrabold text-sky-950",children:"A Journey of Hope Since 2021"}),E.jsx("p",{className:"text-slate-600 leading-relaxed",children:"AASRA Welfare Society started in a small room in Lahore with a handful of volunteers who noticed that many orphans were lacking basic schooling despite having shelter. We realized that true welfare is not just about survival, but about thriving with dignity."}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex gap-4",children:[E.jsx("div",{className:"w-1 bg-teal-500 rounded-full"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-sky-900",children:"2021: The Beginning"}),E.jsx("p",{className:"text-sm text-slate-500",children:"Founded with focus on 5 orphans in a small rented house."})]})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("div",{className:"w-1 bg-teal-500 rounded-full"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-sky-900",children:"202: Water Expansion"}),E.jsx("p",{className:"text-sm text-slate-500",children:"Launched our first deep well project in Tharparkar."})]})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("div",{className:"w-1 bg-teal-500 rounded-full"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-sky-900",children:"2023: Empowerment Centers"}),E.jsx("p",{className:"text-sm text-slate-500",children:"Established 3 vocational training centers for women."})]})]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("img",{src:"https://picsum.photos/seed/about1/400/500",className:"rounded-2xl shadow-xl mt-8"}),E.jsx("img",{src:"https://picsum.photos/seed/about2/400/500",className:"rounded-2xl shadow-xl"})]})]})}),E.jsx("section",{className:"py-24 bg-slate-50",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("h2",{className:"text-4xl font-extrabold text-sky-950",children:"The Hearts Behind AASRA"}),E.jsx("p",{className:"text-slate-500 mt-2",children:"Dedicated professionals and passionate volunteers."})]}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8",children:n.team.map(e=>E.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden shadow-sm hover:shadow-xl transition-all group",children:[E.jsxs("div",{className:"h-50 overflow-hidden relative",children:["  ",E.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-fit group-hover:scale-100 transition-transform duration-500 rounded-t-2xl"}),E.jsx("div",{className:"absolute inset-0 bg-sky-900/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-t-2xl"})]}),E.jsxs("div",{className:"p-4 text-center",children:["  ",E.jsx("h3",{className:"text-lg font-bold text-sky-950",children:e.name}),"  ",E.jsx("p",{className:"text-teal-600 font-semibold text-xs uppercase mb-2 tracking-widest",children:e.role})]})]},e.id))})]})}),E.jsx("section",{className:"py-20 border-t border-slate-100",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[E.jsx("p",{className:"text-center text-xs font-bold text-slate-400 uppercase tracking-[0.2em] mb-12",children:"Our Official Partners & Affiliations"}),E.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-12 opacity-50 grayscale hover:grayscale-0 transition-all",children:[E.jsx("div",{className:"text-xl font-black text-sky-900",children:"GOVT OF PUNJAB"}),E.jsx("div",{className:"text-xl font-black text-sky-900",children:"CHARITY COMMISSION"}),E.jsx("div",{className:"text-xl font-black text-sky-900",children:"FBR PAKISTAN"}),E.jsx("div",{className:"text-xl font-black text-sky-900",children:"TAX-EXEMPTED NGO"})]})]})})]}),kj=({data:n})=>E.jsx("div",{className:"py-20 bg-slate-50",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[E.jsxs("div",{className:"text-center mb-16 space-y-4",children:[E.jsx("h1",{className:"text-5xl font-extrabold text-sky-950",children:"Our Impact Areas"}),E.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto",children:"Focused on sustainable development and dignity for all."})]}),E.jsx("div",{className:"grid grid-cols-1 gap-12",children:n.programs.map((e,t)=>E.jsxs("div",{className:`bg-white rounded-3xl overflow-hidden shadow-xl flex flex-col ${t%2===0?"lg:flex-row":"lg:flex-row-reverse"}`,children:[E.jsx("div",{className:"lg:w-1/2 h-96 lg:h-auto overflow-hidden",children:E.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-700"})}),E.jsxs("div",{className:"lg:w-1/2 p-12 lg:p-16 flex flex-col justify-center space-y-6",children:[E.jsx("div",{className:"w-16 h-16 bg-teal-100 text-teal-600 rounded-2xl flex items-center justify-center text-3xl",children:E.jsx("i",{className:`fa-solid ${e.icon}`})}),E.jsx("h2",{className:"text-4xl font-extrabold text-sky-950",children:e.title}),E.jsx("p",{className:"text-slate-600 text-lg leading-relaxed",children:e.description}),E.jsxs("div",{className:"pt-4 flex items-center gap-6",children:[E.jsx(At,{to:`/programs/${e.id}`,className:"bg-sky-900 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:bg-sky-800 transition-colors",children:"View Details"}),E.jsx(At,{to:"/donate",className:"text-orange-500 font-bold hover:underline",children:"Sponsor This Project"})]})]})]},e.id))})]})});function Vj(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Mj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Pj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Lj={};function qA(n,e){return(Lj.jsx?Pj:Mj).test(n)}const jj=/[ \t\n\f\r]/g;function Uj(n){return typeof n=="object"?n.type==="text"?HA(n.value):!1:HA(n)}function HA(n){return n.replace(jj,"")===""}class Vh{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}Vh.prototype.normal={};Vh.prototype.property={};Vh.prototype.space=void 0;function RR(n,e){const t={},r={};for(const a of n)Object.assign(t,a.property),Object.assign(r,a.normal);return new Vh(t,r,e)}function m_(n){return n.toLowerCase()}class tr{constructor(e,t){this.attribute=t,this.property=e}}tr.prototype.attribute="";tr.prototype.booleanish=!1;tr.prototype.boolean=!1;tr.prototype.commaOrSpaceSeparated=!1;tr.prototype.commaSeparated=!1;tr.prototype.defined=!1;tr.prototype.mustUseProperty=!1;tr.prototype.number=!1;tr.prototype.overloadedBoolean=!1;tr.prototype.property="";tr.prototype.spaceSeparated=!1;tr.prototype.space=void 0;let Bj=0;const Be=Nl(),nn=Nl(),p_=Nl(),he=Nl(),Et=Nl(),Po=Nl(),hr=Nl();function Nl(){return 2**++Bj}const g_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Be,booleanish:nn,commaOrSpaceSeparated:hr,commaSeparated:Po,number:he,overloadedBoolean:p_,spaceSeparated:Et},Symbol.toStringTag,{value:"Module"})),py=Object.keys(g_);class XE extends tr{constructor(e,t,r,a){let l=-1;if(super(e,t),GA(this,"space",a),typeof r=="number")for(;++l<py.length;){const u=py[l];GA(this,py[l],(r&g_[u])===g_[u])}}}XE.prototype.defined=!0;function GA(n,e,t){t&&(n[e]=t)}function yu(n){const e={},t={};for(const[r,a]of Object.entries(n.properties)){const l=new XE(r,n.transform(n.attributes||{},r),a,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),e[r]=l,t[m_(r)]=r,t[m_(l.attribute)]=r}return new Vh(e,t,n.space)}const CR=yu({properties:{ariaActiveDescendant:null,ariaAtomic:nn,ariaAutoComplete:null,ariaBusy:nn,ariaChecked:nn,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:Et,ariaCurrent:null,ariaDescribedBy:Et,ariaDetails:null,ariaDisabled:nn,ariaDropEffect:Et,ariaErrorMessage:null,ariaExpanded:nn,ariaFlowTo:Et,ariaGrabbed:nn,ariaHasPopup:null,ariaHidden:nn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Et,ariaLevel:he,ariaLive:null,ariaModal:nn,ariaMultiLine:nn,ariaMultiSelectable:nn,ariaOrientation:null,ariaOwns:Et,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:nn,ariaReadOnly:nn,ariaRelevant:null,ariaRequired:nn,ariaRoleDescription:Et,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:nn,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function DR(n,e){return e in n?n[e]:e}function OR(n,e){return DR(n,e.toLowerCase())}const zj=yu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Po,acceptCharset:Et,accessKey:Et,action:null,allow:null,allowFullScreen:Be,allowPaymentRequest:Be,allowUserMedia:Be,alt:null,as:null,async:Be,autoCapitalize:null,autoComplete:Et,autoFocus:Be,autoPlay:Be,blocking:Et,capture:null,charSet:null,checked:Be,cite:null,className:Et,cols:he,colSpan:null,content:null,contentEditable:nn,controls:Be,controlsList:Et,coords:he|Po,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Be,defer:Be,dir:null,dirName:null,disabled:Be,download:p_,draggable:nn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Be,formTarget:null,headers:Et,height:he,hidden:p_,high:he,href:null,hrefLang:null,htmlFor:Et,httpEquiv:Et,id:null,imageSizes:null,imageSrcSet:null,inert:Be,inputMode:null,integrity:null,is:null,isMap:Be,itemId:null,itemProp:Et,itemRef:Et,itemScope:Be,itemType:Et,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Be,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:Be,muted:Be,name:null,nonce:null,noModule:Be,noValidate:Be,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Be,optimum:he,pattern:null,ping:Et,placeholder:null,playsInline:Be,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Be,referrerPolicy:null,rel:Et,required:Be,reversed:Be,rows:he,rowSpan:he,sandbox:Et,scope:null,scoped:Be,seamless:Be,selected:Be,shadowRootClonable:Be,shadowRootDelegatesFocus:Be,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:nn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:Be,useMap:null,value:nn,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Et,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Be,declare:Be,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:Be,noHref:Be,noShade:Be,noWrap:Be,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:nn,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Be,disableRemotePlayback:Be,prefix:null,property:null,results:he,security:null,unselectable:null},space:"html",transform:OR}),Fj=yu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:hr,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:Et,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:Be,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Po,g2:Po,glyphName:Po,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:hr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Et,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:hr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:hr,rev:hr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:hr,requiredFeatures:hr,requiredFonts:hr,requiredFormats:hr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:hr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:hr,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:hr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:DR}),kR=yu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),VR=yu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:OR}),MR=yu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),qj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Hj=/[A-Z]/g,YA=/-[a-z]/g,Gj=/^data[-\w.:]+$/i;function Yj(n,e){const t=m_(e);let r=e,a=tr;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Gj.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(YA,Qj);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!YA.test(l)){let u=l.replace(Hj,Kj);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=XE}return new a(r,e)}function Kj(n){return"-"+n.toLowerCase()}function Qj(n){return n.charAt(1).toUpperCase()}const $j=RR([CR,zj,kR,VR,MR],"html"),WE=RR([CR,Fj,kR,VR,MR],"svg");function Xj(n){return n.join(" ").trim()}var To={},gy,KA;function Wj(){if(KA)return gy;KA=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,d=`
`,m="/",y="*",_="",v="comment",b="declaration";function D(V,z){if(typeof V!="string")throw new TypeError("First argument must be a string");if(!V)return[];z=z||{};var ee=1,q=1;function me(xe){var de=xe.match(e);de&&(ee+=de.length);var X=xe.lastIndexOf(d);q=~X?xe.length-X:q+xe.length}function fe(){var xe={line:ee,column:q};return function(de){return de.position=new K(xe),C(),de}}function K(xe){this.start=xe,this.end={line:ee,column:q},this.source=z.source}K.prototype.content=V;function S(xe){var de=new Error(z.source+":"+ee+":"+q+": "+xe);if(de.reason=xe,de.filename=z.source,de.line=ee,de.column=q,de.source=V,!z.silent)throw de}function N(xe){var de=xe.exec(V);if(de){var X=de[0];return me(X),V=V.slice(X.length),de}}function C(){N(t)}function U(xe){var de;for(xe=xe||[];de=k();)de!==!1&&xe.push(de);return xe}function k(){var xe=fe();if(!(m!=V.charAt(0)||y!=V.charAt(1))){for(var de=2;_!=V.charAt(de)&&(y!=V.charAt(de)||m!=V.charAt(de+1));)++de;if(de+=2,_===V.charAt(de-1))return S("End of comment missing");var X=V.slice(2,de-2);return q+=2,me(X),V=V.slice(de),q+=2,xe({type:v,comment:X})}}function L(){var xe=fe(),de=N(r);if(de){if(k(),!N(a))return S("property missing ':'");var X=N(l),ce=xe({type:b,property:M(de[0].replace(n,_)),value:X?M(X[0].replace(n,_)):_});return N(u),ce}}function O(){var xe=[];U(xe);for(var de;de=L();)de!==!1&&(xe.push(de),U(xe));return xe}return C(),O()}function M(V){return V?V.replace(h,_):_}return gy=D,gy}var QA;function Jj(){if(QA)return To;QA=1;var n=To&&To.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(To,"__esModule",{value:!0}),To.default=t;const e=n(Wj());function t(r,a){let l=null;if(!r||typeof r!="string")return l;const u=(0,e.default)(r),h=typeof a=="function";return u.forEach(d=>{if(d.type!=="declaration")return;const{property:m,value:y}=d;h?a(m,y,d):y&&(l=l||{},l[m]=y)}),l}return To}var Rc={},$A;function Zj(){if($A)return Rc;$A=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,l=function(m){return!m||t.test(m)||n.test(m)},u=function(m,y){return y.toUpperCase()},h=function(m,y){return"".concat(y,"-")},d=function(m,y){return y===void 0&&(y={}),l(m)?m:(m=m.toLowerCase(),y.reactCompat?m=m.replace(a,h):m=m.replace(r,h),m.replace(e,u))};return Rc.camelCase=d,Rc}var Cc,XA;function e6(){if(XA)return Cc;XA=1;var n=Cc&&Cc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=n(Jj()),t=Zj();function r(a,l){var u={};return!a||typeof a!="string"||(0,e.default)(a,function(h,d){h&&d&&(u[(0,t.camelCase)(h,l)]=d)}),u}return r.default=r,Cc=r,Cc}var t6=e6();const n6=cm(t6),PR=LR("end"),JE=LR("start");function LR(n){return e;function e(t){const r=t&&t.position&&t.position[n]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function r6(n){const e=JE(n),t=PR(n);if(e&&t)return{start:e,end:t}}function Xc(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?WA(n.position):"start"in n||"end"in n?WA(n):"line"in n||"column"in n?y_(n):""}function y_(n){return JA(n&&n.line)+":"+JA(n&&n.column)}function WA(n){return y_(n&&n.start)+"-"+y_(n&&n.end)}function JA(n){return n&&typeof n=="number"?n:1}class On extends Error{constructor(e,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let a="",l={},u=!1;if(t&&("line"in t&&"column"in t?l={place:t}:"start"in t&&"end"in t?l={place:t}:"type"in t?l={ancestors:[t],place:t.position}:l={...t}),typeof e=="string"?a=e:!l.cause&&e&&(u=!0,a=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?l.ruleId=r:(l.source=r.slice(0,d),l.ruleId=r.slice(d+1))}if(!l.place&&l.ancestors&&l.ancestors){const d=l.ancestors[l.ancestors.length-1];d&&(l.place=d.position)}const h=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=h?h.line:void 0,this.name=Xc(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}On.prototype.file="";On.prototype.name="";On.prototype.reason="";On.prototype.message="";On.prototype.stack="";On.prototype.column=void 0;On.prototype.line=void 0;On.prototype.ancestors=void 0;On.prototype.cause=void 0;On.prototype.fatal=void 0;On.prototype.place=void 0;On.prototype.ruleId=void 0;On.prototype.source=void 0;const ZE={}.hasOwnProperty,i6=new Map,s6=/[A-Z]/g,a6=new Set(["table","tbody","thead","tfoot","tr"]),l6=new Set(["td","th"]),jR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function o6(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=g6(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=p6(t,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?WE:$j,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=UR(a,n,void 0);return l&&typeof l!="string"?l:a.create(n,a.Fragment,{children:l||void 0},void 0)}function UR(n,e,t){if(e.type==="element")return u6(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return c6(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return f6(n,e,t);if(e.type==="mdxjsEsm")return h6(n,e);if(e.type==="root")return d6(n,e,t);if(e.type==="text")return m6(n,e)}function u6(n,e,t){const r=n.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=WE,n.schema=a),n.ancestors.push(e);const l=zR(n,e.tagName,!1),u=y6(n,e);let h=tx(n,e);return a6.has(e.tagName)&&(h=h.filter(function(d){return typeof d=="string"?!Uj(d):!0})),BR(n,u,l,e),ex(u,h),n.ancestors.pop(),n.schema=r,n.create(e,l,u,t)}function c6(n,e){if(e.data&&e.data.estree&&n.evaluater){const r=e.data.estree.body[0];return r.type,n.evaluater.evaluateExpression(r.expression)}yh(n,e.position)}function h6(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);yh(n,e.position)}function f6(n,e,t){const r=n.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=WE,n.schema=a),n.ancestors.push(e);const l=e.name===null?n.Fragment:zR(n,e.name,!0),u=_6(n,e),h=tx(n,e);return BR(n,u,l,e),ex(u,h),n.ancestors.pop(),n.schema=r,n.create(e,l,u,t)}function d6(n,e,t){const r={};return ex(r,tx(n,e)),n.create(e,n.Fragment,r,t)}function m6(n,e){return e.value}function BR(n,e,t,r){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=r)}function ex(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function p6(n,e,t){return r;function r(a,l,u,h){const m=Array.isArray(u.children)?t:e;return h?m(l,u,h):m(l,u)}}function g6(n,e){return t;function t(r,a,l,u){const h=Array.isArray(l.children),d=JE(r);return e(a,l,u,h,{columnNumber:d?d.column-1:void 0,fileName:n,lineNumber:d?d.line:void 0},void 0)}}function y6(n,e){const t={};let r,a;for(a in e.properties)if(a!=="children"&&ZE.call(e.properties,a)){const l=E6(n,a,e.properties[a]);if(l){const[u,h]=l;n.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&l6.has(e.tagName)?r=h:t[u]=h}}if(r){const l=t.style||(t.style={});l[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return t}function _6(n,e){const t={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&n.evaluater){const l=r.data.estree.body[0];l.type;const u=l.expression;u.type;const h=u.properties[0];h.type,Object.assign(t,n.evaluater.evaluateExpression(h.argument))}else yh(n,e.position);else{const a=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&n.evaluater){const h=r.value.data.estree.body[0];h.type,l=n.evaluater.evaluateExpression(h.expression)}else yh(n,e.position);else l=r.value===null?!0:r.value;t[a]=l}return t}function tx(n,e){const t=[];let r=-1;const a=n.passKeys?new Map:i6;for(;++r<e.children.length;){const l=e.children[r];let u;if(n.passKeys){const d=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(d){const m=a.get(d)||0;u=d+"-"+m,a.set(d,m+1)}}const h=UR(n,l,u);h!==void 0&&t.push(h)}return t}function E6(n,e,t){const r=Yj(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=r.commaSeparated?Vj(t):Xj(t)),r.property==="style"){let a=typeof t=="object"?t:x6(n,String(t));return n.stylePropertyNameCase==="css"&&(a=v6(a)),["style",a]}return[n.elementAttributeNameCase==="react"&&r.space?qj[r.property]||r.property:r.attribute,t]}}function x6(n,e){try{return n6(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const r=t,a=new On("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=n.filePath||void 0,a.url=jR+"#cannot-parse-style-attribute",a}}function zR(n,e,t){let r;if(!t)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let l=-1,u;for(;++l<a.length;){const h=qA(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(l&&h.type==="Literal"),optional:!1}:h}r=u}else r=qA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return ZE.call(n.components,a)?n.components[a]:a}if(n.evaluater)return n.evaluater.evaluateExpression(r);yh(n)}function yh(n,e){const t=new On("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=jR+"#cannot-handle-mdx-estrees-without-createevaluater",t}function v6(n){const e={};let t;for(t in n)ZE.call(n,t)&&(e[b6(t)]=n[t]);return e}function b6(n){let e=n.replace(s6,T6);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function T6(n){return"-"+n.toLowerCase()}const yy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},w6={};function A6(n,e){const t=w6,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,a=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return FR(n,r,a)}function FR(n,e,t){if(S6(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return ZA(n.children,e,t)}return Array.isArray(n)?ZA(n,e,t):""}function ZA(n,e,t){const r=[];let a=-1;for(;++a<n.length;)r[a]=FR(n[a],e,t);return r.join("")}function S6(n){return!!(n&&typeof n=="object")}const eS=document.createElement("i");function nx(n){const e="&"+n+";";eS.innerHTML=e;const t=eS.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Oi(n,e,t,r){const a=n.length;let l=0,u;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,t=t>0?t:0,r.length<1e4)u=Array.from(r),u.unshift(e,t),n.splice(...u);else for(t&&n.splice(e,t);l<r.length;)u=r.slice(l,l+1e4),u.unshift(e,0),n.splice(...u),l+=1e4,e+=1e4}function Cr(n,e){return n.length>0?(Oi(n,n.length,0,e),n):e}const tS={}.hasOwnProperty;function I6(n){const e={};let t=-1;for(;++t<n.length;)N6(e,n[t]);return e}function N6(n,e){let t;for(t in e){const a=(tS.call(n,t)?n[t]:void 0)||(n[t]={}),l=e[t];let u;if(l)for(u in l){tS.call(a,u)||(a[u]=[]);const h=l[u];R6(a[u],Array.isArray(h)?h:h?[h]:[])}}}function R6(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);Oi(n,0,0,r)}function qR(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Lo(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Si=xa(/[A-Za-z]/),dr=xa(/[\dA-Za-z]/),C6=xa(/[#-'*+\--9=?A-Z^-~]/);function __(n){return n!==null&&(n<32||n===127)}const E_=xa(/\d/),D6=xa(/[\dA-Fa-f]/),O6=xa(/[!-/:-@[-`{-~]/);function Oe(n){return n!==null&&n<-2}function er(n){return n!==null&&(n<0||n===32)}function at(n){return n===-2||n===-1||n===32}const k6=xa(new RegExp("\\p{P}|\\p{S}","u")),V6=xa(/\s/);function xa(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function _u(n){const e=[];let t=-1,r=0,a=0;for(;++t<n.length;){const l=n.charCodeAt(t);let u="";if(l===37&&dr(n.charCodeAt(t+1))&&dr(n.charCodeAt(t+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const h=n.charCodeAt(t+1);l<56320&&h>56319&&h<57344?(u=String.fromCharCode(l,h),a=1):u=""}else u=String.fromCharCode(l);u&&(e.push(n.slice(r,t),encodeURIComponent(u)),r=t+a+1,u=""),a&&(t+=a,a=0)}return e.join("")+n.slice(r)}function xt(n,e,t,r){const a=r?r-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(d){return at(d)?(n.enter(t),h(d)):e(d)}function h(d){return at(d)&&l++<a?(n.consume(d),h):(n.exit(t),e(d))}}const M6={tokenize:P6};function P6(n){const e=n.attempt(this.parser.constructs.contentInitial,r,a);let t;return e;function r(h){if(h===null){n.consume(h);return}return n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),xt(n,e,"linePrefix")}function a(h){return n.enter("paragraph"),l(h)}function l(h){const d=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=d),t=d,u(h)}function u(h){if(h===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(h);return}return Oe(h)?(n.consume(h),n.exit("chunkText"),l):(n.consume(h),u)}}const L6={tokenize:j6},nS={tokenize:U6};function j6(n){const e=this,t=[];let r=0,a,l,u;return h;function h(q){if(r<t.length){const me=t[r];return e.containerState=me[1],n.attempt(me[0].continuation,d,m)(q)}return m(q)}function d(q){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&ee();const me=e.events.length;let fe=me,K;for(;fe--;)if(e.events[fe][0]==="exit"&&e.events[fe][1].type==="chunkFlow"){K=e.events[fe][1].end;break}z(r);let S=me;for(;S<e.events.length;)e.events[S][1].end={...K},S++;return Oi(e.events,fe+1,0,e.events.slice(me)),e.events.length=S,m(q)}return h(q)}function m(q){if(r===t.length){if(!a)return v(q);if(a.currentConstruct&&a.currentConstruct.concrete)return D(q);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(nS,y,_)(q)}function y(q){return a&&ee(),z(r),v(q)}function _(q){return e.parser.lazy[e.now().line]=r!==t.length,u=e.now().offset,D(q)}function v(q){return e.containerState={},n.attempt(nS,b,D)(q)}function b(q){return r++,t.push([e.currentConstruct,e.containerState]),v(q)}function D(q){if(q===null){a&&ee(),z(0),n.consume(q);return}return a=a||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),M(q)}function M(q){if(q===null){V(n.exit("chunkFlow"),!0),z(0),n.consume(q);return}return Oe(q)?(n.consume(q),V(n.exit("chunkFlow")),r=0,e.interrupt=void 0,h):(n.consume(q),M)}function V(q,me){const fe=e.sliceStream(q);if(me&&fe.push(null),q.previous=l,l&&(l.next=q),l=q,a.defineSkip(q.start),a.write(fe),e.parser.lazy[q.start.line]){let K=a.events.length;for(;K--;)if(a.events[K][1].start.offset<u&&(!a.events[K][1].end||a.events[K][1].end.offset>u))return;const S=e.events.length;let N=S,C,U;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){if(C){U=e.events[N][1].end;break}C=!0}for(z(r),K=S;K<e.events.length;)e.events[K][1].end={...U},K++;Oi(e.events,N+1,0,e.events.slice(S)),e.events.length=K}}function z(q){let me=t.length;for(;me-- >q;){const fe=t[me];e.containerState=fe[1],fe[0].exit.call(e,n)}t.length=q}function ee(){a.write([null]),l=void 0,a=void 0,e.containerState._closeFlow=void 0}}function U6(n,e,t){return xt(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function rS(n){if(n===null||er(n)||V6(n))return 1;if(k6(n))return 2}function rx(n,e,t){const r=[];let a=-1;for(;++a<n.length;){const l=n[a].resolveAll;l&&!r.includes(l)&&(e=l(e,t),r.push(l))}return e}const x_={name:"attention",resolveAll:B6,tokenize:z6};function B6(n,e){let t=-1,r,a,l,u,h,d,m,y;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;d=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const _={...n[r][1].end},v={...n[t][1].start};iS(_,-d),iS(v,d),u={type:d>1?"strongSequence":"emphasisSequence",start:_,end:{...n[r][1].end}},h={type:d>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:v},l={type:d>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[t][1].start}},a={type:d>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},n[r][1].end={...u.start},n[t][1].start={...h.end},m=[],n[r][1].end.offset-n[r][1].start.offset&&(m=Cr(m,[["enter",n[r][1],e],["exit",n[r][1],e]])),m=Cr(m,[["enter",a,e],["enter",u,e],["exit",u,e],["enter",l,e]]),m=Cr(m,rx(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),m=Cr(m,[["exit",l,e],["enter",h,e],["exit",h,e],["exit",a,e]]),n[t][1].end.offset-n[t][1].start.offset?(y=2,m=Cr(m,[["enter",n[t][1],e],["exit",n[t][1],e]])):y=0,Oi(n,r-1,t-r+3,m),t=r+m.length-y-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function z6(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,a=rS(r);let l;return u;function u(d){return l=d,n.enter("attentionSequence"),h(d)}function h(d){if(d===l)return n.consume(d),h;const m=n.exit("attentionSequence"),y=rS(d),_=!y||y===2&&a||t.includes(d),v=!a||a===2&&y||t.includes(r);return m._open=!!(l===42?_:_&&(a||!v)),m._close=!!(l===42?v:v&&(y||!_)),e(d)}}function iS(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const F6={name:"autolink",tokenize:q6};function q6(n,e,t){let r=0;return a;function a(b){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),l}function l(b){return Si(b)?(n.consume(b),u):b===64?t(b):m(b)}function u(b){return b===43||b===45||b===46||dr(b)?(r=1,h(b)):m(b)}function h(b){return b===58?(n.consume(b),r=0,d):(b===43||b===45||b===46||dr(b))&&r++<32?(n.consume(b),h):(r=0,m(b))}function d(b){return b===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),e):b===null||b===32||b===60||__(b)?t(b):(n.consume(b),d)}function m(b){return b===64?(n.consume(b),y):C6(b)?(n.consume(b),m):t(b)}function y(b){return dr(b)?_(b):t(b)}function _(b){return b===46?(n.consume(b),r=0,y):b===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),e):v(b)}function v(b){if((b===45||dr(b))&&r++<63){const D=b===45?v:_;return n.consume(b),D}return t(b)}}const Gm={partial:!0,tokenize:H6};function H6(n,e,t){return r;function r(l){return at(l)?xt(n,a,"linePrefix")(l):a(l)}function a(l){return l===null||Oe(l)?e(l):t(l)}}const HR={continuation:{tokenize:Y6},exit:K6,name:"blockQuote",tokenize:G6};function G6(n,e,t){const r=this;return a;function a(u){if(u===62){const h=r.containerState;return h.open||(n.enter("blockQuote",{_container:!0}),h.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(u),n.exit("blockQuoteMarker"),l}return t(u)}function l(u){return at(u)?(n.enter("blockQuotePrefixWhitespace"),n.consume(u),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(u))}}function Y6(n,e,t){const r=this;return a;function a(u){return at(u)?xt(n,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return n.attempt(HR,e,t)(u)}}function K6(n){n.exit("blockQuote")}const GR={name:"characterEscape",tokenize:Q6};function Q6(n,e,t){return r;function r(l){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(l),n.exit("escapeMarker"),a}function a(l){return O6(l)?(n.enter("characterEscapeValue"),n.consume(l),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(l)}}const YR={name:"characterReference",tokenize:$6};function $6(n,e,t){const r=this;let a=0,l,u;return h;function h(_){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(_),n.exit("characterReferenceMarker"),d}function d(_){return _===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(_),n.exit("characterReferenceMarkerNumeric"),m):(n.enter("characterReferenceValue"),l=31,u=dr,y(_))}function m(_){return _===88||_===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(_),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),l=6,u=D6,y):(n.enter("characterReferenceValue"),l=7,u=E_,y(_))}function y(_){if(_===59&&a){const v=n.exit("characterReferenceValue");return u===dr&&!nx(r.sliceSerialize(v))?t(_):(n.enter("characterReferenceMarker"),n.consume(_),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return u(_)&&a++<l?(n.consume(_),y):t(_)}}const sS={partial:!0,tokenize:W6},aS={concrete:!0,name:"codeFenced",tokenize:X6};function X6(n,e,t){const r=this,a={partial:!0,tokenize:fe};let l=0,u=0,h;return d;function d(K){return m(K)}function m(K){const S=r.events[r.events.length-1];return l=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,h=K,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),y(K)}function y(K){return K===h?(u++,n.consume(K),y):u<3?t(K):(n.exit("codeFencedFenceSequence"),at(K)?xt(n,_,"whitespace")(K):_(K))}function _(K){return K===null||Oe(K)?(n.exit("codeFencedFence"),r.interrupt?e(K):n.check(sS,M,me)(K)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),v(K))}function v(K){return K===null||Oe(K)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),_(K)):at(K)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),xt(n,b,"whitespace")(K)):K===96&&K===h?t(K):(n.consume(K),v)}function b(K){return K===null||Oe(K)?_(K):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),D(K))}function D(K){return K===null||Oe(K)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),_(K)):K===96&&K===h?t(K):(n.consume(K),D)}function M(K){return n.attempt(a,me,V)(K)}function V(K){return n.enter("lineEnding"),n.consume(K),n.exit("lineEnding"),z}function z(K){return l>0&&at(K)?xt(n,ee,"linePrefix",l+1)(K):ee(K)}function ee(K){return K===null||Oe(K)?n.check(sS,M,me)(K):(n.enter("codeFlowValue"),q(K))}function q(K){return K===null||Oe(K)?(n.exit("codeFlowValue"),ee(K)):(n.consume(K),q)}function me(K){return n.exit("codeFenced"),e(K)}function fe(K,S,N){let C=0;return U;function U(de){return K.enter("lineEnding"),K.consume(de),K.exit("lineEnding"),k}function k(de){return K.enter("codeFencedFence"),at(de)?xt(K,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(de):L(de)}function L(de){return de===h?(K.enter("codeFencedFenceSequence"),O(de)):N(de)}function O(de){return de===h?(C++,K.consume(de),O):C>=u?(K.exit("codeFencedFenceSequence"),at(de)?xt(K,xe,"whitespace")(de):xe(de)):N(de)}function xe(de){return de===null||Oe(de)?(K.exit("codeFencedFence"),S(de)):N(de)}}}function W6(n,e,t){const r=this;return a;function a(u){return u===null?t(u):(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),l)}function l(u){return r.parser.lazy[r.now().line]?t(u):e(u)}}const _y={name:"codeIndented",tokenize:Z6},J6={partial:!0,tokenize:e3};function Z6(n,e,t){const r=this;return a;function a(m){return n.enter("codeIndented"),xt(n,l,"linePrefix",5)(m)}function l(m){const y=r.events[r.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?u(m):t(m)}function u(m){return m===null?d(m):Oe(m)?n.attempt(J6,u,d)(m):(n.enter("codeFlowValue"),h(m))}function h(m){return m===null||Oe(m)?(n.exit("codeFlowValue"),u(m)):(n.consume(m),h)}function d(m){return n.exit("codeIndented"),e(m)}}function e3(n,e,t){const r=this;return a;function a(u){return r.parser.lazy[r.now().line]?t(u):Oe(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),a):xt(n,l,"linePrefix",5)(u)}function l(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):Oe(u)?a(u):t(u)}}const t3={name:"codeText",previous:r3,resolve:n3,tokenize:i3};function n3(n){let e=n.length-4,t=3,r,a;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)a===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(a=r):(r===e||n[r][1].type==="lineEnding")&&(n[a][1].type="codeTextData",r!==a+2&&(n[a][1].end=n[r-1][1].end,n.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return n}function r3(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function i3(n,e,t){let r=0,a,l;return u;function u(_){return n.enter("codeText"),n.enter("codeTextSequence"),h(_)}function h(_){return _===96?(n.consume(_),r++,h):(n.exit("codeTextSequence"),d(_))}function d(_){return _===null?t(_):_===32?(n.enter("space"),n.consume(_),n.exit("space"),d):_===96?(l=n.enter("codeTextSequence"),a=0,y(_)):Oe(_)?(n.enter("lineEnding"),n.consume(_),n.exit("lineEnding"),d):(n.enter("codeTextData"),m(_))}function m(_){return _===null||_===32||_===96||Oe(_)?(n.exit("codeTextData"),d(_)):(n.consume(_),m)}function y(_){return _===96?(n.consume(_),a++,y):a===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(_)):(l.type="codeTextData",m(_))}}class s3{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const a=t||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Dc(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Dc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Dc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Dc(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Dc(this.left,t.reverse())}}}function Dc(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function KR(n){const e={};let t=-1,r,a,l,u,h,d,m;const y=new s3(n);for(;++t<y.length;){for(;t in e;)t=e[t];if(r=y.get(t),t&&r[1].type==="chunkFlow"&&y.get(t-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,l=0,l<d.length&&d[l][1].type==="lineEndingBlank"&&(l+=2),l<d.length&&d[l][1].type==="content"))for(;++l<d.length&&d[l][1].type!=="content";)d[l][1].type==="chunkText"&&(d[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,a3(y,t)),t=e[t],m=!0);else if(r[1]._container){for(l=t,a=void 0;l--;)if(u=y.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(y.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(r[1].end={...y.get(a)[1].start},h=y.slice(a,t),h.unshift(r),y.splice(a,t-a+1,h))}}return Oi(n,0,Number.POSITIVE_INFINITY,y.slice(0)),!m}function a3(n,e){const t=n.get(e)[1],r=n.get(e)[2];let a=e-1;const l=[];let u=t._tokenizer;u||(u=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,d=[],m={};let y,_,v=-1,b=t,D=0,M=0;const V=[M];for(;b;){for(;n.get(++a)[1]!==b;);l.push(a),b._tokenizer||(y=r.sliceStream(b),b.next||y.push(null),_&&u.defineSkip(b.start),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(y),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),_=b,b=b.next}for(b=t;++v<h.length;)h[v][0]==="exit"&&h[v-1][0]==="enter"&&h[v][1].type===h[v-1][1].type&&h[v][1].start.line!==h[v][1].end.line&&(M=v+1,V.push(M),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(u.events=[],b?(b._tokenizer=void 0,b.previous=void 0):V.pop(),v=V.length;v--;){const z=h.slice(V[v],V[v+1]),ee=l.pop();d.push([ee,ee+z.length-1]),n.splice(ee,2,z)}for(d.reverse(),v=-1;++v<d.length;)m[D+d[v][0]]=D+d[v][1],D+=d[v][1]-d[v][0]-1;return m}const l3={resolve:u3,tokenize:c3},o3={partial:!0,tokenize:h3};function u3(n){return KR(n),n}function c3(n,e){let t;return r;function r(h){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?l(h):Oe(h)?n.check(o3,u,l)(h):(n.consume(h),a)}function l(h){return n.exit("chunkContent"),n.exit("content"),e(h)}function u(h){return n.consume(h),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,a}}function h3(n,e,t){const r=this;return a;function a(u){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),xt(n,l,"linePrefix")}function l(u){if(u===null||Oe(u))return t(u);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):n.interrupt(r.parser.constructs.flow,t,e)(u)}}function QR(n,e,t,r,a,l,u,h,d){const m=d||Number.POSITIVE_INFINITY;let y=0;return _;function _(z){return z===60?(n.enter(r),n.enter(a),n.enter(l),n.consume(z),n.exit(l),v):z===null||z===32||z===41||__(z)?t(z):(n.enter(r),n.enter(u),n.enter(h),n.enter("chunkString",{contentType:"string"}),M(z))}function v(z){return z===62?(n.enter(l),n.consume(z),n.exit(l),n.exit(a),n.exit(r),e):(n.enter(h),n.enter("chunkString",{contentType:"string"}),b(z))}function b(z){return z===62?(n.exit("chunkString"),n.exit(h),v(z)):z===null||z===60||Oe(z)?t(z):(n.consume(z),z===92?D:b)}function D(z){return z===60||z===62||z===92?(n.consume(z),b):b(z)}function M(z){return!y&&(z===null||z===41||er(z))?(n.exit("chunkString"),n.exit(h),n.exit(u),n.exit(r),e(z)):y<m&&z===40?(n.consume(z),y++,M):z===41?(n.consume(z),y--,M):z===null||z===32||z===40||__(z)?t(z):(n.consume(z),z===92?V:M)}function V(z){return z===40||z===41||z===92?(n.consume(z),M):M(z)}}function $R(n,e,t,r,a,l){const u=this;let h=0,d;return m;function m(b){return n.enter(r),n.enter(a),n.consume(b),n.exit(a),n.enter(l),y}function y(b){return h>999||b===null||b===91||b===93&&!d||b===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?t(b):b===93?(n.exit(l),n.enter(a),n.consume(b),n.exit(a),n.exit(r),e):Oe(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),y):(n.enter("chunkString",{contentType:"string"}),_(b))}function _(b){return b===null||b===91||b===93||Oe(b)||h++>999?(n.exit("chunkString"),y(b)):(n.consume(b),d||(d=!at(b)),b===92?v:_)}function v(b){return b===91||b===92||b===93?(n.consume(b),h++,_):_(b)}}function XR(n,e,t,r,a,l){let u;return h;function h(v){return v===34||v===39||v===40?(n.enter(r),n.enter(a),n.consume(v),n.exit(a),u=v===40?41:v,d):t(v)}function d(v){return v===u?(n.enter(a),n.consume(v),n.exit(a),n.exit(r),e):(n.enter(l),m(v))}function m(v){return v===u?(n.exit(l),d(u)):v===null?t(v):Oe(v)?(n.enter("lineEnding"),n.consume(v),n.exit("lineEnding"),xt(n,m,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),y(v))}function y(v){return v===u||v===null||Oe(v)?(n.exit("chunkString"),m(v)):(n.consume(v),v===92?_:y)}function _(v){return v===u||v===92?(n.consume(v),y):y(v)}}function Wc(n,e){let t;return r;function r(a){return Oe(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),t=!0,r):at(a)?xt(n,r,t?"linePrefix":"lineSuffix")(a):e(a)}}const f3={name:"definition",tokenize:m3},d3={partial:!0,tokenize:p3};function m3(n,e,t){const r=this;let a;return l;function l(b){return n.enter("definition"),u(b)}function u(b){return $R.call(r,n,h,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function h(b){return a=Lo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(n.enter("definitionMarker"),n.consume(b),n.exit("definitionMarker"),d):t(b)}function d(b){return er(b)?Wc(n,m)(b):m(b)}function m(b){return QR(n,y,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function y(b){return n.attempt(d3,_,_)(b)}function _(b){return at(b)?xt(n,v,"whitespace")(b):v(b)}function v(b){return b===null||Oe(b)?(n.exit("definition"),r.parser.defined.push(a),e(b)):t(b)}}function p3(n,e,t){return r;function r(h){return er(h)?Wc(n,a)(h):t(h)}function a(h){return XR(n,l,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function l(h){return at(h)?xt(n,u,"whitespace")(h):u(h)}function u(h){return h===null||Oe(h)?e(h):t(h)}}const g3={name:"hardBreakEscape",tokenize:y3};function y3(n,e,t){return r;function r(l){return n.enter("hardBreakEscape"),n.consume(l),a}function a(l){return Oe(l)?(n.exit("hardBreakEscape"),e(l)):t(l)}}const _3={name:"headingAtx",resolve:E3,tokenize:x3};function E3(n,e){let t=n.length-2,r=3,a,l;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(a={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},l={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},Oi(n,r,t-r+1,[["enter",a,e],["enter",l,e],["exit",l,e],["exit",a,e]])),n}function x3(n,e,t){let r=0;return a;function a(y){return n.enter("atxHeading"),l(y)}function l(y){return n.enter("atxHeadingSequence"),u(y)}function u(y){return y===35&&r++<6?(n.consume(y),u):y===null||er(y)?(n.exit("atxHeadingSequence"),h(y)):t(y)}function h(y){return y===35?(n.enter("atxHeadingSequence"),d(y)):y===null||Oe(y)?(n.exit("atxHeading"),e(y)):at(y)?xt(n,h,"whitespace")(y):(n.enter("atxHeadingText"),m(y))}function d(y){return y===35?(n.consume(y),d):(n.exit("atxHeadingSequence"),h(y))}function m(y){return y===null||y===35||er(y)?(n.exit("atxHeadingText"),h(y)):(n.consume(y),m)}}const v3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lS=["pre","script","style","textarea"],b3={concrete:!0,name:"htmlFlow",resolveTo:A3,tokenize:S3},T3={partial:!0,tokenize:N3},w3={partial:!0,tokenize:I3};function A3(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function S3(n,e,t){const r=this;let a,l,u,h,d;return m;function m(R){return y(R)}function y(R){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(R),_}function _(R){return R===33?(n.consume(R),v):R===47?(n.consume(R),l=!0,M):R===63?(n.consume(R),a=3,r.interrupt?e:P):Si(R)?(n.consume(R),u=String.fromCharCode(R),V):t(R)}function v(R){return R===45?(n.consume(R),a=2,b):R===91?(n.consume(R),a=5,h=0,D):Si(R)?(n.consume(R),a=4,r.interrupt?e:P):t(R)}function b(R){return R===45?(n.consume(R),r.interrupt?e:P):t(R)}function D(R){const _e="CDATA[";return R===_e.charCodeAt(h++)?(n.consume(R),h===_e.length?r.interrupt?e:L:D):t(R)}function M(R){return Si(R)?(n.consume(R),u=String.fromCharCode(R),V):t(R)}function V(R){if(R===null||R===47||R===62||er(R)){const _e=R===47,Re=u.toLowerCase();return!_e&&!l&&lS.includes(Re)?(a=1,r.interrupt?e(R):L(R)):v3.includes(u.toLowerCase())?(a=6,_e?(n.consume(R),z):r.interrupt?e(R):L(R)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(R):l?ee(R):q(R))}return R===45||dr(R)?(n.consume(R),u+=String.fromCharCode(R),V):t(R)}function z(R){return R===62?(n.consume(R),r.interrupt?e:L):t(R)}function ee(R){return at(R)?(n.consume(R),ee):U(R)}function q(R){return R===47?(n.consume(R),U):R===58||R===95||Si(R)?(n.consume(R),me):at(R)?(n.consume(R),q):U(R)}function me(R){return R===45||R===46||R===58||R===95||dr(R)?(n.consume(R),me):fe(R)}function fe(R){return R===61?(n.consume(R),K):at(R)?(n.consume(R),fe):q(R)}function K(R){return R===null||R===60||R===61||R===62||R===96?t(R):R===34||R===39?(n.consume(R),d=R,S):at(R)?(n.consume(R),K):N(R)}function S(R){return R===d?(n.consume(R),d=null,C):R===null||Oe(R)?t(R):(n.consume(R),S)}function N(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||er(R)?fe(R):(n.consume(R),N)}function C(R){return R===47||R===62||at(R)?q(R):t(R)}function U(R){return R===62?(n.consume(R),k):t(R)}function k(R){return R===null||Oe(R)?L(R):at(R)?(n.consume(R),k):t(R)}function L(R){return R===45&&a===2?(n.consume(R),X):R===60&&a===1?(n.consume(R),ce):R===62&&a===4?(n.consume(R),B):R===63&&a===3?(n.consume(R),P):R===93&&a===5?(n.consume(R),Me):Oe(R)&&(a===6||a===7)?(n.exit("htmlFlowData"),n.check(T3,ie,O)(R)):R===null||Oe(R)?(n.exit("htmlFlowData"),O(R)):(n.consume(R),L)}function O(R){return n.check(w3,xe,ie)(R)}function xe(R){return n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),de}function de(R){return R===null||Oe(R)?O(R):(n.enter("htmlFlowData"),L(R))}function X(R){return R===45?(n.consume(R),P):L(R)}function ce(R){return R===47?(n.consume(R),u="",be):L(R)}function be(R){if(R===62){const _e=u.toLowerCase();return lS.includes(_e)?(n.consume(R),B):L(R)}return Si(R)&&u.length<8?(n.consume(R),u+=String.fromCharCode(R),be):L(R)}function Me(R){return R===93?(n.consume(R),P):L(R)}function P(R){return R===62?(n.consume(R),B):R===45&&a===2?(n.consume(R),P):L(R)}function B(R){return R===null||Oe(R)?(n.exit("htmlFlowData"),ie(R)):(n.consume(R),B)}function ie(R){return n.exit("htmlFlow"),e(R)}}function I3(n,e,t){const r=this;return a;function a(u){return Oe(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),l):t(u)}function l(u){return r.parser.lazy[r.now().line]?t(u):e(u)}}function N3(n,e,t){return r;function r(a){return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),n.attempt(Gm,e,t)}}const R3={name:"htmlText",tokenize:C3};function C3(n,e,t){const r=this;let a,l,u;return h;function h(P){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(P),d}function d(P){return P===33?(n.consume(P),m):P===47?(n.consume(P),fe):P===63?(n.consume(P),q):Si(P)?(n.consume(P),N):t(P)}function m(P){return P===45?(n.consume(P),y):P===91?(n.consume(P),l=0,D):Si(P)?(n.consume(P),ee):t(P)}function y(P){return P===45?(n.consume(P),b):t(P)}function _(P){return P===null?t(P):P===45?(n.consume(P),v):Oe(P)?(u=_,ce(P)):(n.consume(P),_)}function v(P){return P===45?(n.consume(P),b):_(P)}function b(P){return P===62?X(P):P===45?v(P):_(P)}function D(P){const B="CDATA[";return P===B.charCodeAt(l++)?(n.consume(P),l===B.length?M:D):t(P)}function M(P){return P===null?t(P):P===93?(n.consume(P),V):Oe(P)?(u=M,ce(P)):(n.consume(P),M)}function V(P){return P===93?(n.consume(P),z):M(P)}function z(P){return P===62?X(P):P===93?(n.consume(P),z):M(P)}function ee(P){return P===null||P===62?X(P):Oe(P)?(u=ee,ce(P)):(n.consume(P),ee)}function q(P){return P===null?t(P):P===63?(n.consume(P),me):Oe(P)?(u=q,ce(P)):(n.consume(P),q)}function me(P){return P===62?X(P):q(P)}function fe(P){return Si(P)?(n.consume(P),K):t(P)}function K(P){return P===45||dr(P)?(n.consume(P),K):S(P)}function S(P){return Oe(P)?(u=S,ce(P)):at(P)?(n.consume(P),S):X(P)}function N(P){return P===45||dr(P)?(n.consume(P),N):P===47||P===62||er(P)?C(P):t(P)}function C(P){return P===47?(n.consume(P),X):P===58||P===95||Si(P)?(n.consume(P),U):Oe(P)?(u=C,ce(P)):at(P)?(n.consume(P),C):X(P)}function U(P){return P===45||P===46||P===58||P===95||dr(P)?(n.consume(P),U):k(P)}function k(P){return P===61?(n.consume(P),L):Oe(P)?(u=k,ce(P)):at(P)?(n.consume(P),k):C(P)}function L(P){return P===null||P===60||P===61||P===62||P===96?t(P):P===34||P===39?(n.consume(P),a=P,O):Oe(P)?(u=L,ce(P)):at(P)?(n.consume(P),L):(n.consume(P),xe)}function O(P){return P===a?(n.consume(P),a=void 0,de):P===null?t(P):Oe(P)?(u=O,ce(P)):(n.consume(P),O)}function xe(P){return P===null||P===34||P===39||P===60||P===61||P===96?t(P):P===47||P===62||er(P)?C(P):(n.consume(P),xe)}function de(P){return P===47||P===62||er(P)?C(P):t(P)}function X(P){return P===62?(n.consume(P),n.exit("htmlTextData"),n.exit("htmlText"),e):t(P)}function ce(P){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(P),n.exit("lineEnding"),be}function be(P){return at(P)?xt(n,Me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):Me(P)}function Me(P){return n.enter("htmlTextData"),u(P)}}const ix={name:"labelEnd",resolveAll:V3,resolveTo:M3,tokenize:P3},D3={tokenize:L3},O3={tokenize:j3},k3={tokenize:U3};function V3(n){let e=-1;const t=[];for(;++e<n.length;){const r=n[e][1];if(t.push(n[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return n.length!==t.length&&Oi(n,0,n.length,t),n}function M3(n,e){let t=n.length,r=0,a,l,u,h;for(;t--;)if(a=n[t][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;n[t][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(n[t][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=t,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(u=t);const d={type:n[l][1].type==="labelLink"?"link":"image",start:{...n[l][1].start},end:{...n[n.length-1][1].end}},m={type:"label",start:{...n[l][1].start},end:{...n[u][1].end}},y={type:"labelText",start:{...n[l+r+2][1].end},end:{...n[u-2][1].start}};return h=[["enter",d,e],["enter",m,e]],h=Cr(h,n.slice(l+1,l+r+3)),h=Cr(h,[["enter",y,e]]),h=Cr(h,rx(e.parser.constructs.insideSpan.null,n.slice(l+r+4,u-3),e)),h=Cr(h,[["exit",y,e],n[u-2],n[u-1],["exit",m,e]]),h=Cr(h,n.slice(u+1)),h=Cr(h,[["exit",d,e]]),Oi(n,l,n.length,h),n}function P3(n,e,t){const r=this;let a=r.events.length,l,u;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){l=r.events[a][1];break}return h;function h(v){return l?l._inactive?_(v):(u=r.parser.defined.includes(Lo(r.sliceSerialize({start:l.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(v),n.exit("labelMarker"),n.exit("labelEnd"),d):t(v)}function d(v){return v===40?n.attempt(D3,y,u?y:_)(v):v===91?n.attempt(O3,y,u?m:_)(v):u?y(v):_(v)}function m(v){return n.attempt(k3,y,_)(v)}function y(v){return e(v)}function _(v){return l._balanced=!0,t(v)}}function L3(n,e,t){return r;function r(_){return n.enter("resource"),n.enter("resourceMarker"),n.consume(_),n.exit("resourceMarker"),a}function a(_){return er(_)?Wc(n,l)(_):l(_)}function l(_){return _===41?y(_):QR(n,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function u(_){return er(_)?Wc(n,d)(_):y(_)}function h(_){return t(_)}function d(_){return _===34||_===39||_===40?XR(n,m,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):y(_)}function m(_){return er(_)?Wc(n,y)(_):y(_)}function y(_){return _===41?(n.enter("resourceMarker"),n.consume(_),n.exit("resourceMarker"),n.exit("resource"),e):t(_)}}function j3(n,e,t){const r=this;return a;function a(h){return $R.call(r,n,l,u,"reference","referenceMarker","referenceString")(h)}function l(h){return r.parser.defined.includes(Lo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(h):t(h)}function u(h){return t(h)}}function U3(n,e,t){return r;function r(l){return n.enter("reference"),n.enter("referenceMarker"),n.consume(l),n.exit("referenceMarker"),a}function a(l){return l===93?(n.enter("referenceMarker"),n.consume(l),n.exit("referenceMarker"),n.exit("reference"),e):t(l)}}const B3={name:"labelStartImage",resolveAll:ix.resolveAll,tokenize:z3};function z3(n,e,t){const r=this;return a;function a(h){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(h),n.exit("labelImageMarker"),l}function l(h){return h===91?(n.enter("labelMarker"),n.consume(h),n.exit("labelMarker"),n.exit("labelImage"),u):t(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(h):e(h)}}const F3={name:"labelStartLink",resolveAll:ix.resolveAll,tokenize:q3};function q3(n,e,t){const r=this;return a;function a(u){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(u),n.exit("labelMarker"),n.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(u):e(u)}}const Ey={name:"lineEnding",tokenize:H3};function H3(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),xt(n,e,"linePrefix")}}const Ld={name:"thematicBreak",tokenize:G3};function G3(n,e,t){let r=0,a;return l;function l(m){return n.enter("thematicBreak"),u(m)}function u(m){return a=m,h(m)}function h(m){return m===a?(n.enter("thematicBreakSequence"),d(m)):r>=3&&(m===null||Oe(m))?(n.exit("thematicBreak"),e(m)):t(m)}function d(m){return m===a?(n.consume(m),r++,d):(n.exit("thematicBreakSequence"),at(m)?xt(n,h,"whitespace")(m):h(m))}}const $n={continuation:{tokenize:$3},exit:W3,name:"list",tokenize:Q3},Y3={partial:!0,tokenize:J3},K3={partial:!0,tokenize:X3};function Q3(n,e,t){const r=this,a=r.events[r.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return h;function h(b){const D=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:E_(b)){if(r.containerState.type||(r.containerState.type=D,n.enter(D,{_container:!0})),D==="listUnordered")return n.enter("listItemPrefix"),b===42||b===45?n.check(Ld,t,m)(b):m(b);if(!r.interrupt||b===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),d(b)}return t(b)}function d(b){return E_(b)&&++u<10?(n.consume(b),d):(!r.interrupt||u<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(n.exit("listItemValue"),m(b)):t(b)}function m(b){return n.enter("listItemMarker"),n.consume(b),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,n.check(Gm,r.interrupt?t:y,n.attempt(Y3,v,_))}function y(b){return r.containerState.initialBlankLine=!0,l++,v(b)}function _(b){return at(b)?(n.enter("listItemPrefixWhitespace"),n.consume(b),n.exit("listItemPrefixWhitespace"),v):t(b)}function v(b){return r.containerState.size=l+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(b)}}function $3(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(Gm,a,l);function a(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xt(n,e,"listItemIndent",r.containerState.size+1)(h)}function l(h){return r.containerState.furtherBlankLines||!at(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(K3,e,u)(h))}function u(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,xt(n,n.attempt($n,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function X3(n,e,t){const r=this;return xt(n,a,"listItemIndent",r.containerState.size+1);function a(l){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(l):t(l)}}function W3(n){n.exit(this.containerState.type)}function J3(n,e,t){const r=this;return xt(n,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const u=r.events[r.events.length-1];return!at(l)&&u&&u[1].type==="listItemPrefixWhitespace"?e(l):t(l)}}const oS={name:"setextUnderline",resolveTo:Z3,tokenize:e5};function Z3(n,e){let t=n.length,r,a,l;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(a=t)}else n[t][1].type==="content"&&n.splice(t,1),!l&&n[t][1].type==="definition"&&(l=t);const u={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[a][1].type="setextHeadingText",l?(n.splice(a,0,["enter",u,e]),n.splice(l+1,0,["exit",n[r][1],e]),n[r][1].end={...n[l][1].end}):n[r][1]=u,n.push(["exit",u,e]),n}function e5(n,e,t){const r=this;let a;return l;function l(m){let y=r.events.length,_;for(;y--;)if(r.events[y][1].type!=="lineEnding"&&r.events[y][1].type!=="linePrefix"&&r.events[y][1].type!=="content"){_=r.events[y][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||_)?(n.enter("setextHeadingLine"),a=m,u(m)):t(m)}function u(m){return n.enter("setextHeadingLineSequence"),h(m)}function h(m){return m===a?(n.consume(m),h):(n.exit("setextHeadingLineSequence"),at(m)?xt(n,d,"lineSuffix")(m):d(m))}function d(m){return m===null||Oe(m)?(n.exit("setextHeadingLine"),e(m)):t(m)}}const t5={tokenize:n5};function n5(n){const e=this,t=n.attempt(Gm,r,n.attempt(this.parser.constructs.flowInitial,a,xt(n,n.attempt(this.parser.constructs.flow,a,n.attempt(l3,a)),"linePrefix")));return t;function r(l){if(l===null){n.consume(l);return}return n.enter("lineEndingBlank"),n.consume(l),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function a(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const r5={resolveAll:JR()},i5=WR("string"),s5=WR("text");function WR(n){return{resolveAll:JR(n==="text"?a5:void 0),tokenize:e};function e(t){const r=this,a=this.parser.constructs[n],l=t.attempt(a,u,h);return u;function u(y){return m(y)?l(y):h(y)}function h(y){if(y===null){t.consume(y);return}return t.enter("data"),t.consume(y),d}function d(y){return m(y)?(t.exit("data"),l(y)):(t.consume(y),d)}function m(y){if(y===null)return!0;const _=a[y];let v=-1;if(_)for(;++v<_.length;){const b=_[v];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function JR(n){return e;function e(t,r){let a=-1,l;for(;++a<=t.length;)l===void 0?t[a]&&t[a][1].type==="data"&&(l=a,a++):(!t[a]||t[a][1].type!=="data")&&(a!==l+2&&(t[l][1].end=t[a-1][1].end,t.splice(l+2,a-l-2),a=l+2),l=void 0);return n?n(t,r):t}}function a5(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],a=e.sliceStream(r);let l=a.length,u=-1,h=0,d;for(;l--;){const m=a[l];if(typeof m=="string"){for(u=m.length;m.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(m===-2)d=!0,h++;else if(m!==-1){l++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(h=0),h){const m={type:t===n.length||d||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:r.start._bufferIndex+u,_index:r.start._index+l,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...m.start},r.start.offset===r.end.offset?Object.assign(r,m):(n.splice(t,0,["enter",m,e],["exit",m,e]),t+=2)}t++}return n}const l5={42:$n,43:$n,45:$n,48:$n,49:$n,50:$n,51:$n,52:$n,53:$n,54:$n,55:$n,56:$n,57:$n,62:HR},o5={91:f3},u5={[-2]:_y,[-1]:_y,32:_y},c5={35:_3,42:Ld,45:[oS,Ld],60:b3,61:oS,95:Ld,96:aS,126:aS},h5={38:YR,92:GR},f5={[-5]:Ey,[-4]:Ey,[-3]:Ey,33:B3,38:YR,42:x_,60:[F6,R3],91:F3,92:[g3,GR],93:ix,95:x_,96:t3},d5={null:[x_,r5]},m5={null:[42,95]},p5={null:[]},g5=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:m5,contentInitial:o5,disable:p5,document:l5,flow:c5,flowInitial:u5,insideSpan:d5,string:h5,text:f5},Symbol.toStringTag,{value:"Module"}));function y5(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const a={},l=[];let u=[],h=[];const d={attempt:S(fe),check:S(K),consume:ee,enter:q,exit:me,interrupt:S(K,{interrupt:!0})},m={code:null,containerState:{},defineSkip:M,events:[],now:D,parser:n,previous:null,sliceSerialize:v,sliceStream:b,write:_};let y=e.tokenize.call(m,d);return e.resolveAll&&l.push(e),m;function _(k){return u=Cr(u,k),V(),u[u.length-1]!==null?[]:(N(e,0),m.events=rx(l,m.events,m),m.events)}function v(k,L){return E5(b(k),L)}function b(k){return _5(u,k)}function D(){const{_bufferIndex:k,_index:L,line:O,column:xe,offset:de}=r;return{_bufferIndex:k,_index:L,line:O,column:xe,offset:de}}function M(k){a[k.line]=k.column,U()}function V(){let k;for(;r._index<u.length;){const L=u[r._index];if(typeof L=="string")for(k=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===k&&r._bufferIndex<L.length;)z(L.charCodeAt(r._bufferIndex));else z(L)}}function z(k){y=y(k)}function ee(k){Oe(k)?(r.line++,r.column=1,r.offset+=k===-3?2:1,U()):k!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=k}function q(k,L){const O=L||{};return O.type=k,O.start=D(),m.events.push(["enter",O,m]),h.push(O),O}function me(k){const L=h.pop();return L.end=D(),m.events.push(["exit",L,m]),L}function fe(k,L){N(k,L.from)}function K(k,L){L.restore()}function S(k,L){return O;function O(xe,de,X){let ce,be,Me,P;return Array.isArray(xe)?ie(xe):"tokenize"in xe?ie([xe]):B(xe);function B(Se){return ze;function ze(dt){const rt=dt!==null&&Se[dt],zn=dt!==null&&Se.null,Vr=[...Array.isArray(rt)?rt:rt?[rt]:[],...Array.isArray(zn)?zn:zn?[zn]:[]];return ie(Vr)(dt)}}function ie(Se){return ce=Se,be=0,Se.length===0?X:R(Se[be])}function R(Se){return ze;function ze(dt){return P=C(),Me=Se,Se.partial||(m.currentConstruct=Se),Se.name&&m.parser.constructs.disable.null.includes(Se.name)?Re():Se.tokenize.call(L?Object.assign(Object.create(m),L):m,d,_e,Re)(dt)}}function _e(Se){return k(Me,P),de}function Re(Se){return P.restore(),++be<ce.length?R(ce[be]):X}}}function N(k,L){k.resolveAll&&!l.includes(k)&&l.push(k),k.resolve&&Oi(m.events,L,m.events.length-L,k.resolve(m.events.slice(L),m)),k.resolveTo&&(m.events=k.resolveTo(m.events,m))}function C(){const k=D(),L=m.previous,O=m.currentConstruct,xe=m.events.length,de=Array.from(h);return{from:xe,restore:X};function X(){r=k,m.previous=L,m.currentConstruct=O,m.events.length=xe,h=de,U()}}function U(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function _5(n,e){const t=e.start._index,r=e.start._bufferIndex,a=e.end._index,l=e.end._bufferIndex;let u;if(t===a)u=[n[t].slice(r,l)];else{if(u=n.slice(t,a),r>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(r):u.shift()}l>0&&u.push(n[a].slice(0,l))}return u}function E5(n,e){let t=-1;const r=[];let a;for(;++t<n.length;){const l=n[t];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&a)continue;u=" ";break}default:u=String.fromCharCode(l)}a=l===-2,r.push(u)}return r.join("")}function x5(n){const r={constructs:I6([g5,...(n||{}).extensions||[]]),content:a(M6),defined:[],document:a(L6),flow:a(t5),lazy:{},string:a(i5),text:a(s5)};return r;function a(l){return u;function u(h){return y5(r,l,h)}}}function v5(n){for(;!KR(n););return n}const uS=/[\0\t\n\r]/g;function b5(){let n=1,e="",t=!0,r;return a;function a(l,u,h){const d=[];let m,y,_,v,b;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),_=0,e="",t&&(l.charCodeAt(0)===65279&&_++,t=void 0);_<l.length;){if(uS.lastIndex=_,m=uS.exec(l),v=m&&m.index!==void 0?m.index:l.length,b=l.charCodeAt(v),!m){e=l.slice(_);break}if(b===10&&_===v&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),_<v&&(d.push(l.slice(_,v)),n+=v-_),b){case 0:{d.push(65533),n++;break}case 9:{for(y=Math.ceil(n/4)*4,d.push(-2);n++<y;)d.push(-1);break}case 10:{d.push(-4),n=1;break}default:r=!0,n=1}_=v+1}return h&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}const T5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function w5(n){return n.replace(T5,A5)}function A5(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const a=t.charCodeAt(1),l=a===120||a===88;return qR(t.slice(l?2:1),l?16:10)}return nx(t)||n}const ZR={}.hasOwnProperty;function S5(n,e,t){return typeof e!="string"&&(t=e,e=void 0),I5(t)(v5(x5(t).document().write(b5()(n,e,!0))))}function I5(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ot),autolinkProtocol:C,autolinkEmail:C,atxHeading:l(ms),blockQuote:l(zn),characterEscape:C,characterReference:C,codeFenced:l(Vr),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Vr,u),codeText:l(fs,u),codeTextData:C,data:C,codeFlowValue:C,definition:l(ds),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(gr),hardBreakEscape:l(ei),hardBreakTrailing:l(ei),htmlFlow:l(ps,u),htmlFlowData:C,htmlText:l(ps,u),htmlTextData:C,image:l(va),label:u,link:l(Ot),listItem:l(ti),listItemValue:v,listOrdered:l(Mt,_),listUnordered:l(Mt),paragraph:l(Eu),reference:R,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(ms),strong:l(Rl),thematicBreak:l(Vi)},exit:{atxHeading:d(),atxHeadingSequence:fe,autolink:d(),autolinkEmail:rt,autolinkProtocol:dt,blockQuote:d(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:Re,characterReferenceMarkerNumeric:Re,characterReferenceValue:Se,characterReference:ze,codeFenced:d(V),codeFencedFence:M,codeFencedFenceInfo:b,codeFencedFenceMeta:D,codeFlowValue:U,codeIndented:d(z),codeText:d(de),codeTextData:U,data:U,definition:d(),definitionDestinationString:me,definitionLabelString:ee,definitionTitleString:q,emphasis:d(),hardBreakEscape:d(L),hardBreakTrailing:d(L),htmlFlow:d(O),htmlFlowData:U,htmlText:d(xe),htmlTextData:U,image:d(ce),label:Me,labelText:be,lineEnding:k,link:d(X),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:_e,resourceDestinationString:P,resourceTitleString:B,resource:ie,setextHeading:d(N),setextHeadingLineSequence:S,setextHeadingText:K,strong:d(),thematicBreak:d()}};eC(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(se){let pe={type:"root",children:[]};const Ce={stack:[pe],tokenStack:[],config:e,enter:h,exit:m,buffer:u,resume:y,data:t},Fe=[];let Ze=-1;for(;++Ze<se.length;)if(se[Ze][1].type==="listOrdered"||se[Ze][1].type==="listUnordered")if(se[Ze][0]==="enter")Fe.push(Ze);else{const wn=Fe.pop();Ze=a(se,wn,Ze)}for(Ze=-1;++Ze<se.length;){const wn=e[se[Ze][0]];ZR.call(wn,se[Ze][1].type)&&wn[se[Ze][1].type].call(Object.assign({sliceSerialize:se[Ze][2].sliceSerialize},Ce),se[Ze][1])}if(Ce.tokenStack.length>0){const wn=Ce.tokenStack[Ce.tokenStack.length-1];(wn[1]||cS).call(Ce,void 0,wn[0])}for(pe.position={start:Ws(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:Ws(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<e.transforms.length;)pe=e.transforms[Ze](pe)||pe;return pe}function a(se,pe,Ce){let Fe=pe-1,Ze=-1,wn=!1,yr,Ut,kt,on;for(;++Fe<=Ce;){const $e=se[Fe];switch($e[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{$e[0]==="enter"?Ze++:Ze--,on=void 0;break}case"lineEndingBlank":{$e[0]==="enter"&&(yr&&!on&&!Ze&&!kt&&(kt=Fe),on=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:on=void 0}if(!Ze&&$e[0]==="enter"&&$e[1].type==="listItemPrefix"||Ze===-1&&$e[0]==="exit"&&($e[1].type==="listUnordered"||$e[1].type==="listOrdered")){if(yr){let Mr=Fe;for(Ut=void 0;Mr--;){const An=se[Mr];if(An[1].type==="lineEnding"||An[1].type==="lineEndingBlank"){if(An[0]==="exit")continue;Ut&&(se[Ut][1].type="lineEndingBlank",wn=!0),An[1].type="lineEnding",Ut=Mr}else if(!(An[1].type==="linePrefix"||An[1].type==="blockQuotePrefix"||An[1].type==="blockQuotePrefixWhitespace"||An[1].type==="blockQuoteMarker"||An[1].type==="listItemIndent"))break}kt&&(!Ut||kt<Ut)&&(yr._spread=!0),yr.end=Object.assign({},Ut?se[Ut][1].start:$e[1].end),se.splice(Ut||Fe,0,["exit",yr,$e[2]]),Fe++,Ce++}if($e[1].type==="listItemPrefix"){const Mr={type:"listItem",_spread:!1,start:Object.assign({},$e[1].start),end:void 0};yr=Mr,se.splice(Fe,0,["enter",Mr,$e[2]]),Fe++,Ce++,kt=void 0,on=!0}}}return se[pe][1]._spread=wn,Ce}function l(se,pe){return Ce;function Ce(Fe){h.call(this,se(Fe),Fe),pe&&pe.call(this,Fe)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(se,pe,Ce){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([pe,Ce||void 0]),se.position={start:Ws(pe.start),end:void 0}}function d(se){return pe;function pe(Ce){se&&se.call(this,Ce),m.call(this,Ce)}}function m(se,pe){const Ce=this.stack.pop(),Fe=this.tokenStack.pop();if(Fe)Fe[0].type!==se.type&&(pe?pe.call(this,se,Fe[0]):(Fe[1]||cS).call(this,se,Fe[0]));else throw new Error("Cannot close `"+se.type+"` ("+Xc({start:se.start,end:se.end})+"): its not open");Ce.position.end=Ws(se.end)}function y(){return A6(this.stack.pop())}function _(){this.data.expectingFirstListItemValue=!0}function v(se){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function b(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=se}function D(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=se}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function V(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function z(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se.replace(/(\r?\n|\r)$/g,"")}function ee(se){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=pe,Ce.identifier=Lo(this.sliceSerialize(se)).toLowerCase()}function q(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.title=se}function me(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.url=se}function fe(se){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Ce=this.sliceSerialize(se).length;pe.depth=Ce}}function K(){this.data.setextHeadingSlurpLineEnding=!0}function S(se){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function C(se){const Ce=this.stack[this.stack.length-1].children;let Fe=Ce[Ce.length-1];(!Fe||Fe.type!=="text")&&(Fe=mn(),Fe.position={start:Ws(se.start),end:void 0},Ce.push(Fe)),this.stack.push(Fe)}function U(se){const pe=this.stack.pop();pe.value+=this.sliceSerialize(se),pe.position.end=Ws(se.end)}function k(se){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=pe.children[pe.children.length-1];Ce.position.end=Ws(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(pe.type)&&(C.call(this,se),U.call(this,se))}function L(){this.data.atHardBreak=!0}function O(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se}function xe(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se}function de(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se}function X(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=pe,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function ce(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=pe,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function be(se){const pe=this.sliceSerialize(se),Ce=this.stack[this.stack.length-2];Ce.label=w5(pe),Ce.identifier=Lo(pe).toLowerCase()}function Me(){const se=this.stack[this.stack.length-1],pe=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Fe=se.children;Ce.children=Fe}else Ce.alt=pe}function P(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.url=se}function B(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.title=se}function ie(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function _e(se){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=pe,Ce.identifier=Lo(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function Re(se){this.data.characterReferenceType=se.type}function Se(se){const pe=this.sliceSerialize(se),Ce=this.data.characterReferenceType;let Fe;Ce?(Fe=qR(pe,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Fe=nx(pe);const Ze=this.stack[this.stack.length-1];Ze.value+=Fe}function ze(se){const pe=this.stack.pop();pe.position.end=Ws(se.end)}function dt(se){U.call(this,se);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(se)}function rt(se){U.call(this,se);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(se)}function zn(){return{type:"blockquote",children:[]}}function Vr(){return{type:"code",lang:null,meta:null,value:""}}function fs(){return{type:"inlineCode",value:""}}function ds(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gr(){return{type:"emphasis",children:[]}}function ms(){return{type:"heading",depth:0,children:[]}}function ei(){return{type:"break"}}function ps(){return{type:"html",value:""}}function va(){return{type:"image",title:null,url:"",alt:null}}function Ot(){return{type:"link",title:null,url:"",children:[]}}function Mt(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function ti(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function Eu(){return{type:"paragraph",children:[]}}function Rl(){return{type:"strong",children:[]}}function mn(){return{type:"text",value:""}}function Vi(){return{type:"thematicBreak"}}}function Ws(n){return{line:n.line,column:n.column,offset:n.offset}}function eC(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?eC(n,r):N5(n,r)}}function N5(n,e){let t;for(t in e)if(ZR.call(e,t))switch(t){case"canContainEols":{const r=e[t];r&&n[t].push(...r);break}case"transforms":{const r=e[t];r&&n[t].push(...r);break}case"enter":case"exit":{const r=e[t];r&&Object.assign(n[t],r);break}}}function cS(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+Xc({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+Xc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Xc({start:e.start,end:e.end})+") is still open")}function R5(n){const e=this;e.parser=t;function t(r){return S5(r,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function C5(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function D5(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function O5(n,e){const t=e.value?e.value+`
`:"",r={},a=e.lang?e.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return e.meta&&(l.data={meta:e.meta}),n.patch(e,l),l=n.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},n.patch(e,l),l}function k5(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function V5(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function M5(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=_u(r.toLowerCase()),l=n.footnoteOrder.indexOf(r);let u,h=n.footnoteCounts.get(r);h===void 0?(h=0,n.footnoteOrder.push(r),u=n.footnoteOrder.length):u=l+1,h+=1,n.footnoteCounts.set(r,h);const d={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+a,id:t+"fnref-"+a+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};n.patch(e,d);const m={type:"element",tagName:"sup",properties:{},children:[d]};return n.patch(e,m),n.applyData(e,m)}function P5(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function L5(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function tC(n,e){const t=e.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=n.all(e),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=r:a.push({type:"text",value:r}),a}function j5(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return tC(n,e);const a={src:_u(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"img",properties:a,children:[]};return n.patch(e,l),n.applyData(e,l)}function U5(n,e){const t={src:_u(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,r),n.applyData(e,r)}function B5(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,r),n.applyData(e,r)}function z5(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return tC(n,e);const a={href:_u(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"a",properties:a,children:n.all(e)};return n.patch(e,l),n.applyData(e,l)}function F5(n,e){const t={href:_u(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function q5(n,e,t){const r=n.all(e),a=t?H5(t):nC(e),l={},u=[];if(typeof e.checked=="boolean"){const y=r[0];let _;y&&y.type==="element"&&y.tagName==="p"?_=y:(_={type:"element",tagName:"p",properties:{},children:[]},r.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const y=r[h];(a||h!==0||y.type!=="element"||y.tagName!=="p")&&u.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!a?u.push(...y.children):u.push(y)}const d=r[r.length-1];d&&(a||d.type!=="element"||d.tagName!=="p")&&u.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:u};return n.patch(e,m),n.applyData(e,m)}function H5(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let r=-1;for(;!e&&++r<t.length;)e=nC(t[r])}return e}function nC(n){const e=n.spread;return e??n.children.length>1}function G5(n,e){const t={},r=n.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++a<r.length;){const u=r[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(r,!0)};return n.patch(e,l),n.applyData(e,l)}function Y5(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function K5(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function Q5(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function $5(n,e){const t=n.all(e),r=t.shift(),a=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:n.wrap([r],!0)};n.patch(e.children[0],u),a.push(u)}if(t.length>0){const u={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},h=JE(e.children[1]),d=PR(e.children[e.children.length-1]);h&&d&&(u.position={start:h,end:d}),a.push(u)}const l={type:"element",tagName:"table",properties:{},children:n.wrap(a,!0)};return n.patch(e,l),n.applyData(e,l)}function X5(n,e,t){const r=t?t.children:void 0,l=(r?r.indexOf(e):1)===0?"th":"td",u=t&&t.type==="table"?t.align:void 0,h=u?u.length:e.children.length;let d=-1;const m=[];for(;++d<h;){const _=e.children[d],v={},b=u?u[d]:void 0;b&&(v.align=b);let D={type:"element",tagName:l,properties:v,children:[]};_&&(D.children=n.all(_),n.patch(_,D),D=n.applyData(_,D)),m.push(D)}const y={type:"element",tagName:"tr",properties:{},children:n.wrap(m,!0)};return n.patch(e,y),n.applyData(e,y)}function W5(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const hS=9,fS=32;function J5(n){const e=String(n),t=/\r?\n|\r/g;let r=t.exec(e),a=0;const l=[];for(;r;)l.push(dS(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=t.exec(e);return l.push(dS(e.slice(a),a>0,!1)),l.join("")}function dS(n,e,t){let r=0,a=n.length;if(e){let l=n.codePointAt(r);for(;l===hS||l===fS;)r++,l=n.codePointAt(r)}if(t){let l=n.codePointAt(a-1);for(;l===hS||l===fS;)a--,l=n.codePointAt(a-1)}return a>r?n.slice(r,a):""}function Z5(n,e){const t={type:"text",value:J5(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function eU(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const tU={blockquote:C5,break:D5,code:O5,delete:k5,emphasis:V5,footnoteReference:M5,heading:P5,html:L5,imageReference:j5,image:U5,inlineCode:B5,linkReference:z5,link:F5,listItem:q5,list:G5,paragraph:Y5,root:K5,strong:Q5,table:$5,tableCell:W5,tableRow:X5,text:Z5,thematicBreak:eU,toml:xd,yaml:xd,definition:xd,footnoteDefinition:xd};function xd(){}const rC=-1,Ym=0,Jc=1,om=2,sx=3,ax=4,lx=5,ox=6,iC=7,sC=8,mS=typeof self=="object"?self:globalThis,nU=(n,e)=>{const t=(a,l)=>(n.set(l,a),a),r=a=>{if(n.has(a))return n.get(a);const[l,u]=e[a];switch(l){case Ym:case rC:return t(u,a);case Jc:{const h=t([],a);for(const d of u)h.push(r(d));return h}case om:{const h=t({},a);for(const[d,m]of u)h[r(d)]=r(m);return h}case sx:return t(new Date(u),a);case ax:{const{source:h,flags:d}=u;return t(new RegExp(h,d),a)}case lx:{const h=t(new Map,a);for(const[d,m]of u)h.set(r(d),r(m));return h}case ox:{const h=t(new Set,a);for(const d of u)h.add(r(d));return h}case iC:{const{name:h,message:d}=u;return t(new mS[h](d),a)}case sC:return t(BigInt(u),a);case"BigInt":return t(Object(BigInt(u)),a);case"ArrayBuffer":return t(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return t(new DataView(h),u)}}return t(new mS[l](u),a)};return r},pS=n=>nU(new Map,n)(0),wo="",{toString:rU}={},{keys:iU}=Object,Oc=n=>{const e=typeof n;if(e!=="object"||!n)return[Ym,e];const t=rU.call(n).slice(8,-1);switch(t){case"Array":return[Jc,wo];case"Object":return[om,wo];case"Date":return[sx,wo];case"RegExp":return[ax,wo];case"Map":return[lx,wo];case"Set":return[ox,wo];case"DataView":return[Jc,t]}return t.includes("Array")?[Jc,t]:t.includes("Error")?[iC,t]:[om,t]},vd=([n,e])=>n===Ym&&(e==="function"||e==="symbol"),sU=(n,e,t,r)=>{const a=(u,h)=>{const d=r.push(u)-1;return t.set(h,d),d},l=u=>{if(t.has(u))return t.get(u);let[h,d]=Oc(u);switch(h){case Ym:{let y=u;switch(d){case"bigint":h=sC,y=u.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+d);y=null;break;case"undefined":return a([rC],u)}return a([h,y],u)}case Jc:{if(d){let v=u;return d==="DataView"?v=new Uint8Array(u.buffer):d==="ArrayBuffer"&&(v=new Uint8Array(u)),a([d,[...v]],u)}const y=[],_=a([h,y],u);for(const v of u)y.push(l(v));return _}case om:{if(d)switch(d){case"BigInt":return a([d,u.toString()],u);case"Boolean":case"Number":case"String":return a([d,u.valueOf()],u)}if(e&&"toJSON"in u)return l(u.toJSON());const y=[],_=a([h,y],u);for(const v of iU(u))(n||!vd(Oc(u[v])))&&y.push([l(v),l(u[v])]);return _}case sx:return a([h,u.toISOString()],u);case ax:{const{source:y,flags:_}=u;return a([h,{source:y,flags:_}],u)}case lx:{const y=[],_=a([h,y],u);for(const[v,b]of u)(n||!(vd(Oc(v))||vd(Oc(b))))&&y.push([l(v),l(b)]);return _}case ox:{const y=[],_=a([h,y],u);for(const v of u)(n||!vd(Oc(v)))&&y.push(l(v));return _}}const{message:m}=u;return a([h,{name:d,message:m}],u)};return l},gS=(n,{json:e,lossy:t}={})=>{const r=[];return sU(!(e||t),!!e,new Map,r)(n),r},um=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?pS(gS(n,e)):structuredClone(n):(n,e)=>pS(gS(n,e));function aU(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function lU(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function oU(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||aU,r=n.options.footnoteBackLabel||lU,a=n.options.footnoteLabel||"Footnotes",l=n.options.footnoteLabelTagName||"h2",u=n.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let d=-1;for(;++d<n.footnoteOrder.length;){const m=n.footnoteById.get(n.footnoteOrder[d]);if(!m)continue;const y=n.all(m),_=String(m.identifier).toUpperCase(),v=_u(_.toLowerCase());let b=0;const D=[],M=n.footnoteCounts.get(_);for(;M!==void 0&&++b<=M;){D.length>0&&D.push({type:"text",value:" "});let ee=typeof t=="string"?t:t(d,b);typeof ee=="string"&&(ee={type:"text",value:ee}),D.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,b),className:["data-footnote-backref"]},children:Array.isArray(ee)?ee:[ee]})}const V=y[y.length-1];if(V&&V.type==="element"&&V.tagName==="p"){const ee=V.children[V.children.length-1];ee&&ee.type==="text"?ee.value+=" ":V.children.push({type:"text",value:" "}),V.children.push(...D)}else y.push(...D);const z={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:n.wrap(y,!0)};n.patch(m,z),h.push(z)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...um(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(h,!0)},{type:"text",value:`
`}]}}const aC=(function(n){if(n==null)return fU;if(typeof n=="function")return Km(n);if(typeof n=="object")return Array.isArray(n)?uU(n):cU(n);if(typeof n=="string")return hU(n);throw new Error("Expected function, string, or object as test")});function uU(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=aC(n[t]);return Km(r);function r(...a){let l=-1;for(;++l<e.length;)if(e[l].apply(this,a))return!0;return!1}}function cU(n){const e=n;return Km(t);function t(r){const a=r;let l;for(l in n)if(a[l]!==e[l])return!1;return!0}}function hU(n){return Km(e);function e(t){return t&&t.type===n}}function Km(n){return e;function e(t,r,a){return!!(dU(t)&&n.call(this,t,typeof r=="number"?r:void 0,a||void 0))}}function fU(){return!0}function dU(n){return n!==null&&typeof n=="object"&&"type"in n}const lC=[],mU=!0,yS=!1,pU="skip";function gU(n,e,t,r){let a;typeof e=="function"&&typeof t!="function"?(r=t,t=e):a=e;const l=aC(a),u=r?-1:1;h(n,void 0,[])();function h(d,m,y){const _=d&&typeof d=="object"?d:{};if(typeof _.type=="string"){const b=typeof _.tagName=="string"?_.tagName:typeof _.name=="string"?_.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(d.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=lC,D,M,V;if((!e||l(d,m,y[y.length-1]||void 0))&&(b=yU(t(d,y)),b[0]===yS))return b;if("children"in d&&d.children){const z=d;if(z.children&&b[0]!==pU)for(M=(r?z.children.length:-1)+u,V=y.concat(z);M>-1&&M<z.children.length;){const ee=z.children[M];if(D=h(ee,M,V)(),D[0]===yS)return D;M=typeof D[1]=="number"?D[1]:M+u}}return b}}}function yU(n){return Array.isArray(n)?n:typeof n=="number"?[mU,n]:n==null?lC:[n]}function oC(n,e,t,r){let a,l,u;typeof e=="function"&&typeof t!="function"?(l=void 0,u=e,a=t):(l=e,u=t,a=r),gU(n,l,h,a);function h(d,m){const y=m[m.length-1],_=y?y.children.indexOf(d):void 0;return u(d,_,y)}}const v_={}.hasOwnProperty,_U={};function EU(n,e){const t=e||_U,r=new Map,a=new Map,l=new Map,u={...tU,...t.handlers},h={all:m,applyData:vU,definitionById:r,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:u,one:d,options:t,patch:xU,wrap:TU};return oC(n,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const _=y.type==="definition"?r:a,v=String(y.identifier).toUpperCase();_.has(v)||_.set(v,y)}}),h;function d(y,_){const v=y.type,b=h.handlers[v];if(v_.call(h.handlers,v)&&b)return b(h,y,_);if(h.options.passThrough&&h.options.passThrough.includes(v)){if("children"in y){const{children:M,...V}=y,z=um(V);return z.children=h.all(y),z}return um(y)}return(h.options.unknownHandler||bU)(h,y,_)}function m(y){const _=[];if("children"in y){const v=y.children;let b=-1;for(;++b<v.length;){const D=h.one(v[b],y);if(D){if(b&&v[b-1].type==="break"&&(!Array.isArray(D)&&D.type==="text"&&(D.value=_S(D.value)),!Array.isArray(D)&&D.type==="element")){const M=D.children[0];M&&M.type==="text"&&(M.value=_S(M.value))}Array.isArray(D)?_.push(...D):_.push(D)}}}return _}}function xU(n,e){n.position&&(e.position=r6(n))}function vU(n,e){let t=e;if(n&&n.data){const r=n.data.hName,a=n.data.hChildren,l=n.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const u="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:u}}t.type==="element"&&l&&Object.assign(t.properties,um(l)),"children"in t&&t.children&&a!==null&&a!==void 0&&(t.children=a)}return t}function bU(n,e){const t=e.data||{},r="value"in e&&!(v_.call(t,"hProperties")||v_.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function TU(n,e){const t=[];let r=-1;for(e&&t.push({type:"text",value:`
`});++r<n.length;)r&&t.push({type:"text",value:`
`}),t.push(n[r]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function _S(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function ES(n,e){const t=EU(n,e),r=t.one(n,void 0),a=oU(t),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function wU(n,e){return n&&"run"in n?async function(t,r){const a=ES(t,{file:r,...e});await n.run(a,r)}:function(t,r){return ES(t,{file:r,...n||e})}}function xS(n){if(n)throw n}var xy,vS;function AU(){if(vS)return xy;vS=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(m){return typeof Array.isArray=="function"?Array.isArray(m):e.call(m)==="[object Array]"},l=function(m){if(!m||e.call(m)!=="[object Object]")return!1;var y=n.call(m,"constructor"),_=m.constructor&&m.constructor.prototype&&n.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!y&&!_)return!1;var v;for(v in m);return typeof v>"u"||n.call(m,v)},u=function(m,y){t&&y.name==="__proto__"?t(m,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):m[y.name]=y.newValue},h=function(m,y){if(y==="__proto__")if(n.call(m,y)){if(r)return r(m,y).value}else return;return m[y]};return xy=function d(){var m,y,_,v,b,D,M=arguments[0],V=1,z=arguments.length,ee=!1;for(typeof M=="boolean"&&(ee=M,M=arguments[1]||{},V=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});V<z;++V)if(m=arguments[V],m!=null)for(y in m)_=h(M,y),v=h(m,y),M!==v&&(ee&&v&&(l(v)||(b=a(v)))?(b?(b=!1,D=_&&a(_)?_:[]):D=_&&l(_)?_:{},u(M,{name:y,newValue:d(ee,D,v)})):typeof v<"u"&&u(M,{name:y,newValue:v}));return M},xy}var SU=AU();const vy=cm(SU);function b_(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function IU(){const n=[],e={run:t,use:r};return e;function t(...a){let l=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...a);function h(d,...m){const y=n[++l];let _=-1;if(d){u(d);return}for(;++_<a.length;)(m[_]===null||m[_]===void 0)&&(m[_]=a[_]);a=m,y?NU(y,h)(...m):u(null,...m)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return n.push(a),e}}function NU(n,e){let t;return r;function r(...u){const h=n.length>u.length;let d;h&&u.push(a);try{d=n.apply(this,u)}catch(m){const y=m;if(h&&t)throw y;return a(y)}h||(d&&d.then&&typeof d.then=="function"?d.then(l,a):d instanceof Error?a(d):l(d))}function a(u,...h){t||(t=!0,e(u,...h))}function l(u){a(null,u)}}const Ti={basename:RU,dirname:CU,extname:DU,join:OU,sep:"/"};function RU(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Mh(n);let t=0,r=-1,a=n.length,l;if(e===void 0||e.length===0||e.length>n.length){for(;a--;)if(n.codePointAt(a)===47){if(l){t=a+1;break}}else r<0&&(l=!0,r=a+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let u=-1,h=e.length-1;for(;a--;)if(n.codePointAt(a)===47){if(l){t=a+1;break}}else u<0&&(l=!0,u=a+1),h>-1&&(n.codePointAt(a)===e.codePointAt(h--)?h<0&&(r=a):(h=-1,r=u));return t===r?r=u:r<0&&(r=n.length),n.slice(t,r)}function CU(n){if(Mh(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.codePointAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function DU(n){Mh(n);let e=n.length,t=-1,r=0,a=-1,l=0,u;for(;e--;){const h=n.codePointAt(e);if(h===47){if(u){r=e+1;break}continue}t<0&&(u=!0,t=e+1),h===46?a<0?a=e:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||t<0||l===0||l===1&&a===t-1&&a===r+1?"":n.slice(a,t)}function OU(...n){let e=-1,t;for(;++e<n.length;)Mh(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":kU(t)}function kU(n){Mh(n);const e=n.codePointAt(0)===47;let t=VU(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function VU(n,e){let t="",r=0,a=-1,l=0,u=-1,h,d;for(;++u<=n.length;){if(u<n.length)h=n.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(a===u-1||l===1))if(a!==u-1&&l===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(d=t.lastIndexOf("/"),d!==t.length-1){d<0?(t="",r=0):(t=t.slice(0,d),r=t.length-1-t.lastIndexOf("/")),a=u,l=0;continue}}else if(t.length>0){t="",r=0,a=u,l=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(a+1,u):t=n.slice(a+1,u),r=u-a-1;a=u,l=0}else h===46&&l>-1?l++:l=-1}return t}function Mh(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const MU={cwd:PU};function PU(){return"/"}function T_(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function LU(n){if(typeof n=="string")n=new URL(n);else if(!T_(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return jU(n)}function jU(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const r=e.codePointAt(t+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const by=["history","path","basename","stem","extname","dirname"];class uC{constructor(e){let t;e?T_(e)?t={path:e}:typeof e=="string"||UU(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":MU.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<by.length;){const l=by[r];l in t&&t[l]!==void 0&&t[l]!==null&&(this[l]=l==="history"?[...t[l]]:t[l])}let a;for(a in t)by.includes(a)||(this[a]=t[a])}get basename(){return typeof this.path=="string"?Ti.basename(this.path):void 0}set basename(e){wy(e,"basename"),Ty(e,"basename"),this.path=Ti.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ti.dirname(this.path):void 0}set dirname(e){bS(this.basename,"dirname"),this.path=Ti.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ti.extname(this.path):void 0}set extname(e){if(Ty(e,"extname"),bS(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ti.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){T_(e)&&(e=LU(e)),wy(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ti.basename(this.path,this.extname):void 0}set stem(e){wy(e,"stem"),Ty(e,"stem"),this.path=Ti.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){const a=this.message(e,t,r);throw a.fatal=!0,a}info(e,t,r){const a=this.message(e,t,r);return a.fatal=void 0,a}message(e,t,r){const a=new On(e,t,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Ty(n,e){if(n&&n.includes(Ti.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ti.sep+"`")}function wy(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function bS(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function UU(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const BU=(function(n){const r=this.constructor.prototype,a=r[n],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,r),l}),zU={}.hasOwnProperty;class ux extends BU{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=IU()}copy(){const e=new ux;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];e.use(...r)}return e.data(vy(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(Iy("data",this.frozen),this.namespace[e]=t,this):zU.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Iy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=t.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=bd(e),r=this.parser||this.Parser;return Ay("parse",r),r(String(t),t)}process(e,t){const r=this;return this.freeze(),Ay("process",this.parser||this.Parser),Sy("process",this.compiler||this.Compiler),t?a(void 0,t):new Promise(a);function a(l,u){const h=bd(e),d=r.parse(h);r.run(d,h,function(y,_,v){if(y||!_||!v)return m(y);const b=_,D=r.stringify(b,v);HU(D)?v.value=D:v.result=D,m(y,v)});function m(y,_){y||!_?u(y):l?l(_):t(void 0,_)}}}processSync(e){let t=!1,r;return this.freeze(),Ay("processSync",this.parser||this.Parser),Sy("processSync",this.compiler||this.Compiler),this.process(e,a),wS("processSync","process",t),r;function a(l,u){t=!0,xS(l),r=u}}run(e,t,r){TS(e),this.freeze();const a=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?l(void 0,r):new Promise(l);function l(u,h){const d=bd(t);a.run(e,d,m);function m(y,_,v){const b=_||e;y?h(y):u?u(b):r(void 0,b,v)}}}runSync(e,t){let r=!1,a;return this.run(e,t,l),wS("runSync","run",r),a;function l(u,h){xS(u),a=h,r=!0}}stringify(e,t){this.freeze();const r=bd(t),a=this.compiler||this.Compiler;return Sy("stringify",a),TS(e),a(e,r)}use(e,...t){const r=this.attachers,a=this.namespace;if(Iy("use",this.frozen),e!=null)if(typeof e=="function")d(e,t);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(m){if(typeof m=="function")d(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[y,..._]=m;d(y,_)}else u(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function u(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(m.plugins),m.settings&&(a.settings=vy(!0,a.settings,m.settings))}function h(m){let y=-1;if(m!=null)if(Array.isArray(m))for(;++y<m.length;){const _=m[y];l(_)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function d(m,y){let _=-1,v=-1;for(;++_<r.length;)if(r[_][0]===m){v=_;break}if(v===-1)r.push([m,...y]);else if(y.length>0){let[b,...D]=y;const M=r[v][1];b_(M)&&b_(b)&&(b=vy(!0,M,b)),r[v]=[m,b,...D]}}}}const FU=new ux().freeze();function Ay(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Sy(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Iy(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function TS(n){if(!b_(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function wS(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function bd(n){return qU(n)?n:new uC(n)}function qU(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function HU(n){return typeof n=="string"||GU(n)}function GU(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const YU="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",AS=[],SS={allowDangerousHtml:!0},KU=/^(https?|ircs?|mailto|xmpp)$/i,QU=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $U(n){const e=XU(n),t=WU(n);return JU(e.runSync(e.parse(t),t),n)}function XU(n){const e=n.rehypePlugins||AS,t=n.remarkPlugins||AS,r=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...SS}:SS;return FU().use(R5).use(t).use(wU,r).use(e)}function WU(n){const e=n.children||"",t=new uC;return typeof e=="string"&&(t.value=e),t}function JU(n,e){const t=e.allowedElements,r=e.allowElement,a=e.components,l=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,d=e.urlTransform||ZU;for(const y of QU)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+YU+y.id,void 0);return oC(n,m),o6(n,{Fragment:E.Fragment,components:a,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function m(y,_,v){if(y.type==="raw"&&v&&typeof _=="number")return u?v.children.splice(_,1):v.children[_]={type:"text",value:y.value},_;if(y.type==="element"){let b;for(b in yy)if(Object.hasOwn(yy,b)&&Object.hasOwn(y.properties,b)){const D=y.properties[b],M=yy[b];(M===null||M.includes(y.tagName))&&(y.properties[b]=d(String(D||""),b,y))}}if(y.type==="element"){let b=t?!t.includes(y.tagName):l?l.includes(y.tagName):!1;if(!b&&r&&typeof _=="number"&&(b=!r(y,_,v)),b&&v&&typeof _=="number")return h&&y.children?v.children.splice(_,1,...y.children):v.children.splice(_,1),_}}}function ZU(n){const e=n.indexOf(":"),t=n.indexOf("?"),r=n.indexOf("#"),a=n.indexOf("/");return e===-1||a!==-1&&e>a||t!==-1&&e>t||r!==-1&&e>r||KU.test(n.slice(0,e))?n:""}const e9=({data:n})=>{const{id:e}=US(),t=n.programs.find(r=>r.id===e);return t?E.jsxs("div",{className:"bg-white",children:[E.jsxs("div",{className:"h-[60vh] relative overflow-hidden",children:[E.jsx("img",{src:t.image,className:"w-full h-full object-cover"}),E.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:E.jsxs("div",{className:"text-center px-4 max-w-4xl",children:[E.jsx("h1",{className:"text-white text-5xl font-extrabold mb-6 drop-shadow-lg",children:t.title}),E.jsxs("div",{className:"flex items-center justify-center gap-4 text-teal-400 font-bold uppercase tracking-widest text-sm",children:[E.jsx("span",{className:"w-8 h-px bg-teal-400"}),"Core Mission",E.jsx("span",{className:"w-8 h-px bg-teal-400"})]})]})})]}),E.jsx("div",{className:"max-w-7xl mx-auto px-4 py-20",children:E.jsxs("div",{className:"flex flex-col lg:flex-row gap-16",children:[E.jsxs("div",{className:"lg:w-2/3 space-y-12",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsx("h2",{className:"text-3xl font-bold text-sky-950",children:"About the Project"}),E.jsx("div",{className:"prose prose-slate max-w-none",children:E.jsx($U,{children:t.longDescription||t.description})})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"bg-slate-50 p-8 rounded-2xl border border-slate-100",children:[E.jsx("i",{className:"fa-solid fa-check-circle text-teal-500 text-2xl mb-4"}),E.jsx("h4",{className:"font-bold text-sky-900 mb-2",children:"Sustainable Impact"}),E.jsx("p",{className:"text-sm text-slate-500",children:"We ensure that our projects create long-term stability for the community, not just temporary relief."})]}),E.jsxs("div",{className:"bg-slate-50 p-8 rounded-2xl border border-slate-100",children:[E.jsx("i",{className:"fa-solid fa-eye text-teal-500 text-2xl mb-4"}),E.jsx("h4",{className:"font-bold text-sky-900 mb-2",children:"Full Transparency"}),E.jsx("p",{className:"text-sm text-slate-500",children:"Donors receive quarterly reports and visual proof of their contributions in action."})]})]}),E.jsxs("div",{className:"bg-sky-900 text-white p-12 rounded-3xl relative overflow-hidden",children:[E.jsxs("div",{className:"relative z-10",children:[E.jsx("h3",{className:"text-3xl font-bold mb-6",children:"Want to make a difference?"}),E.jsxs("p",{className:"text-slate-300 mb-8 max-w-xl",children:["Every single contribution towards this ",t.title.toLowerCase()," program brings us closer to a world without suffering."]}),E.jsx(At,{to:"/donate",className:"bg-orange-500 text-white px-10 py-4 rounded-full font-bold shadow-xl hover:bg-orange-600 transition-all inline-block",children:"SUPPORT THIS PROJECT"})]}),E.jsx("i",{className:`fa-solid ${t.icon} absolute -bottom-10 -right-10 text-[200px] text-white/5`})]})]}),E.jsx("aside",{className:"lg:w-1/3 space-y-8",children:E.jsxs("div",{className:"bg-teal-600 p-8 rounded-3xl text-white",children:[E.jsx("h3",{className:"text-xl font-bold mb-4",children:"Direct Inquiry?"}),E.jsx("p",{className:"text-sm opacity-90 mb-6",children:"Talk to our project coordinators about specific sponsorship tiers."}),E.jsxs("a",{href:"tel:+923001234567",className:"flex items-center gap-3 font-bold border-b border-white/30 pb-2",children:[E.jsx("i",{className:"fa-solid fa-phone"})," +92 321 111"]})]})})]})})]}):E.jsx("div",{className:"p-20 text-center",children:"Program not found"})},t9=({data:n})=>{const[e,t]=ne.useState("All"),r=["All",...Array.from(new Set(n.gallery.map(l=>l.category)))],a=e==="All"?n.gallery:n.gallery.filter(l=>l.category===e);return E.jsx("div",{className:"py-20 bg-white",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("h1",{className:"text-5xl font-extrabold text-sky-950 mb-4",children:"Impact in Pictures"}),E.jsx("p",{className:"text-slate-500",children:"Witness the change your donations bring to life."})]}),E.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:r.map(l=>E.jsx("button",{onClick:()=>t(l),className:`px-8 py-2.5 rounded-full font-bold transition-all border-2 ${e===l?"bg-teal-600 text-white border-teal-600 shadow-lg":"text-slate-600 border-slate-100 hover:border-teal-600"}`,children:l},l))}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(l=>E.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-2xl shadow-md cursor-pointer",children:[E.jsx("img",{src:l.url,alt:l.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),E.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-8",children:[E.jsx("span",{className:"text-teal-400 font-bold text-xs uppercase mb-2",children:l.category}),E.jsx("h3",{className:"text-white text-xl font-bold",children:l.title})]})]},l.id))})]})})},Xn={phone:"+92 321 111 2447",phone1:"+92 321 111 2448",whatsapp:"923211112447",email:"info@aasra-welfare.org",address:"80, Nargis Block Allama Iqbal Town Lahore, Pakistan.",mapUrl:"https://maps.app.goo.gl/Zo5XBgNfBs6TmLfE6",internationalPaymentLink:"https://whydonate.com/donate/emergency-flood-relief-2025",registrationNumbers:["Govt of Punjab: DO.SW.LHR(R&G)08-1564","Charity Commission: PB-LHR-8081727259287789","FBR (NTN): 4547488"]},Td={bankName:"Bank Makramah Ltd.",accountTitle:"Aasra Welfare Society",accountNumber:"01994426001714134112",iban:"PK56SUMB9944207140134112"},n9="/assets/bank_logo-BhAI8UiO.png",r9=()=>{const n=()=>{const e=`
 AASRA WELFARE SOCIETY (Bank Details) 
-----------------------------------------
Bank Name: ${Td.bankName}
Title: ${Td.accountTitle}
Acc No: ${Td.accountNumber}
IBAN No: ${Td.iban}

"The believers shade on the Day of Resurrection will be their charity." (Tirmidhi)
-----------------------------------------
    `.trim();navigator.clipboard.writeText(e),alert(` Bank details copied to clipboard!
You can now share them on WhatsApp or paste them in your banking app.`)};return E.jsxs("div",{className:"bg-slate-50 min-h-screen",children:[E.jsxs("section",{className:"bg-sky-950 py-12 md:py-24 relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 opacity-[0.03] flex items-center justify-center scale-150",children:E.jsx("i",{className:"fa-solid fa-kaaba text-white text-[25rem]"})}),E.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center relative z-10 reveal",children:[E.jsx("span",{className:"text-teal-400 font-black uppercase tracking-[0.5em] text-[8px] mb-4 block",children:"INVEST IN AKHIRAH"}),E.jsxs("h1",{className:"text-3xl md:text-7xl font-black text-white tracking-tighter leading-tight mb-4",children:["Invest in Your ",E.jsx("br",{}),E.jsx("span",{className:"text-teal-400 italic font-serif",children:"Eternal Future."})]}),E.jsx("p",{className:"text-slate-300 max-w-xl mx-auto text-sm md:text-lg font-medium leading-relaxed font-serif italic border-x border-white/10 px-6",children:'"Those who spend their wealth in the way of Allah is like a seed of grain which grows seven ears." (Surah Al-Baqarah 2:261)'})]})]}),E.jsx("div",{className:"max-w-7xl mx-auto px-6 -mt-12 relative z-30 pb-32",children:E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[E.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[E.jsxs("div",{className:"bg-white rounded-[2.5rem] md:rounded-[3.5rem] shadow-[0_40px_100px_-20px_rgba(0,0,0,0.12)] overflow-hidden border border-slate-100 flex flex-col reveal-zoom",children:[E.jsxs("div",{className:"bg-white p-6 md:p-14 text-sky-900 relative",children:[E.jsx("div",{className:"absolute top-0 right-0 w-[300px] h-[300px] bg-sky-50 rounded-full blur-[80px] -translate-y-1/2 translate-x-1/2 opacity-40"}),E.jsxs("div",{className:"relative z-10",children:[E.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-12",children:E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl md:text-4xl font-black tracking-tighter mb-1 uppercase text-sky-900",children:"Direct Bank Transfer"}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"bg-teal-500 w-8 h-1 rounded-full"}),E.jsx("p",{className:"text-teal-600 font-black text-[9px] uppercase tracking-[0.3em]",children:"SECURE LOCAL DONATION PORTAL"})]})]})}),E.jsx("img",{src:n9,alt:"bank logo",className:"w-100 h-100 md:w-160 md:h-160 object-contain transition-all group-hover:scale-110 mb-4"}),E.jsxs("div",{className:"space-y-8 md:space-y-12 mb-10",children:[E.jsxs("div",{className:"group border-l-4 border-slate-100 pl-4 md:pl-8 hover:border-[#07847F] transition-all",children:[E.jsx("p",{className:"text-[10px] md:text-[11px] font-black uppercase tracking-[0.3em] text-slate-400 mb-2 md:mb-4",children:"Bank Name"}),E.jsx("p",{className:"text-xl md:text-5xl font-normal tracking-tight text-sky-900 leading-none whitespace-nowrap",children:"Bank Makramah Ltd."})]}),E.jsxs("div",{className:"group border-l-4 border-slate-100 pl-4 md:pl-8 hover:border-[#07847F] transition-all",children:[E.jsx("p",{className:"text-[10px] md:text-[11px] font-black uppercase tracking-[0.3em] text-slate-400 mb-2 md:mb-4",children:"Title"}),E.jsx("p",{className:"text-xl md:text-5xl font-normal tracking-tight text-sky-900 leading-none whitespace-nowrap",children:"Aasra Welfare Society"})]}),E.jsxs("div",{className:"group border-l-4 border-slate-100 pl-4 md:pl-8 hover:border-[#07847F] transition-all",children:[E.jsx("p",{className:"text-[10px] md:text-[11px] font-black uppercase tracking-[0.3em] text-slate-400 mb-2 md:mb-4",children:"Acc No"}),E.jsx("p",{className:"text-xl md:text-5xl font-normal tracking-tight text-sky-900 leading-none break-all select-all whitespace-nowrap",children:"01994426001714134112"})]}),E.jsxs("div",{className:"group border-l-4 border-slate-100 pl-4 md:pl-8 hover:border-[#07847F] transition-all bg-sky-50/40 py-6 md:py-8 rounded-r-[2.5rem] md:rounded-r-[3rem] pr-6",children:[E.jsx("p",{className:"text-[10px] md:text-[11px] font-black uppercase tracking-[0.3em] text-slate-400 mb-2 md:mb-4",children:"IBAN No"}),E.jsx("p",{className:"text-xl md:text-5xl font-normal tracking-tight text-sky-900 leading-none break-all select-all whitespace-nowrap",children:"PK56SUMB9944207140134112"})]})]})]})]}),E.jsxs("div",{className:"p-8 md:p-14 bg-white border-t border-slate-50",children:[E.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[E.jsxs("button",{onClick:n,className:"flex-1 bg-[#07847F] text-white hover:opacity-90 py-6 rounded-2xl font-black tracking-[0.15em] uppercase text-[10px] flex items-center justify-center gap-4 transition-all shadow-xl group",children:[E.jsx("i",{className:"fa-solid fa-copy group-hover:rotate-12 transition-transform text-lg"}),E.jsx("span",{children:"Copy Account Details"})]}),E.jsxs("button",{onClick:n,className:"flex-1 bg-teal-50 text-[#07847F] hover:bg-teal-100 py-6 rounded-2xl font-black tracking-[0.15em] uppercase text-[10px] flex items-center justify-center gap-4 transition-all border border-teal-100 group",children:[E.jsx("i",{className:"fa-solid fa-share-nodes group-hover:scale-125 transition-transform text-lg"}),E.jsx("span",{children:"Share Details"})]})]}),E.jsx("div",{className:"mt-8 text-center",children:E.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest opacity-60",children:"Safe & Secure Direct Bank Transfer"})})]})]}),E.jsxs("div",{className:"bg-orange-600 rounded-[2.5rem] p-8 md:p-12 text-white shadow-xl relative overflow-hidden flex flex-col md:flex-row items-center gap-8 reveal-left",children:[E.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-3xl shrink-0 backdrop-blur-xl border border-white/10 animate-pulse",children:E.jsx("i",{className:"fa-solid fa-receipt"})}),E.jsxs("div",{className:"text-center md:text-left",children:[E.jsx("h3",{className:"text-xl font-black mb-1 tracking-tight uppercase",children:"Donation Confirmation"}),E.jsxs("p",{className:"text-orange-50 opacity-95 leading-relaxed font-medium text-sm",children:["Please WhatsApp a screenshot of your transfer to ",E.jsx("span",{className:"font-black border-b border-white/40",children:Xn.phone})," to receive your confirmation receipt."]})]})]})]}),E.jsxs("aside",{className:"lg:col-span-4 space-y-8 sticky top-[140px]",children:[E.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 md:p-12 shadow-[0_32px_64px_-16px_rgba(0,0,0,0.08)] border border-slate-100 flex flex-col reveal-right",children:[E.jsx("span",{className:"text-orange-600 font-black uppercase tracking-[0.3em] text-[9px] mb-6 block",children:"GLOBAL GIVING"}),E.jsx("h2",{className:"text-2xl font-black text-sky-950 tracking-tighter mb-4 uppercase leading-none",children:"Overseas Donors"}),E.jsx("p",{className:"text-slate-500 text-sm mb-10 leading-relaxed font-medium",children:"Supporters outside Pakistan can donate via Credit Card or PayPal through our secure global partner."}),E.jsxs("a",{href:Xn.internationalPaymentLink,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-[#07847F] text-white hover:bg-orange-600 py-6 rounded-2xl font-black text-[10px] uppercase tracking-widest text-center shadow-lg transition-all flex items-center justify-center gap-4 group",children:[E.jsx("i",{className:"fa-solid fa-globe-americas text-lg"}),"International Portal"]}),E.jsxs("div",{className:"flex justify-center gap-6 pt-10 grayscale opacity-30 text-3xl",children:[E.jsx("i",{className:"fa-brands fa-cc-visa"}),E.jsx("i",{className:"fa-brands fa-cc-mastercard"}),E.jsx("i",{className:"fa-brands fa-cc-paypal"})]})]}),E.jsxs("div",{className:"bg-[#07847F] rounded-[2.5rem] p-10 text-white shadow-xl reveal-zoom",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[E.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center border border-white/20",children:E.jsx("i",{className:"fa-solid fa-hands-holding-heart text-xl"})}),E.jsx("h4",{className:"font-black uppercase tracking-widest text-[11px]",children:"Helping Hands"})]}),E.jsx("p",{className:"text-[14px] text-teal-50 leading-relaxed font-medium italic opacity-95",children:'"Small acts, when multiplied by millions of people, can transform the world. Your contribution is a beacon of hope."'})]})]})]})})]})},i9=({data:n,setData:e})=>{const[t,r]=ne.useState({name:"",email:"",subject:"",message:""}),[a,l]=ne.useState(!1),[u,h]=ne.useState(!1),d=async y=>{y.preventDefault(),l(!0);try{await al.collection("messages").add({name:t.name,email:t.email,subject:t.subject,message:t.message,timestamp:oR(),status:"new"}),l(!1),h(!0),r({name:"",email:"",subject:"",message:""})}catch(_){console.error("Error adding document: ",_),alert("Failed to send message. Please try again later."),l(!1)}},m=y=>{const{name:_,value:v}=y.target;r(b=>({...b,[_]:v}))};return E.jsx("div",{className:"bg-slate-50 min-h-screen py-20",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-20",children:[E.jsxs("div",{className:"space-y-16 reveal-left",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-[#07847F] font-black uppercase tracking-[0.4em] text-[10px] mb-6 block",children:"CONNECT WITH US"}),E.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-sky-950 mb-8 tracking-tighter uppercase leading-none",children:["Get in ",E.jsx("br",{}),E.jsx("span",{className:"text-[#07847F] italic font-serif lowercase",children:"touch."})]}),E.jsx("p",{className:"text-slate-500 text-lg md:text-xl leading-relaxed font-medium",children:"Assalam-o-Alaikum! We are here to answer your questions and help you maximize your impact."})]}),E.jsxs("div",{className:"space-y-10",children:[E.jsxs("div",{className:"flex items-start gap-8",children:[E.jsx("div",{className:"w-16 h-16 bg-white rounded-3xl flex items-center justify-center text-[#07847F] shadow-xl border border-slate-100 flex-shrink-0 text-2xl",children:E.jsx("i",{className:"fa-solid fa-location-dot"})}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-black text-sky-950 mb-2 uppercase tracking-widest text-sm",children:"Our Headquarters"}),E.jsx("a",{href:Xn.mapUrl,target:"_blank",rel:"noopener noreferrer",className:"text-slate-500 text-base hover:text-[#07847F] transition-colors",children:Xn.address})]})]}),E.jsxs("div",{className:"flex items-start gap-8",children:[E.jsx("div",{className:"w-16 h-16 bg-white rounded-3xl flex items-center justify-center text-[#07847F] shadow-xl border border-slate-100 flex-shrink-0 text-2xl",children:E.jsx("i",{className:"fa-solid fa-phone"})}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("h4",{className:"font-black text-sky-950 mb-2 uppercase tracking-widest text-sm",children:"Helpline Numbers"}),E.jsx("p",{className:"text-slate-500 text-base font-bold",children:Xn.phone}),E.jsx("p",{className:"text-slate-500 text-base font-bold",children:Xn.phone1})]})]}),E.jsxs("div",{className:"flex items-start gap-8",children:[E.jsx("div",{className:"w-16 h-16 bg-white rounded-3xl flex items-center justify-center text-[#07847F] shadow-xl border border-slate-100 flex-shrink-0 text-2xl",children:E.jsx("i",{className:"fa-solid fa-envelope"})}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-black text-sky-950 mb-2 uppercase tracking-widest text-sm",children:"Email Support"}),E.jsx("p",{className:"text-slate-500 text-base",children:Xn.email})]})]})]}),E.jsxs("div",{className:"h-80 rounded-[3rem] overflow-hidden shadow-2xl relative group",children:[E.jsx("iframe",{src:"https://www.google.com/maps?q=Aasra+Welfare+Society&&z=14&output=embed",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy"}),E.jsx("a",{href:"https://maps.google.com/?q=Aasra+Welfare+Society",target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-6 right-6 bg-white text-sky-950 px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-2xl hover:bg-sky-950 hover:text-white transition-all",children:"Open in Google Maps"})]})]}),E.jsx("div",{className:"bg-white p-12 md:p-16 rounded-[4rem] shadow-2xl border border-slate-100 relative reveal-right",children:u?E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-8 animate-fade-in",children:[E.jsx("div",{className:"w-24 h-24 bg-teal-100 text-[#07847F] rounded-full flex items-center justify-center text-5xl",children:E.jsx("i",{className:"fa-solid fa-paper-plane"})}),E.jsx("h2",{className:"text-3xl font-black text-sky-950 tracking-tighter uppercase",children:"Message Sent!"}),E.jsx("p",{className:"text-slate-500 max-w-xs mx-auto",children:"Thank you for reaching out. Our team will get back to you within 24 hours."}),E.jsx("button",{onClick:()=>h(!1),className:"text-[#07847F] font-black text-xs uppercase tracking-widest hover:underline",children:"Send another message"})]}):E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:"text-3xl font-black text-sky-950 mb-10 tracking-tighter uppercase",children:"Direct Message"}),E.jsxs("form",{onSubmit:d,className:"space-y-8",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Your Full Name"}),E.jsx("input",{required:!0,name:"name",value:t.name,onChange:m,type:"text",className:"w-full bg-slate-50 border border-slate-50 p-5 rounded-2xl focus:ring-2 focus:ring-[#07847F] focus:bg-white outline-none transition-all font-bold text-sky-950",placeholder:"e.g. Abdullah Khan"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Email Address"}),E.jsx("input",{required:!0,name:"email",value:t.email,onChange:m,type:"email",className:"w-full bg-slate-50 border border-slate-50 p-5 rounded-2xl focus:ring-2 focus:ring-[#07847F] focus:bg-white outline-none transition-all font-bold text-sky-950",placeholder:"abdullah@example.com"})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Subject"}),E.jsx("input",{required:!0,name:"subject",value:t.subject,onChange:m,type:"text",className:"w-full bg-slate-50 border border-slate-50 p-5 rounded-2xl focus:ring-2 focus:ring-[#07847F] focus:bg-white outline-none transition-all font-bold text-sky-950",placeholder:"Inquiry about Orphan Sponsorship"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"How can we help?"}),E.jsx("textarea",{required:!0,name:"message",value:t.message,onChange:m,rows:6,className:"w-full bg-slate-50 border border-slate-50 p-5 rounded-2xl focus:ring-2 focus:ring-[#07847F] focus:bg-white outline-none resize-none transition-all font-bold text-sky-950",placeholder:"Share your thoughts here..."})]}),E.jsxs("button",{disabled:a,className:"w-full bg-sky-900 text-white py-6 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-sky-800 shadow-2xl transition-all disabled:opacity-50 flex items-center justify-center gap-4",children:[a?E.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}):E.jsx("i",{className:"fa-solid fa-paper-plane"}),"Send Your Message"]})]})]})})]})})})},s9=()=>{const[n,e]=ne.useState({gold:0,silver:0,cash:0,receivables:0,shares:0,liabilities:0}),[t,r]=ne.useState(0);ne.useEffect(()=>{const u=n.gold+n.silver+n.cash+n.receivables+n.shares-n.liabilities,h=u>0?u*.025:0;r(h)},[n]);const a=l=>{const{name:u,value:h}=l.target;e(d=>({...d,[u]:parseFloat(h)||0}))};return E.jsx("div",{className:"py-20 bg-slate-50 min-h-screen",children:E.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[E.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl overflow-hidden flex flex-col md:flex-row border border-slate-100",children:[E.jsxs("div",{className:"md:w-3/5 p-8 lg:p-14 space-y-10",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-teal-600 font-black uppercase tracking-[0.4em] text-[9px] mb-4 block",children:"OBLIGATORY CHARITY"}),E.jsx("h1",{className:"text-3xl md:text-5xl font-black text-sky-950 tracking-tighter uppercase leading-none",children:"Zakat Calculator"}),E.jsx("p",{className:"text-slate-500 text-sm mt-4 font-medium italic",children:"Fulfill your pillar of Islam with accuracy and transparency."})]}),E.jsx("div",{className:"space-y-8",children:E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[{name:"cash",label:"Cash in Bank/Home"},{name:"gold",label:"Gold (Value in PKR)"},{name:"silver",label:"Silver (Value in PKR)"},{name:"shares",label:"Business Investments"},{name:"receivables",label:"Business Receivables"},{name:"liabilities",label:"Total Liabilities"}].map(l=>E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:l.label}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{name:l.name,type:"number",onChange:a,className:"w-full bg-slate-50 border border-slate-100 p-5 rounded-2xl focus:ring-2 focus:ring-teal-500 focus:bg-white outline-none transition-all font-bold text-sky-950 pr-12",placeholder:"0.00"}),E.jsx("span",{className:"absolute right-5 top-1/2 -translate-y-1/2 text-[9px] font-black text-slate-300",children:"PKR"})]})]},l.name))})})]}),E.jsxs("div",{className:"md:w-2/5 bg-sky-900 text-white p-10 md:p-14 flex flex-col justify-between relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-teal-500 rounded-full blur-[120px] opacity-20 -translate-y-1/2 translate-x-1/2"}),E.jsxs("div",{className:"space-y-10 relative z-10",children:[E.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center text-3xl text-teal-400 border border-white/5",children:E.jsx("i",{className:"fa-solid fa-calculator"})}),E.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tighter",children:["Your Total ",E.jsx("br",{}),E.jsx("span",{className:"text-teal-400 italic font-serif",children:"Payable Zakat"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-400",children:"Calculated Amount (2.5%)"}),E.jsxs("p",{className:"text-5xl md:text-6xl font-black text-teal-400 leading-none break-all",children:[E.jsx("span",{className:"text-2xl mr-2",children:"PKR"}),t.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),E.jsx("p",{className:"text-xs text-slate-400 leading-relaxed font-medium",children:"* Based on the standard 2.5% rate. Ensure your net wealth meets the Nisab threshold."})]}),E.jsx("div",{className:"pt-16 relative z-10",children:E.jsx("button",{className:"w-full bg-orange-600 hover:bg-orange-700 text-white py-6 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all shadow-2xl shadow-sky-950",children:"DONATE YOUR ZAKAT NOW"})})]})]}),E.jsxs("div",{className:"mt-12 bg-white rounded-[2rem] border border-slate-100 p-10 shadow-sm flex flex-col md:flex-row gap-8 items-center",children:[E.jsx("div",{className:"w-16 h-16 bg-teal-50 text-teal-600 rounded-2xl flex items-center justify-center text-3xl shrink-0",children:E.jsx("i",{className:"fa-solid fa-circle-info"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-black text-sky-950 mb-3 uppercase text-sm tracking-widest",children:"Nisab Guidance"}),E.jsx("p",{className:"text-sm text-slate-500 leading-relaxed font-medium",children:"Zakat is mandatory if your net wealth exceeds the value of 87.48 grams of gold or 612.36 grams of silver. Please consult with a local scholar for specific advice regarding your portfolio."})]})]})]})})},a9=({data:n})=>{const{id:e}=US(),t=n.posts.find(r=>r.id===e);return t?E.jsx("div",{className:"bg-slate-50 min-h-screen py-12",children:E.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[E.jsxs(At,{to:"/",className:"inline-flex items-center text-teal-600 font-bold mb-8 hover:gap-2 transition-all",children:[E.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," BACK TO HOME"]}),E.jsxs("article",{className:"bg-white rounded-3xl overflow-hidden shadow-sm",children:[E.jsx("img",{src:t.image,alt:t.title,className:"w-full h-96 object-cover"}),E.jsxs("div",{className:"p-8 lg:p-12 space-y-6",children:[E.jsxs("div",{className:"flex items-center gap-4 text-xs font-bold uppercase tracking-widest",children:[E.jsx("span",{className:"bg-teal-100 text-teal-600 px-3 py-1 rounded-full",children:t.category}),E.jsx("span",{className:"text-slate-400",children:t.date})]}),E.jsx("h1",{className:"text-4xl font-extrabold text-sky-950 leading-tight",children:t.title}),E.jsxs("div",{className:"prose prose-slate max-w-none text-slate-600 leading-relaxed text-lg",children:[t.content||t.excerpt,E.jsx("p",{className:"mt-6",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),E.jsx("p",{className:"mt-4",children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})]})]}),E.jsxs("div",{className:"mt-12 bg-sky-900 text-white p-8 rounded-3xl flex flex-col md:flex-row items-center justify-between gap-6",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"text-xl font-bold",children:"Help us share the impact"}),E.jsx("p",{className:"text-slate-300 text-sm",children:"Your awareness counts as much as your donation."})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{className:"bg-white/10 p-4 rounded-xl hover:bg-white/20 transition-all",children:E.jsx("i",{className:"fa-brands fa-facebook"})}),E.jsx("button",{className:"bg-white/10 p-4 rounded-xl hover:bg-white/20 transition-all",children:E.jsx("i",{className:"fa-brands fa-twitter"})}),E.jsx("button",{className:"bg-white/10 p-4 rounded-xl hover:bg-white/20 transition-all",children:E.jsx("i",{className:"fa-solid fa-link"})})]})]})]})}):E.jsx("div",{className:"p-20 text-center",children:"Post not found"})},l9=[{id:"1",title:"Orphan Care Program",description:"Providing safe shelter, quality education, and nutritious food to children without guardians.",longDescription:"Our orphan care program currently houses over 50 children in a modern facility. We focus on holistic development including private schooling, sports, and religious education.",image:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=2070&auto=format&fit=crop",icon:"fa-child"},{id:"2",title:"Clean Water Initiative",description:"Installing solar-powered pumps and deep wells in water-scarce regions of Tharparkar and Balochistan.",longDescription:"AASRA has successfully installed over 150 water wells, providing clean drinking water to remote villages where women previously walked daily for water.",image:"https://images.unsplash.com/photo-1594498653385-d5172c532c00?q=80&w=2070&auto=format&fit=crop",icon:"fa-faucet-drip"},{id:"3",title:"Food Distribution",description:"Weekly meal drives and monthly ration packs for vulnerable families living below the poverty line.",longDescription:"We distribute hot meals every Friday and provide monthly grocery packs to 500+ registered families, ensuring no child goes to bed hungry.",image:"https://images.unsplash.com/photo-1593113598332-cd288d649433?q=80&w=2070&auto=format&fit=crop",icon:"fa-bowl-food"},{id:"4",title:"Women Empowerment",description:"Skill training centers teaching sewing and digital literacy to help widows gain financial independence.",longDescription:"Our centers offer 6-month certified courses in tailoring and computer skills, followed by assistance in starting small home-based businesses.",image:"https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=2070&auto=format&fit=crop",icon:"fa-hand-holding-heart"}],o9=[{id:"1",title:"New Water Well Inaugurated in Tharparkar",excerpt:"Witness the joy of 200 families receiving clean water for the first time in decades.",content:"Our latest solar-powered water pump is now operational, serving a community that previously had to travel 5km for brackish water.",image:"https://images.unsplash.com/photo-1541252260730-0412e8e2108e?q=80&w=2074&auto=format&fit=crop",date:"Oct 24, 2023",category:"Water"},{id:"2",title:"Ramadan Ration Drive 2024: Our Goal",excerpt:"Help us reach 2,000 families this holy month. Your Zakat can feed a family for a month.",content:"We are preparing ration packs containing flour, oil, sugar, and pulses to be distributed across five districts.",image:"https://images.unsplash.com/photo-1518391846015-55a9cc003b25?q=80&w=2070&auto=format&fit=crop",date:"Nov 10, 2023",category:"Food"},{id:"3",title:"Winter Relief: Distributing Blankets",excerpt:"Our team reached remote areas of Balochistan to provide warmth to those in need.",content:"Over 1,000 high-quality blankets were distributed to families living in makeshift shelters during the cold snap.",image:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=2070&auto=format&fit=crop",date:"Dec 15, 2023",category:"Relief"},{id:"4",title:"Women Graduating from Vocational Center",excerpt:"20 widows successfully completed our six-month tailoring and embroidery course.",content:"Each graduate was gifted a sewing machine to start her own business and support her children with dignity.",image:"https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=2070&auto=format&fit=crop",date:"Jan 05, 2024",category:"Empowerment"}],u9=[{id:"1",url:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=2070&auto=format&fit=crop",category:"Orphans",title:"Eid Celebrations"},{id:"2",url:"https://images.unsplash.com/photo-1594498653385-d5172c532c00?q=80&w=2070&auto=format&fit=crop",category:"Water",title:"Deep Well Installation"},{id:"3",url:"https://images.unsplash.com/photo-1593113598332-cd288d649433?q=80&w=2070&auto=format&fit=crop",category:"Food",title:"Dastarkhwan Activity"},{id:"4",url:"https://images.unsplash.com/photo-1509062522246-3755977927d7?q=80&w=2070&auto=format&fit=crop",category:"Orphans",title:"Classroom Learning"},{id:"5",url:"https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=2070&auto=format&fit=crop",category:"Women",title:"Sewing Workshop"},{id:"6",url:"https://images.unsplash.com/photo-1511949863663-92c5c06824c2?q=80&w=2070&auto=format&fit=crop",category:"Water",title:"Solar Pump Project"}],c9=[{id:"1",name:"Dr. Ahmad Salman",role:"Chief Patron",bio:"Dedicated to social welfare for 25 years, overseeing the strategic vision of AASRA.",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=2000&auto=format&fit=crop"},{id:"2",name:"Sarah Khan",role:"President",bio:"Leading operational excellence and community engagement programs since 2018.",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=2000&auto=format&fit=crop"},{id:"3",name:"Usman Ali",role:"Board Director",bio:"Financial strategist ensuring transparency and maximum impact of every donor cent.",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=2000&auto=format&fit=crop"},{id:"4",name:"Zoya Baig",role:"Project Manager",bio:"Oversees on-ground project execution and community relations in remote areas.",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=2000&auto=format&fit=crop"},{id:"5",name:"Bilal Hassan",role:"Head of Logistics",bio:"Expert in supply chain management for food and relief distribution across Pakistan.",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=2000&auto=format&fit=crop"},{id:"6",name:"Maria Qureshi",role:"Medical Advisor",bio:"Volunteer physician ensuring healthcare standards in our orphanages and camps.",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=2000&auto=format&fit=crop"}],h9=[{id:"1",url:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=2070&auto=format&fit=crop",title:"Building a Better Tomorrow",subtitle:"One Life at a Time. Your support creates hope."},{id:"2",url:"https://images.unsplash.com/photo-1594498653385-d5172c532c00?q=80&w=2070&auto=format&fit=crop",title:"Pure Water, Pure Hearts",subtitle:"Bringing life-giving resources to thirsty communities."},{id:"3",url:"https://images.unsplash.com/photo-1518391846015-55a9cc003b25?q=80&w=2070&auto=format&fit=crop",title:'"Charity does not decrease wealth"',subtitle:"Investing in the hereafter. Your Saddaqa changes lives forever.  Sahih Muslim"}],f9=[{id:"1",imageUrl:"https://images.unsplash.com/photo-1518391846015-55a9cc003b25?q=80&w=2070&auto=format&fit=crop",title:"Ramadan 2024: Feed a Family",link:"/donate"},{id:"2",imageUrl:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=2070&auto=format&fit=crop",title:"Orphan Education Fund",link:"/programs/1"}],d9=[{id:"1",title:"Excellence in Welfare Award 2023",text:"AASRA was recognized for its outstanding contribution to community uplift and transparent operations by the National Charity Board.",image:"https://images.unsplash.com/photo-1567427017947-545c5f8d16ad?q=80&w=1000&auto=format&fit=crop",date:"Dec 2023"},{id:"2",title:"150th Water Well Milestone",text:"In mid-2023, we successfully inaugurated our 150th deep water well, providing clean water to over 30,000 residents across Pakistan.",image:"https://images.unsplash.com/photo-1594498653385-d5172c532c00?q=80&w=1000&auto=format&fit=crop",date:"July 2023"},{id:"3",title:"Holistic Orphanage Expansion",text:"We doubled our capacity to house 50+ children in a new purpose-built facility equipped with digital labs and libraries.",image:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?q=80&w=1000&auto=format&fit=crop",date:"March 2023"}],m9=({data:n,setData:e})=>{var K;const[t,r]=ne.useState(!1),[a,l]=ne.useState("dashboard"),[u,h]=ne.useState(""),[d,m]=ne.useState(!1),[y,_]=ne.useState(null),[v,b]=ne.useState(""),[D,M]=ne.useState([]);ne.useEffect(()=>{if(t){const S=al.collection("messages").orderBy("timestamp","desc").onSnapshot(N=>{M(N.docs.map(C=>({id:C.id,...C.data()})))});return()=>S()}},[t]);const V=()=>u==="@@Sra80"?r(!0):alert("Wrong Password"),z=async(S,N)=>{window.confirm("Delete this item from Cloud?")&&await al.collection(N).doc(S).delete()},ee=(S,N=null)=>{b(S),_(N||{}),m(!0)},q=async S=>{S.preventDefault();const N=v;try{if(y.id){const{id:C,...U}=y;await al.collection(N).doc(C).set(U,{merge:!0})}else await al.collection(N).add({...y,timestamp:oR()});m(!1)}catch(C){alert("Error saving: "+C)}},me=async()=>{if(!window.confirm("This will push all mock data to your live Firebase database. Continue?"))return;const S={programs:l9,posts:o9,gallery:u9,team:c9,sliders:h9,campaigns:f9,achievements:d9,volunteers:[{name:"Ali Raza",role:"Volunteer",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=2000&auto=format&fit=crop"},{name:"Fatima Ahmed",role:"Volunteer",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=2000&auto=format&fit=crop"}],banners:[{type:"zakat",title:"Zakat Fund",text:"Zakat is a bridge to paradise. Purify your wealth and uplift the Ummah by contributing to our 100% transparent Zakat Fund.",link:"/zakat"},{type:"hadith",title:"Surah Al-Baqarah 2:261",text:"The example of those who spend their wealth in the way of Allah is like a seed of grain which grows seven ears; in each ear is a hundred grains.",link:""},{type:"volunteer",title:"Volunteer Banner",text:"Join our global caravan of khair. Your time and skills can bring hope to thousands. We need passionate individuals for our on-ground projects.",link:"/contact"}]};for(const[N,C]of Object.entries(S))for(const U of C){const{id:k,...L}=U;await al.collection(N).add(L)}alert("Database Seeded Successfully!")};if(!t)return E.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-slate-50 px-6",children:E.jsxs("div",{className:"bg-white p-12 rounded-[3rem] shadow-2xl max-w-md w-full text-center space-y-8",children:[E.jsx("div",{className:"w-20 h-20 bg-sky-900 rounded-3xl mx-auto flex items-center justify-center text-white text-4xl shadow-xl",children:E.jsx("i",{className:"fa-solid fa-shield-halved"})}),E.jsx("h2",{className:"text-3xl font-black text-sky-950 uppercase",children:"CMS LOGIN"}),E.jsx("input",{type:"password",placeholder:"Password",value:u,onChange:S=>h(S.target.value),className:"w-full p-5 rounded-2xl bg-slate-50 border-2 outline-none focus:border-teal-500 font-bold"}),E.jsx("button",{onClick:V,className:"w-full bg-sky-900 text-white py-5 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-sky-800 transition-all",children:"ACCESS PANEL"})]})});const fe=[{id:"dashboard",icon:"fa-chart-pie",label:"Dashboard"},{id:"messages",icon:"fa-envelope",label:"Messages"},{id:"banners",icon:"fa-bullhorn",label:"Section Banners"},{id:"volunteers",icon:"fa-user-plus",label:"Volunteers"},{id:"sliders",icon:"fa-panorama",label:"Hero Sliders"},{id:"campaigns",icon:"fa-flag",label:"Campaigns"},{id:"programs",icon:"fa-list-check",label:"Impact Areas"},{id:"posts",icon:"fa-newspaper",label:"News/Blog"},{id:"team",icon:"fa-users",label:"Team Members"},{id:"gallery",icon:"fa-images",label:"Gallery"},{id:"achievements",icon:"fa-award",label:"Achievements"}];return E.jsxs("div",{className:"bg-slate-50 min-h-screen flex",children:[E.jsxs("aside",{className:"w-72 bg-sky-950 text-white flex flex-col fixed h-full hidden lg:flex",children:[E.jsx("div",{className:"p-8 border-b border-white/10 font-black text-xl tracking-widest",children:"AASRA CMS"}),E.jsx("nav",{className:"flex-grow p-6 space-y-2",children:fe.map(S=>E.jsxs("button",{onClick:()=>l(S.id),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl font-bold transition-all ${a===S.id?"bg-teal-500 text-white":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[E.jsx("i",{className:`fa-solid ${S.icon} w-6`})," ",S.label]},S.id))}),E.jsx("button",{onClick:()=>r(!1),className:"m-6 p-4 text-red-400 font-bold hover:bg-red-400/10 rounded-2xl text-center border border-red-400/20",children:"LOGOUT"})]}),E.jsxs("main",{className:"flex-grow lg:ml-72 p-12",children:[E.jsxs("div",{className:"flex justify-between items-center mb-12",children:[E.jsx("h1",{className:"text-4xl font-black text-sky-950 uppercase tracking-tighter",children:a.replace(/([A-Z])/g," $1")}),E.jsxs("div",{className:"flex gap-4",children:[a==="dashboard"&&E.jsx("button",{onClick:me,className:"bg-orange-600 text-white px-8 py-4 rounded-2xl font-black uppercase text-xs shadow-xl",children:"Push Mock Data to Cloud"}),a!=="dashboard"&&a!=="messages"&&E.jsxs("button",{onClick:()=>ee(a),className:"bg-teal-500 text-white px-8 py-4 rounded-2xl font-black uppercase text-xs shadow-xl",children:[E.jsx("i",{className:"fa-solid fa-plus mr-2"})," Add New"]})]})]}),a==="dashboard"?E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100",children:[E.jsx("p",{className:"text-4xl font-black text-sky-950",children:n.programs.length}),E.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mt-2",children:"Active Programs"})]}),E.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100",children:[E.jsx("p",{className:"text-4xl font-black text-sky-950",children:D.length}),E.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mt-2",children:"Cloud Enquiries"})]}),E.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100",children:[E.jsx("p",{className:"text-4xl font-black text-sky-950",children:n.campaigns.length}),E.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mt-2",children:"Active Campaigns"})]})]}):a==="messages"?E.jsx("div",{className:"space-y-6",children:D.map(S=>{var N;return E.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100 relative group",children:[E.jsx("div",{className:"absolute left-0 top-0 w-2 h-full bg-orange-500"}),E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsxs("h3",{className:"text-xl font-black text-sky-950 uppercase",children:[S.name," ",E.jsxs("span",{className:"text-xs lowercase text-slate-400 ml-2",children:["(",S.email,")"]})]}),E.jsx("button",{onClick:()=>z(S.id,"messages"),className:"text-red-400 hover:text-red-600",children:E.jsx("i",{className:"fa-solid fa-trash"})})]}),E.jsxs("p",{className:"bg-slate-50 p-6 rounded-2xl text-slate-600 italic",children:['"',S.message,'"']}),E.jsxs("div",{className:"mt-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Sent: ",(N=S.timestamp)==null?void 0:N.toDate().toLocaleString()]})]},S.id)})}):E.jsx("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-6 text-[10px] font-black uppercase tracking-widest",children:a==="banners"?"Type":"Image"}),E.jsx("th",{className:"p-6 text-[10px] font-black uppercase tracking-widest",children:"Title / Details"}),E.jsx("th",{className:"p-6 text-[10px] font-black uppercase tracking-widest text-right",children:"Actions"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-50",children:(K=n[a])==null?void 0:K.map(S=>{var N;return E.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[E.jsx("td",{className:"p-6",children:a==="banners"?E.jsx("span",{className:"bg-teal-50 text-teal-600 px-3 py-1 rounded-lg text-[10px] font-black uppercase",children:S.type}):E.jsx("img",{src:S.image||S.url||S.imageUrl,className:"w-16 h-16 object-cover rounded-xl"})}),E.jsxs("td",{className:"p-6",children:[E.jsx("p",{className:"font-black text-sky-950 uppercase",children:S.title||S.name}),E.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:S.category||S.role||((N=S.text)==null?void 0:N.slice(0,50))||"Content"})]}),E.jsxs("td",{className:"p-6 text-right space-x-2",children:[E.jsx("button",{onClick:()=>ee(a,S),className:"w-10 h-10 bg-slate-100 rounded-xl text-sky-600 hover:bg-sky-600 hover:text-white transition-all",children:E.jsx("i",{className:"fa-solid fa-pen"})}),E.jsx("button",{onClick:()=>z(S.id,a),className:"w-10 h-10 bg-red-50 rounded-xl text-red-600 hover:bg-red-600 hover:text-white transition-all",children:E.jsx("i",{className:"fa-solid fa-trash"})})]})]},S.id)})})]})})]}),d&&E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-sky-950/80 backdrop-blur-sm",onClick:()=>m(!1)}),E.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl relative z-10 p-10",children:[E.jsxs("h3",{className:"text-2xl font-black text-sky-950 uppercase mb-8",children:[y.id?"Edit":"Create"," ",a]}),E.jsxs("form",{onSubmit:q,className:"space-y-6",children:[a==="banners"&&E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Type (zakat, hadith, volunteer)"}),E.jsx("input",{required:!0,value:y.type||"",onChange:S=>_({...y,type:S.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border outline-none font-bold text-sky-950"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Title / Name"}),E.jsx("input",{required:!0,value:y.title||y.name||"",onChange:S=>_({...y,[a==="team"||a==="volunteers"?"name":"title"]:S.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border outline-none font-bold text-sky-950"})]}),a!=="banners"&&E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Image URL"}),E.jsx("input",{required:!0,value:y.image||y.url||y.imageUrl||"",onChange:S=>_({...y,[a==="gallery"||a==="sliders"?"url":a==="campaigns"?"imageUrl":"image"]:S.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border outline-none font-bold text-sky-950"})]}),(a==="banners"||a==="programs"||a==="posts")&&E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Content / Text"}),E.jsx("textarea",{rows:4,value:y.text||y.description||y.excerpt||"",onChange:S=>_({...y,[a==="banners"?"text":a==="programs"?"description":"excerpt"]:S.target.value}),className:"w-full p-4 rounded-xl bg-slate-50 border outline-none font-bold text-sky-950 resize-none"})]}),E.jsx("button",{type:"submit",className:"w-full bg-sky-900 text-white py-5 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-sky-800 transition-all mt-4",children:"Save to Cloud"})]})]})]})]})},p9=()=>{const{pathname:n}=ls();return ne.useEffect(()=>{window.scrollTo(0,0)},[n]),null},g9="/assets/logo-Dz_6TfjX.png",y9=()=>E.jsx("div",{className:"bg-sky-950 text-white py-2 hidden md:block border-b border-white/5 relative z-[60]",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 flex justify-between items-center text-[10px] font-normal tracking-[0.2em] uppercase",children:[E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsx("span",{className:"opacity-60 lowercase italic font-light tracking-widest",children:"connecting hearts digitally "}),E.jsxs("div",{className:"flex gap-5",children:[E.jsx("a",{href:"https://www.facebook.com/aasra.welfare.s",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#07847F] transition-all opacity-80 hover:opacity-100",children:E.jsx("i",{className:"fa-brands fa-facebook-f"})}),E.jsx("a",{href:"https://www.instagram.com/aasrawelfare_society",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#07847F] transition-all opacity-80 hover:opacity-100",children:E.jsx("i",{className:"fa-brands fa-instagram"})}),E.jsx("a",{href:"https://www.linkedin.com/company/aasra-welfare-society-lahore",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#07847F] transition-all opacity-80 hover:opacity-100",children:E.jsx("i",{className:"fa-brands fa-linkedin-in"})}),E.jsx("a",{href:"https://www.tiktok.com/@aasra_welfare_society",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#07847F] transition-all opacity-80 hover:opacity-100",children:E.jsx("i",{className:"fa-brands fa-tiktok"})}),E.jsx("a",{href:"https://www.youtube.com/@aasra_welfare_society",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#07847F] transition-all opacity-80 hover:opacity-100",children:E.jsx("i",{className:"fa-brands fa-youtube"})})]})]}),E.jsxs("div",{className:"flex items-center gap-8 font-light",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-shield-check text-[#07847F]"}),E.jsx("span",{className:"text-[#FFD700] font-bold uppercase",children:"100% Tax Exempted NGO"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-envelope text-[#07847F]/70"}),E.jsx("span",{className:"lowercase",children:Xn.email})]})]})]})}),_9=()=>{const[n,e]=ne.useState(!1),t=ls(),r=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Programs",path:"/programs"},{name:"Gallery",path:"/gallery"},{name:"Zakat",path:"/zakat"},{name:"Contact",path:"/contact"}];return E.jsxs("div",{className:"fixed top-0 left-0 w-full z-50",children:[E.jsx(y9,{}),E.jsxs("nav",{className:"bg-white/95 backdrop-blur-md shadow-lg border-b border-slate-100",children:[E.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:E.jsxs("div",{className:"flex justify-between h-20 md:h-24",children:[E.jsxs(At,{to:"/",className:"flex items-center space-x-3 group",children:[E.jsx("img",{src:g9,alt:"AASRA Logo",className:"w-10 h-10 md:w-16 md:h-16 object-contain transition-all group-hover:scale-110"}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-sky-900 font-medium text-base md:text-2xl uppercase tracking-widest font-sans",children:"Aasra Welfare"}),E.jsx("span",{className:"text-[#07847F] text-[10px] md:text-[12px] font-black tracking-[0.4em]",children:"SOCIETY"})]})]}),E.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[r.map(a=>E.jsxs(At,{to:a.path,className:`text-[12px] font-bold uppercase tracking-[0.2em] transition-all hover:text-[#07847F] relative py-2 ${t.pathname===a.path?"text-[#07847F]":"text-slate-500"}`,children:[a.name,t.pathname===a.path&&E.jsx("span",{className:"absolute -bottom-1 left-0 h-1 bg-[#07847F] w-full"})]},a.name)),E.jsxs(At,{to:"/donate",className:"group flex items-center gap-3 bg-orange-600 text-white px-8 py-4 rounded-2xl text-[14px] font-black tracking-widest shadow-2xl shadow-orange-100 hover:shadow-orange-400 hover:-translate-y-1 transition-all uppercase",children:[E.jsx("i",{className:"fa-solid fa-heart text-white animate-pulse"}),"DONATE NOW"]})]}),E.jsx("button",{onClick:()=>e(!n),className:"md:hidden text-sky-900 p-2 text-2xl",children:E.jsx("i",{className:`fa-solid ${n?"fa-xmark":"fa-bars-staggered"}`})})]})}),n&&E.jsxs("div",{className:"md:hidden bg-white border-t border-slate-100 shadow-2xl px-6 py-12 space-y-4 text-center",children:[r.map(a=>E.jsx(At,{to:a.path,onClick:()=>e(!1),className:"block py-4 text-xs font-black uppercase tracking-widest text-slate-600",children:a.name},a.name)),E.jsx(At,{to:"/donate",onClick:()=>e(!1),className:"block w-full bg-orange-600 text-white py-6 rounded-2xl font-black tracking-widest uppercase text-[10px]",children:"DONATE NOW"})]})]})]})},E9=()=>E.jsxs("footer",{className:"bg-sky-950 text-slate-300 pt-32 pb-12 border-t-4 border-[#07847F]",children:[E.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 grid grid-cols-1 md:grid-cols-4 gap-16 mb-24",children:[E.jsxs("div",{className:"space-y-8",children:[E.jsx("h3",{className:"text-white font-black text-3xl tracking-tighter uppercase",children:"AASRA Welfare"}),E.jsx("p",{className:"text-base leading-relaxed text-slate-400 font-medium",children:"Serving humanity with excellence and Ihsan. A 100% transparent and verified NGO in Pakistan."}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("a",{href:"https://www.facebook.com/aasra.welfare.s",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center hover:bg-[#07847F] transition-all cursor-pointer",children:E.jsx("i",{className:"fa-brands fa-facebook-f"})}),E.jsx("a",{href:"https://www.instagram.com/aasrawelfare_society",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center hover:bg-[#07847F] transition-all cursor-pointer",children:E.jsx("i",{className:"fa-brands fa-instagram"})}),E.jsx("a",{href:"https://www.linkedin.com/company/aasra-welfare-society-lahore",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center hover:bg-[#07847F] transition-all cursor-pointer",children:E.jsx("i",{className:"fa-brands fa-linkedin-in"})}),E.jsx("a",{href:"https://www.tiktok.com/@aasra_welfare_society",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center hover:bg-[#07847F] transition-all cursor-pointer",children:E.jsx("i",{className:"fa-brands fa-tiktok"})}),E.jsx("a",{href:"https://www.youtube.com/@aasra_welfare_society",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center hover:bg-[#07847F] transition-all cursor-pointer",children:E.jsx("i",{className:"fa-brands fa-youtube"})})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-[#07847F] font-black text-[10px] uppercase tracking-[0.4em] mb-10",children:"Navigation"}),E.jsxs("ul",{className:"space-y-4 text-sm font-bold uppercase tracking-widest",children:[E.jsx("li",{children:E.jsx(At,{to:"/about",children:"Our History"})}),E.jsx("li",{children:E.jsx(At,{to:"/programs",children:"Projects"})}),E.jsx("li",{children:E.jsx(At,{to:"/gallery",children:"Gallery"})}),E.jsx("li",{children:E.jsx(At,{to:"/donate",className:"text-orange-400",children:"Donate Now"})})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-[#07847F] font-black text-[10px] uppercase tracking-[0.4em] mb-10",children:"Contact"}),E.jsxs("ul",{className:"space-y-6 text-sm font-medium",children:[E.jsxs("li",{className:"flex gap-4",children:[E.jsx("i",{className:"fa-solid fa-location-dot text-[#07847F]"})," ",E.jsx("span",{children:Xn.address})]}),E.jsxs("li",{className:"flex gap-4",children:[E.jsx("i",{className:"fa-solid fa-phone text-[#07847F]"})," ",E.jsx("span",{children:Xn.phone})]}),E.jsxs("li",{className:"flex gap-4",children:[E.jsx("i",{className:"fa-solid fa-phone text-[#07847F]"})," ",E.jsx("span",{children:Xn.phone1})]}),E.jsxs("li",{className:"flex gap-4",children:[E.jsx("i",{className:"fa-solid fa-email text-[#07847F]"})," ",E.jsx("span",{children:Xn.email})]})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-[#07847F] font-black text-[10px] uppercase tracking-[0.4em] mb-10",children:"Registration"}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-shield-check text-[#07847F]"}),E.jsx("span",{className:"text-[#FFD700] font-bold uppercase",children:"100% Tax Exempted NGO"})]}),Xn.registrationNumbers.map((n,e)=>E.jsx("div",{className:"bg-sky-900/40 p-3 rounded-xl text-[11px] font- uppercase mb-2 border border-white/5 text-slate-300",children:n},e))]})]}),E.jsxs("div",{className:"text-center text-[9px] font-black tracking-[0.4em] text-slate-500",children:[" 2026 AASRA WELFARE SOCIETY. ALL RIGHTS RESERVED. ",E.jsx(At,{to:"/admin",className:"ml-4 hover:text-white",children:"STAFF ACCESS"})]})]});function x9(){const[n,e]=ne.useState({programs:[],posts:[],gallery:[],team:[],sliders:[],campaigns:[],achievements:[],volunteers:[],banners:[],stats:{orphans:0,waterWells:0,mealsServed:0,projects:0},chatMessages:[]}),[t,r]=ne.useState(!0);return ne.useEffect(()=>{const l=["programs","posts","gallery","team","sliders","campaigns","achievements","volunteers","banners"].map(u=>al.collection(u).onSnapshot(h=>{const d=h.docs.map(m=>({id:m.id,...m.data()}));e(m=>({...m,[u]:d}))}));return r(!1),()=>l.forEach(u=>u())},[]),t?E.jsx("div",{className:"h-screen flex items-center justify-center bg-sky-950 text-[#07847F] text-5xl font-black",children:"AASRA"}):E.jsxs(BrowserRouter,{children:[E.jsx(p9,{}),E.jsxs("div",{className:"min-h-screen flex flex-col font-sans",children:[E.jsx(_9,{}),E.jsx("main",{className:"flex-grow pt-[116px] md:pt-[132px]",children:E.jsxs(GO,{children:[E.jsx(Kr,{path:"/",element:E.jsx(Dj,{data:n})}),E.jsx(Kr,{path:"/about",element:E.jsx(Oj,{data:n})}),E.jsx(Kr,{path:"/programs",element:E.jsx(kj,{data:n})}),E.jsx(Kr,{path:"/programs/:id",element:E.jsx(e9,{data:n})}),E.jsx(Kr,{path:"/gallery",element:E.jsx(t9,{data:n})}),E.jsx(Kr,{path:"/donate",element:E.jsx(r9,{})}),E.jsx(Kr,{path:"/contact",element:E.jsx(i9,{data:n,setData:e})}),E.jsx(Kr,{path:"/zakat",element:E.jsx(s9,{})}),E.jsx(Kr,{path:"/posts/:id",element:E.jsx(a9,{data:n})}),E.jsx(Kr,{path:"/admin",element:E.jsx(m9,{data:n,setData:e})})]})}),E.jsx(E9,{}),E.jsx("div",{className:"fixed bottom-6 right-6 z-[100]",children:E.jsx("a",{href:`https://wa.me/${Xn.whatsapp}`,target:"_blank",className:"w-16 h-16 bg-green-500 text-white rounded-full shadow-2xl flex items-center justify-center text-3xl hover:scale-110 transition-transform",children:E.jsx("i",{className:"fa-brands fa-whatsapp"})})})]})]})}const cC=document.getElementById("root");if(!cC)throw new Error("Could not find root element to mount to");const v9=JD.createRoot(cC);v9.render(E.jsx(HD.StrictMode,{children:E.jsx(x9,{})}));
